{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/services/mappack.service.ts"],"sourcesContent":["import axios from 'axios';\nimport { Mappack } from '@/types/mappack.types';\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8080';\n\nexport const mappackService = {\n  getMappack: async (mappackId: string, playerId?: string): Promise<Mappack> => {\n    const url = playerId \n      ? `${API_BASE}/mappacks/${mappackId}?player_id=${playerId}`\n      : `${API_BASE}/mappacks/${mappackId}`;\n    \n    const response = await axios.get<Mappack>(url);\n    return response.data;\n  },\n\n};"],"names":[],"mappings":";;;AAAA;;AAGA,MAAM,WAAW,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAE7C,MAAM,iBAAiB;IAC5B,YAAY,OAAO,WAAmB;QACpC,MAAM,MAAM,WACR,GAAG,SAAS,UAAU,EAAE,UAAU,WAAW,EAAE,UAAU,GACzD,GAAG,SAAS,UAAU,EAAE,WAAW;QAEvC,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAU;QAC1C,OAAO,SAAS,IAAI;IACtB;AAEF","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/utils/mappack.utils.ts"],"sourcesContent":["import { MappackTrack, MappackTier } from '@/types/mappack.types';\n\nexport function groupTracksByTier(tracks: MappackTrack[]) {\n  return tracks.reduce((acc, mappackTrack) => {\n    const tierName = mappackTrack.tier?.name || \"Unranked\";\n    if (!acc[tierName]) {\n      acc[tierName] = {\n        tier: mappackTrack.tier,\n        tracks: [],\n      };\n    }\n    acc[tierName].tracks.push(mappackTrack);\n    return acc;\n  }, {} as Record<string, { tier: MappackTier | null; tracks: MappackTrack[] }>);\n}\n\nexport function sortTiersByPoints(\n  tracksByTier: Record<string, { tier: MappackTier | null; tracks: MappackTrack[] }>\n) {\n  return Object.keys(tracksByTier).sort((a, b) => {\n    const pointsA = tracksByTier[a].tier?.points || 0;\n    const pointsB = tracksByTier[b].tier?.points || 0;\n    return pointsA - pointsB;\n  });\n}"],"names":[],"mappings":";;;;AAEO,SAAS,kBAAkB,MAAsB;IACtD,OAAO,OAAO,MAAM,CAAC,CAAC,KAAK;QACzB,MAAM,WAAW,aAAa,IAAI,EAAE,QAAQ;QAC5C,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE;YAClB,GAAG,CAAC,SAAS,GAAG;gBACd,MAAM,aAAa,IAAI;gBACvB,QAAQ,EAAE;YACZ;QACF;QACA,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC;QAC1B,OAAO;IACT,GAAG,CAAC;AACN;AAEO,SAAS,kBACd,YAAkF;IAElF,OAAO,OAAO,IAAI,CAAC,cAAc,IAAI,CAAC,CAAC,GAAG;QACxC,MAAM,UAAU,YAAY,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU;QAChD,MAAM,UAAU,YAAY,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU;QAChD,OAAO,UAAU;IACnB;AACF","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/hooks/useTierScroll.ts"],"sourcesContent":["import { useEffect, useRef, useState, RefObject } from 'react';\nimport { MappackTrack, MappackTier } from '@/types/mappack.types';\n\nexport function useTierScroll(\n  tracksByTier: Record<string, { tier: MappackTier | null; tracks: MappackTrack[] }>\n) {\n  const [activeTier, setActiveTier] = useState<string>(\"\");\n  const tierRefs = useRef<{ [key: string]: HTMLDivElement | null }>({});\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setActiveTier(entry.target.getAttribute(\"data-tier\") || \"\");\n          }\n        });\n      },\n      { threshold: 0.5, rootMargin: \"-20% 0px -20% 0px\" }\n    );\n\n    Object.values(tierRefs.current).forEach((ref) => {\n      if (ref) observer.observe(ref);\n    });\n\n    return () => observer.disconnect();\n  }, [tracksByTier]);\n\n  const scrollToTier = (tier: string) => {\n    tierRefs.current[tier]?.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"start\",\n    });\n  };\n\n  return { activeTier, tierRefs, scrollToTier };\n}"],"names":[],"mappings":";;;AAAA;;AAGO,SAAS,cACd,YAAkF;IAElF,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IACrD,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAA4C,CAAC;IAEnE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,WAAW,IAAI,qBACnB,CAAC;YACC,QAAQ,OAAO,CAAC,CAAC;gBACf,IAAI,MAAM,cAAc,EAAE;oBACxB,cAAc,MAAM,MAAM,CAAC,YAAY,CAAC,gBAAgB;gBAC1D;YACF;QACF,GACA;YAAE,WAAW;YAAK,YAAY;QAAoB;QAGpD,OAAO,MAAM,CAAC,SAAS,OAAO,EAAE,OAAO,CAAC,CAAC;YACvC,IAAI,KAAK,SAAS,OAAO,CAAC;QAC5B;QAEA,OAAO,IAAM,SAAS,UAAU;IAClC,GAAG;QAAC;KAAa;IAEjB,MAAM,eAAe,CAAC;QACpB,SAAS,OAAO,CAAC,KAAK,EAAE,eAAe;YACrC,UAAU;YACV,OAAO;QACT;IACF;IAEA,OAAO;QAAE;QAAY;QAAU;IAAa;AAC9C","debugId":null}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/utils/time.utils.ts"],"sourcesContent":["export const millisecondsToTimeString = (ms: number): string => {\n  if (!ms || ms === 0) return \"\";\n\n  const totalSeconds = Math.floor(ms / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n  const milliseconds = ms % 1000;\n\n  return `${minutes}:${seconds.toString().padStart(2, \"0\")}:${milliseconds.toString().padStart(3, \"0\")}`;\n};\n\nexport const timeStringToMilliseconds = (timeString: string): number => {\n  if (!timeString || timeString.trim() === \"\") return 0;\n\n  try {\n    const parts = timeString.split(\":\");\n    if (parts.length !== 3) return 0;\n\n    const minutes = parseInt(parts[0]) || 0;\n    const seconds = parseInt(parts[1]) || 0;\n    const milliseconds = parseInt(parts[2]) || 0;\n\n    return minutes * 60 * 1000 + seconds * 1000 + milliseconds;\n  } catch (error) {\n    console.error(\"Error parsing time string:\", timeString, error);\n    return 0;\n  }\n};\n\nexport function calculateTimeDelta(personalBest: number, goalTime: number): {\n  delta: number;\n  isAchieved: boolean;\n  formatted: string;\n} {\n  const delta = personalBest - goalTime;\n  const isAchieved = delta <= 0;\n  \n  const absDelta = Math.abs(delta);\n  const totalSeconds = Math.floor(absDelta / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n  const milliseconds = absDelta % 1000;\n  \n  const sign = isAchieved ? '-' : '+';\n  const formatted = `${sign}${minutes}:${seconds.toString().padStart(2, '0')}:${milliseconds.toString().padStart(3, '0')}`;\n  \n  return {\n    delta,\n    isAchieved,\n    formatted,\n  };\n}\n\nexport function formatSecondsToMMSS(seconds: number): string {\n  const minutes = Math.floor(seconds / 60);\n  const secs = seconds % 60;\n  return `${minutes}:${secs.toString().padStart(2, '0')}`;\n}"],"names":[],"mappings":";;;;;;AAAO,MAAM,2BAA2B,CAAC;IACvC,IAAI,CAAC,MAAM,OAAO,GAAG,OAAO;IAE5B,MAAM,eAAe,KAAK,KAAK,CAAC,KAAK;IACrC,MAAM,UAAU,KAAK,KAAK,CAAC,eAAe;IAC1C,MAAM,UAAU,eAAe;IAC/B,MAAM,eAAe,KAAK;IAE1B,OAAO,GAAG,QAAQ,CAAC,EAAE,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,aAAa,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AACxG;AAEO,MAAM,2BAA2B,CAAC;IACvC,IAAI,CAAC,cAAc,WAAW,IAAI,OAAO,IAAI,OAAO;IAEpD,IAAI;QACF,MAAM,QAAQ,WAAW,KAAK,CAAC;QAC/B,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO;QAE/B,MAAM,UAAU,SAAS,KAAK,CAAC,EAAE,KAAK;QACtC,MAAM,UAAU,SAAS,KAAK,CAAC,EAAE,KAAK;QACtC,MAAM,eAAe,SAAS,KAAK,CAAC,EAAE,KAAK;QAE3C,OAAO,UAAU,KAAK,OAAO,UAAU,OAAO;IAChD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B,YAAY;QACxD,OAAO;IACT;AACF;AAEO,SAAS,mBAAmB,YAAoB,EAAE,QAAgB;IAKvE,MAAM,QAAQ,eAAe;IAC7B,MAAM,aAAa,SAAS;IAE5B,MAAM,WAAW,KAAK,GAAG,CAAC;IAC1B,MAAM,eAAe,KAAK,KAAK,CAAC,WAAW;IAC3C,MAAM,UAAU,KAAK,KAAK,CAAC,eAAe;IAC1C,MAAM,UAAU,eAAe;IAC/B,MAAM,eAAe,WAAW;IAEhC,MAAM,OAAO,aAAa,MAAM;IAChC,MAAM,YAAY,GAAG,OAAO,QAAQ,CAAC,EAAE,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,aAAa,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;IAExH,OAAO;QACL;QACA;QACA;IACF;AACF;AAEO,SAAS,oBAAoB,OAAe;IACjD,MAAM,UAAU,KAAK,KAAK,CAAC,UAAU;IACrC,MAAM,OAAO,UAAU;IACvB,OAAO,GAAG,QAAQ,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AACzD","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/hooks/useAddTrackForm.ts"],"sourcesContent":["import { useState } from 'react';\nimport { timeStringToMilliseconds } from '@/utils/time.utils';\nimport { TimeGoal } from '@/types/mappack.types';\n\nexport function useAddTrackForm() {\n  const [trackUuid, setTrackUuid] = useState(\"\");\n  const [tmxId, setTmxId] = useState(\"\");\n  const [tierId, setTierId] = useState<number | null>(null);\n  const [mapStyleName, setMapStyleName] = useState(\"\");\n  const [timeGoalValues, setTimeGoalValues] = useState<Record<number, string>>({});\n  const [selectedTab, setSelectedTab] = useState(\"uuid\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleTimeGoalChange = (timeGoalId: number, value: string) => {\n    setTimeGoalValues(prev => ({\n      ...prev,\n      [timeGoalId]: value\n    }));\n  };\n\n  const getTrackId = (): string => {\n    return selectedTab === \"uuid\" ? trackUuid : tmxId;\n  };\n\n  const getTimeGoalsWithValues = (timeGoals: TimeGoal[]) => {\n    return timeGoals\n      .filter(tg => tg.id) // Filter out items without id\n      .filter(tg => timeGoalValues[tg.id!] && timeGoalValues[tg.id!].trim() !== \"\")\n      .map(tg => ({\n        time_goal_id: tg.id!,\n        time: timeStringToMilliseconds(timeGoalValues[tg.id!]),\n      }));\n  };\n\n  const resetForm = () => {\n    setTrackUuid(\"\");\n    setTmxId(\"\");\n    setTierId(null);\n    setMapStyleName(\"\");\n    setTimeGoalValues({});\n  };\n\n  const validateForm = (): { isValid: boolean; error?: string } => {\n    const trackId = getTrackId();\n    if (!trackId) {\n      return { isValid: false, error: \"Track ID is required\" };\n    }\n    if (!mapStyleName) {\n      return { isValid: false, error: \"Map Style is required\" };\n    }\n    return { isValid: true };\n  };\n\n  return {\n    trackUuid,\n    tmxId,\n    tierId,\n    mapStyleName,\n    timeGoalValues,\n    selectedTab,\n    isLoading,\n    setTrackUuid,\n    setTmxId,\n    setTierId,\n    setMapStyleName,\n    setSelectedTab,\n    setIsLoading,\n    handleTimeGoalChange,\n    getTrackId,\n    getTimeGoalsWithValues,\n    resetForm,\n    validateForm,\n  };\n}"],"names":[],"mappings":";;;AAAA;AACA;;;AAGO,SAAS;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IACpD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA0B,CAAC;IAC9E,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,uBAAuB,CAAC,YAAoB;QAChD,kBAAkB,CAAA,OAAQ,CAAC;gBACzB,GAAG,IAAI;gBACP,CAAC,WAAW,EAAE;YAChB,CAAC;IACH;IAEA,MAAM,aAAa;QACjB,OAAO,gBAAgB,SAAS,YAAY;IAC9C;IAEA,MAAM,yBAAyB,CAAC;QAC9B,OAAO,UACJ,MAAM,CAAC,CAAA,KAAM,GAAG,EAAE,EAAE,8BAA8B;SAClD,MAAM,CAAC,CAAA,KAAM,cAAc,CAAC,GAAG,EAAE,CAAE,IAAI,cAAc,CAAC,GAAG,EAAE,CAAE,CAAC,IAAI,OAAO,IACzE,GAAG,CAAC,CAAA,KAAM,CAAC;gBACV,cAAc,GAAG,EAAE;gBACnB,MAAM,CAAA,GAAA,6HAAA,CAAA,2BAAwB,AAAD,EAAE,cAAc,CAAC,GAAG,EAAE,CAAE;YACvD,CAAC;IACL;IAEA,MAAM,YAAY;QAChB,aAAa;QACb,SAAS;QACT,UAAU;QACV,gBAAgB;QAChB,kBAAkB,CAAC;IACrB;IAEA,MAAM,eAAe;QACnB,MAAM,UAAU;QAChB,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAuB;QACzD;QACA,IAAI,CAAC,cAAc;YACjB,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAwB;QAC1D;QACA,OAAO;YAAE,SAAS;QAAK;IACzB;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/services/track.service.ts"],"sourcesContent":["import { Track } from '@/types/mappack.types';\nimport axios from 'axios';\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8080';\n\ninterface AddTrackToMappackParams {\n  mappackId: string;\n  trackId: string;\n  tierId: number | null;\n  mapStyle: string;\n}\n\ninterface TimeGoalValue {\n  time_goal_id: number;\n  time: number;\n}\n\nexport const trackService = {\n  addToMappack: async ({ mappackId, trackId, tierId, mapStyle }: AddTrackToMappackParams): Promise<void> => {\n    await axios.post(`${API_BASE}/mappacks/${mappackId}/tracks/${trackId}`, {\n      tier_id: tierId,\n      mapStyle: mapStyle,\n    });\n  },\n\n  addTimeGoals: async (\n    mappackId: string, \n    trackId: string, \n    timeGoals: TimeGoalValue[]\n  ): Promise<void> => {\n    if (timeGoals.length === 0) return;\n    \n    await axios.patch(\n      `${API_BASE}/mappacks/${mappackId}/tracks/${trackId}/timegoals`,\n      timeGoals\n    );\n  },\n\n    getTrackDetails: async (mappackId: string, trackId: string, playerId?: string): Promise<Track> => {\n    const url = playerId \n      ? `${API_BASE}/mappacks/${mappackId}/tracks/${trackId}?player_id=${playerId}`\n      : `${API_BASE}/mappacks/${mappackId}/tracks/${trackId}`;\n    \n    const response = await axios.get<Track>(url);\n    return response.data;\n  },\n\n  fetchPlayerRecords: async (trackId: string, playerId: string): Promise<void> => {\n    const response = await axios.post(\n      `${API_BASE}/tracks/${trackId}/records/${playerId}/fetch`\n    );\n    if (response.status !== 200) {\n      throw new Error(\"Failed to fetch records\");\n    }\n  },\n\n  // FETCH TRACKS RIGHT AFTER ADDING A NEW TRACK\n  // fetchRecords: async (trackId: string): Promise<void> => {\n  //   await axios.post(`${API_BASE}/tracks/${trackId}/records`);\n  // },\n}"],"names":[],"mappings":";;;AACA;;AAEA,MAAM,WAAW,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAc7C,MAAM,eAAe;IAC1B,cAAc,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAA2B;QACpF,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,SAAS,UAAU,EAAE,UAAU,QAAQ,EAAE,SAAS,EAAE;YACtE,SAAS;YACT,UAAU;QACZ;IACF;IAEA,cAAc,OACZ,WACA,SACA;QAEA,IAAI,UAAU,MAAM,KAAK,GAAG;QAE5B,MAAM,qIAAA,CAAA,UAAK,CAAC,KAAK,CACf,GAAG,SAAS,UAAU,EAAE,UAAU,QAAQ,EAAE,QAAQ,UAAU,CAAC,EAC/D;IAEJ;IAEE,iBAAiB,OAAO,WAAmB,SAAiB;QAC5D,MAAM,MAAM,WACR,GAAG,SAAS,UAAU,EAAE,UAAU,QAAQ,EAAE,QAAQ,WAAW,EAAE,UAAU,GAC3E,GAAG,SAAS,UAAU,EAAE,UAAU,QAAQ,EAAE,SAAS;QAEzD,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAQ;QACxC,OAAO,SAAS,IAAI;IACtB;IAEA,oBAAoB,OAAO,SAAiB;QAC1C,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAC/B,GAAG,SAAS,QAAQ,EAAE,QAAQ,SAAS,EAAE,SAAS,MAAM,CAAC;QAE3D,IAAI,SAAS,MAAM,KAAK,KAAK;YAC3B,MAAM,IAAI,MAAM;QAClB;IACF;AAMF","debugId":null}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/add-track/TrackIdInput.tsx"],"sourcesContent":["import { Input, Tab, Tabs } from \"@heroui/react\";\n\ninterface TrackIdInputProps {\n  selectedTab: string;\n  trackUuid: string;\n  tmxId: string;\n  onTabChange: (key: string) => void;\n  onUuidChange: (value: string) => void;\n  onTmxIdChange: (value: string) => void;\n  inputClassNames: any;\n}\n\nexport function TrackIdInput({\n  selectedTab,\n  trackUuid,\n  tmxId,\n  onTabChange,\n  onUuidChange,\n  onTmxIdChange,\n  inputClassNames,\n}: TrackIdInputProps) {\n  return (\n    <>\n      <div className=\"grid grid-cols-[auto_1fr] items-center gap-2\">\n        <p className=\"text-xl font-ruigslay\">Track Info</p>\n        <div className=\"flex-1 h-[5px] bg-neutral-300\"></div>\n      </div>\n\n      <Tabs\n        aria-label=\"Track ID Input Method\"\n        size=\"md\"\n        selectedKey={selectedTab}\n        onSelectionChange={(key) => onTabChange(key as string)}\n        classNames={{\n          tabList: \"bg-neutral-700\",\n          cursor: \"bg-blue-400\",\n          tab: \"data-[selected=true]:bg-neutral-400 data-[selected=true]:!text-white\",\n          tabContent: \"group-data-[selected=true]:text-white\",\n        }}\n      >\n        <Tab key=\"uuid\" title=\"UUID\">\n          <Input\n            label=\"Track UUID\"\n            placeholder=\"d2b8a048-209d-4cfa-b5a4-bc3e3cab3566\"\n            variant=\"bordered\"\n            value={trackUuid}\n            onValueChange={onUuidChange}\n            classNames={inputClassNames}\n          />\n        </Tab>\n        <Tab key=\"tmxid\" title=\"TMX ID\">\n          <Input\n            label=\"TMX ID\"\n            placeholder=\"170211\"\n            variant=\"bordered\"\n            value={tmxId}\n            onValueChange={onTmxIdChange}\n            classNames={inputClassNames}\n          />\n        </Tab>\n        <Tab key=\"search\" title=\"TMX Search\">\n          <p className=\"text-gray-400 italic py-4\">Coming soon...</p>\n        </Tab>\n      </Tabs>\n    </>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;;;AAYO,SAAS,aAAa,EAC3B,WAAW,EACX,SAAS,EACT,KAAK,EACL,WAAW,EACX,YAAY,EACZ,aAAa,EACb,eAAe,EACG;IAClB,qBACE;;0BACE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAGjB,8OAAC,sMAAA,CAAA,OAAI;gBACH,cAAW;gBACX,MAAK;gBACL,aAAa;gBACb,mBAAmB,CAAC,MAAQ,YAAY;gBACxC,YAAY;oBACV,SAAS;oBACT,QAAQ;oBACR,KAAK;oBACL,YAAY;gBACd;;kCAEA,8OAAC,8MAAA,CAAA,MAAG;wBAAY,OAAM;kCACpB,cAAA,8OAAC,yMAAA,CAAA,QAAK;4BACJ,OAAM;4BACN,aAAY;4BACZ,SAAQ;4BACR,OAAO;4BACP,eAAe;4BACf,YAAY;;;;;;uBAPP;;;;;kCAUT,8OAAC,8MAAA,CAAA,MAAG;wBAAa,OAAM;kCACrB,cAAA,8OAAC,yMAAA,CAAA,QAAK;4BACJ,OAAM;4BACN,aAAY;4BACZ,SAAQ;4BACR,OAAO;4BACP,eAAe;4BACf,YAAY;;;;;;uBAPP;;;;;kCAUT,8OAAC,8MAAA,CAAA,MAAG;wBAAc,OAAM;kCACtB,cAAA,8OAAC;4BAAE,WAAU;sCAA4B;;;;;;uBADlC;;;;;;;;;;;;;AAMjB","debugId":null}},
    {"offset": {"line": 477, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/constants/map-styles.ts"],"sourcesContent":["export const MAP_STYLES = [\n  { label: \"Tech\", key: \"tech\", description: \"Tech tumbled\" },\n  { label: \"Fullspeed\", key: \"fullspeed\", description: \"FS Toilet style\" },\n  { label: \"Mixed\", key: \"mixed\", description: \"tm2020\" },\n  { label: \"Dirt\", key: \"dirt\", description: \"noslide heaven\" },\n  { label: \"RPG\", key: \"rpg\", description: \"rpg\" },\n  { label: \"Trial\", key: \"trial\", description: \"final enigma style\" },\n  { label: \"LOL\", key: \"giraffe\", description: \"yellaugh\" },\n  { label: \"Ice\", key: \"ice\", description: \"icy\" },\n];"],"names":[],"mappings":";;;AAAO,MAAM,aAAa;IACxB;QAAE,OAAO;QAAQ,KAAK;QAAQ,aAAa;IAAe;IAC1D;QAAE,OAAO;QAAa,KAAK;QAAa,aAAa;IAAkB;IACvE;QAAE,OAAO;QAAS,KAAK;QAAS,aAAa;IAAS;IACtD;QAAE,OAAO;QAAQ,KAAK;QAAQ,aAAa;IAAiB;IAC5D;QAAE,OAAO;QAAO,KAAK;QAAO,aAAa;IAAM;IAC/C;QAAE,OAAO;QAAS,KAAK;QAAS,aAAa;IAAqB;IAClE;QAAE,OAAO;QAAO,KAAK;QAAW,aAAa;IAAW;IACxD;QAAE,OAAO;QAAO,KAAK;QAAO,aAAa;IAAM;CAChD","debugId":null}},
    {"offset": {"line": 526, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/add-track/TrackMetadataSelectors.tsx"],"sourcesContent":["import { Autocomplete, AutocompleteItem } from \"@heroui/react\";\nimport { MappackTier } from \"@/types/mappack.types\";\nimport { MAP_STYLES } from \"@/constants/map-styles\";\n\ninterface TrackMetadataSelectorsProps {\n  tiers: MappackTier[];\n  tierId: number | null;\n  mapStyleName: string;\n  onTierChange: (tierId: number | null) => void;\n  onStyleChange: (style: string) => void;\n  inputClassNames: any;\n}\n\nexport function TrackMetadataSelectors({\n  tiers,\n  tierId,\n  mapStyleName,\n  onTierChange,\n  onStyleChange,\n  inputClassNames,\n}: TrackMetadataSelectorsProps) {\n  const autocompleteClassNames = {\n    base: \"text-white\",\n    selectorButton: \"text-white\",\n    listboxWrapper: \"bg-neutral-800\",\n    popoverContent: \"bg-neutral-800\",\n  };\n\n  return (\n    <>\n      <Autocomplete\n        items={tiers || []}\n        label=\"Tier (Optional)\"\n        placeholder={tiers?.length > 0 ? \"Select tier\" : \"No tiers available\"}\n        variant=\"bordered\"\n        selectedKey={tierId?.toString()}\n        onSelectionChange={(key) =>\n          onTierChange(key ? parseInt(key as string) : null)\n        }\n        classNames={autocompleteClassNames}\n        inputProps={{\n          classNames: inputClassNames,\n        }}\n      >\n        {(tier) => (\n          <AutocompleteItem key={tier.id!.toString()} textValue={tier.name}>\n            <div className=\"flex items-center gap-2\">\n              <div\n                className=\"w-4 h-4 rounded\"\n                style={{ backgroundColor: tier.color }}\n              />\n              <span>{tier.name}</span>\n              <span className=\"text-gray-400 text-sm\">({tier.points} pts)</span>\n            </div>\n          </AutocompleteItem>\n        )}\n      </Autocomplete>\n\n      <Autocomplete\n        items={MAP_STYLES}\n        label=\"Map Style\"\n        placeholder=\"Search a style\"\n        variant=\"bordered\"\n        selectedKey={mapStyleName}\n        onSelectionChange={(key) => onStyleChange(key as string)}\n        classNames={autocompleteClassNames}\n        inputProps={{\n          classNames: inputClassNames,\n        }}\n      >\n        {(mapStyle) => (\n          <AutocompleteItem key={mapStyle.key} textValue={mapStyle.label}>\n            <div className=\"flex flex-col\">\n              <span>{mapStyle.label}</span>\n              <span className=\"text-xs text-gray-400\">\n                {mapStyle.description}\n              </span>\n            </div>\n          </AutocompleteItem>\n        )}\n      </Autocomplete>\n    </>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AAEA;;;;AAWO,SAAS,uBAAuB,EACrC,KAAK,EACL,MAAM,EACN,YAAY,EACZ,YAAY,EACZ,aAAa,EACb,eAAe,EACa;IAC5B,MAAM,yBAAyB;QAC7B,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,gBAAgB;IAClB;IAEA,qBACE;;0BACE,8OAAC,8NAAA,CAAA,eAAY;gBACX,OAAO,SAAS,EAAE;gBAClB,OAAM;gBACN,aAAa,OAAO,SAAS,IAAI,gBAAgB;gBACjD,SAAQ;gBACR,aAAa,QAAQ;gBACrB,mBAAmB,CAAC,MAClB,aAAa,MAAM,SAAS,OAAiB;gBAE/C,YAAY;gBACZ,YAAY;oBACV,YAAY;gBACd;0BAEC,CAAC,qBACA,8OAAC,kOAAA,CAAA,mBAAgB;wBAA2B,WAAW,KAAK,IAAI;kCAC9D,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,iBAAiB,KAAK,KAAK;oCAAC;;;;;;8CAEvC,8OAAC;8CAAM,KAAK,IAAI;;;;;;8CAChB,8OAAC;oCAAK,WAAU;;wCAAwB;wCAAE,KAAK,MAAM;wCAAC;;;;;;;;;;;;;uBAPnC,KAAK,EAAE,CAAE,QAAQ;;;;;;;;;;0BAa5C,8OAAC,8NAAA,CAAA,eAAY;gBACX,OAAO,iIAAA,CAAA,aAAU;gBACjB,OAAM;gBACN,aAAY;gBACZ,SAAQ;gBACR,aAAa;gBACb,mBAAmB,CAAC,MAAQ,cAAc;gBAC1C,YAAY;gBACZ,YAAY;oBACV,YAAY;gBACd;0BAEC,CAAC,yBACA,8OAAC,kOAAA,CAAA,mBAAgB;wBAAoB,WAAW,SAAS,KAAK;kCAC5D,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;8CAAM,SAAS,KAAK;;;;;;8CACrB,8OAAC;oCAAK,WAAU;8CACb,SAAS,WAAW;;;;;;;;;;;;uBAJJ,SAAS,GAAG;;;;;;;;;;;;AAY7C","debugId":null}},
    {"offset": {"line": 660, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/add-track/TimeGoalsInput.tsx"],"sourcesContent":["import { Input } from \"@heroui/react\";\nimport { TimeGoal } from \"@/types/mappack.types\";\n\ninterface TimeGoalsInputProps {\n  timeGoals: TimeGoal[];\n  timeGoalValues: Record<number, string>;\n  onTimeGoalChange: (timeGoalId: number, value: string) => void;\n  inputClassNames: any;\n}\n\nexport function TimeGoalsInput({\n  timeGoals,\n  timeGoalValues,\n  onTimeGoalChange,\n  inputClassNames,\n}: TimeGoalsInputProps) {\n  return (\n    <div className=\"flex flex-col gap-2\">\n      <div className=\"grid grid-cols-[auto_1fr] items-center gap-2\">\n        <p className=\"text-xl font-ruigslay\">Time Goals</p>\n        <div className=\"flex-1 h-[5px] bg-neutral-300\"></div>\n      </div>\n\n      {(!timeGoals || timeGoals.length === 0) && (\n        <p className=\"text-gray-400 italic text-center py-4\">\n          No time goals available. Add time goals to the mappack first.\n        </p>\n      )}\n\n      {timeGoals &&\n        timeGoals.map((timegoal) => (\n          <Input\n            key={timegoal.id}\n            label={`${timegoal.name} (Ã—${timegoal.multiplier})`}\n            placeholder=\"1:03:942\"\n            variant=\"bordered\"\n            value={timeGoalValues[timegoal.id!] || \"\"}\n            onValueChange={(value) => onTimeGoalChange(timegoal.id!, value)}\n            classNames={inputClassNames}\n            description=\"Format: MM:SS:mmm\"\n          />\n        ))}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;;;AAUO,SAAS,eAAe,EAC7B,SAAS,EACT,cAAc,EACd,gBAAgB,EAChB,eAAe,EACK;IACpB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,8OAAC;wBAAI,WAAU;;;;;;;;;;;;YAGhB,CAAC,CAAC,aAAa,UAAU,MAAM,KAAK,CAAC,mBACpC,8OAAC;gBAAE,WAAU;0BAAwC;;;;;;YAKtD,aACC,UAAU,GAAG,CAAC,CAAC,yBACb,8OAAC,yMAAA,CAAA,QAAK;oBAEJ,OAAO,GAAG,SAAS,IAAI,CAAC,GAAG,EAAE,SAAS,UAAU,CAAC,CAAC,CAAC;oBACnD,aAAY;oBACZ,SAAQ;oBACR,OAAO,cAAc,CAAC,SAAS,EAAE,CAAE,IAAI;oBACvC,eAAe,CAAC,QAAU,iBAAiB,SAAS,EAAE,EAAG;oBACzD,YAAY;oBACZ,aAAY;mBAPP,SAAS,EAAE;;;;;;;;;;;AAY5B","debugId":null}},
    {"offset": {"line": 727, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/constants/modal-styles.ts"],"sourcesContent":["export const MODAL_INPUT_CLASSNAMES = {\n  input: \"text-white\",\n  inputWrapper:\n    \"bg-neutral-800 border-gray-700 data-[hover=true]:border-gray-600 group-data-[focus=true]:bg-neutral-900 group-data-[focus=true]:border-white\",\n};\n\nexport const MODAL_CLASSNAMES = {\n  base: \"bg-neutral-800\",\n  header: \"bg-neutral-800 text-white\",\n  body: \"bg-neutral-800 text-white\",\n  footer: \"bg-neutral-800\",\n  closeButton: \"text-white hover:bg-neutral-800\",\n};\n\nexport const TAB_CLASSNAMES = {\n  tabList: \"bg-neutral-700\",\n  cursor: \"bg-neutral-600\",\n  tab: \"text-white\",\n  tabContent: \"group-data-[selected=true]:text-white\",\n};"],"names":[],"mappings":";;;;;AAAO,MAAM,yBAAyB;IACpC,OAAO;IACP,cACE;AACJ;AAEO,MAAM,mBAAmB;IAC9B,MAAM;IACN,QAAQ;IACR,MAAM;IACN,QAAQ;IACR,aAAa;AACf;AAEO,MAAM,iBAAiB;IAC5B,SAAS;IACT,QAAQ;IACR,KAAK;IACL,YAAY;AACd","debugId":null}},
    {"offset": {"line": 753, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/AddTrackModal.tsx"],"sourcesContent":["import { Button } from \"@heroui/react\";\nimport {\n  Modal,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  useDisclosure,\n} from \"@heroui/react\";\nimport { TimeGoal, MappackTier } from \"@/types/mappack.types\";\nimport { useAddTrackForm } from \"@/hooks/useAddTrackForm\";\nimport { trackService } from \"@/services/track.service\";\nimport { TrackIdInput } from \"./add-track/TrackIdInput\";\nimport { TrackMetadataSelectors } from \"./add-track/TrackMetadataSelectors\";\nimport { TimeGoalsInput } from \"./add-track/TimeGoalsInput\";\nimport { MODAL_INPUT_CLASSNAMES, MODAL_CLASSNAMES } from \"@/constants/modal-styles\";\n\ninterface AddTrackModalProps {\n  timegoals: TimeGoal[];\n  mappackId: string;\n  tiers: MappackTier[];\n}\n\nexport default function AddTrackModal({\n  timegoals,\n  mappackId,\n  tiers,\n}: AddTrackModalProps) {\n  const { isOpen, onOpen, onOpenChange } = useDisclosure();\n\n  const {\n    trackUuid,\n    tmxId,\n    tierId,\n    mapStyleName,\n    timeGoalValues,\n    selectedTab,\n    isLoading,\n    setTrackUuid,\n    setTmxId,\n    setTierId,\n    setMapStyleName,\n    setSelectedTab,\n    setIsLoading,\n    handleTimeGoalChange,\n    getTrackId,\n    getTimeGoalsWithValues,\n    resetForm,\n    validateForm,\n  } = useAddTrackForm();\n\n  const handleAddTrack = async () => {\n    const validation = validateForm();\n    if (!validation.isValid) {\n      alert(validation.error);\n      return;\n    }\n\n    try {\n      setIsLoading(true);\n      const trackId = getTrackId();\n\n      // Add track to mappack\n      await trackService.addToMappack({\n        mappackId,\n        trackId,\n        tierId,\n        mapStyle: mapStyleName,\n      });\n\n      const timeGoalsWithValues = getTimeGoalsWithValues(timegoals);\n      await trackService.addTimeGoals(mappackId, trackId, timeGoalsWithValues);\n\n      // Fetch records\n      // await trackService.fetchRecords(trackId);\n\n      resetForm();\n      onOpenChange();\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Error adding track:\", error);\n      alert(\"Failed to add track. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <Button\n        color=\"default\"\n        variant=\"bordered\"\n        onPress={onOpen}\n      >\n        Add New Track\n      </Button>\n      <Modal\n        isOpen={isOpen}\n        placement=\"top-center\"\n        onOpenChange={onOpenChange}\n        size=\"2xl\"\n        classNames={MODAL_CLASSNAMES}\n      >\n        <ModalContent>\n          {(onClose) => (\n            <>\n              <ModalHeader className=\"flex flex-col gap-1 text-2xl font-ruigslay\">\n                Add Track to Mappack\n              </ModalHeader>\n              <ModalBody>\n                <TrackIdInput\n                  selectedTab={selectedTab}\n                  trackUuid={trackUuid}\n                  tmxId={tmxId}\n                  onTabChange={setSelectedTab}\n                  onUuidChange={setTrackUuid}\n                  onTmxIdChange={setTmxId}\n                  inputClassNames={MODAL_INPUT_CLASSNAMES}\n                />\n\n                <TrackMetadataSelectors\n                  tiers={tiers}\n                  tierId={tierId}\n                  mapStyleName={mapStyleName}\n                  onTierChange={setTierId}\n                  onStyleChange={setMapStyleName}\n                  inputClassNames={MODAL_INPUT_CLASSNAMES}\n                />\n\n                <TimeGoalsInput\n                  timeGoals={timegoals}\n                  timeGoalValues={timeGoalValues}\n                  onTimeGoalChange={handleTimeGoalChange}\n                  inputClassNames={MODAL_INPUT_CLASSNAMES}\n                />\n              </ModalBody>\n              <ModalFooter>\n                <Button\n                  color=\"default\"\n                  variant=\"bordered\"\n                  onPress={onClose}\n                  isDisabled={isLoading}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  color=\"default\"\n                  onPress={handleAddTrack}\n                  isLoading={isLoading}\n                >\n                  Add Track\n                </Button>\n              </ModalFooter>\n            </>\n          )}\n        </ModalContent>\n      </Modal>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAQe,SAAS,cAAc,EACpC,SAAS,EACT,SAAS,EACT,KAAK,EACc;IACnB,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,+JAAA,CAAA,gBAAa,AAAD;IAErD,MAAM,EACJ,SAAS,EACT,KAAK,EACL,MAAM,EACN,YAAY,EACZ,cAAc,EACd,WAAW,EACX,SAAS,EACT,YAAY,EACZ,QAAQ,EACR,SAAS,EACT,eAAe,EACf,cAAc,EACd,YAAY,EACZ,oBAAoB,EACpB,UAAU,EACV,sBAAsB,EACtB,SAAS,EACT,YAAY,EACb,GAAG,CAAA,GAAA,+HAAA,CAAA,kBAAe,AAAD;IAElB,MAAM,iBAAiB;QACrB,MAAM,aAAa;QACnB,IAAI,CAAC,WAAW,OAAO,EAAE;YACvB,MAAM,WAAW,KAAK;YACtB;QACF;QAEA,IAAI;YACF,aAAa;YACb,MAAM,UAAU;YAEhB,uBAAuB;YACvB,MAAM,mIAAA,CAAA,eAAY,CAAC,YAAY,CAAC;gBAC9B;gBACA;gBACA;gBACA,UAAU;YACZ;YAEA,MAAM,sBAAsB,uBAAuB;YACnD,MAAM,mIAAA,CAAA,eAAY,CAAC,YAAY,CAAC,WAAW,SAAS;YAEpD,gBAAgB;YAChB,4CAA4C;YAE5C;YACA;YACA,OAAO,QAAQ,CAAC,MAAM;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;YACrC,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,8OAAC;;0BACC,8OAAC,4MAAA,CAAA,SAAM;gBACL,OAAM;gBACN,SAAQ;gBACR,SAAS;0BACV;;;;;;0BAGD,8OAAC,yMAAA,CAAA,QAAK;gBACJ,QAAQ;gBACR,WAAU;gBACV,cAAc;gBACd,MAAK;gBACL,YAAY,mIAAA,CAAA,mBAAgB;0BAE5B,cAAA,8OAAC,wNAAA,CAAA,eAAY;8BACV,CAAC,wBACA;;8CACE,8OAAC,sNAAA,CAAA,cAAW;oCAAC,WAAU;8CAA6C;;;;;;8CAGpE,8OAAC,kNAAA,CAAA,YAAS;;sDACR,8OAAC,0JAAA,CAAA,eAAY;4CACX,aAAa;4CACb,WAAW;4CACX,OAAO;4CACP,aAAa;4CACb,cAAc;4CACd,eAAe;4CACf,iBAAiB,mIAAA,CAAA,yBAAsB;;;;;;sDAGzC,8OAAC,oKAAA,CAAA,yBAAsB;4CACrB,OAAO;4CACP,QAAQ;4CACR,cAAc;4CACd,cAAc;4CACd,eAAe;4CACf,iBAAiB,mIAAA,CAAA,yBAAsB;;;;;;sDAGzC,8OAAC,4JAAA,CAAA,iBAAc;4CACb,WAAW;4CACX,gBAAgB;4CAChB,kBAAkB;4CAClB,iBAAiB,mIAAA,CAAA,yBAAsB;;;;;;;;;;;;8CAG3C,8OAAC,sNAAA,CAAA,cAAW;;sDACV,8OAAC,4MAAA,CAAA,SAAM;4CACL,OAAM;4CACN,SAAQ;4CACR,SAAS;4CACT,YAAY;sDACb;;;;;;sDAGD,8OAAC,4MAAA,CAAA,SAAM;4CACL,OAAM;4CACN,SAAS;4CACT,WAAW;sDACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB","debugId":null}},
    {"offset": {"line": 936, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/hooks/useEditMappack.ts"],"sourcesContent":["// hooks/useEditMappack.ts\nimport { useState, useEffect } from 'react';\nimport { Mappack, TimeGoal, MappackTier, MappackRank } from '@/types/mappack.types';\nimport { timeStringToMilliseconds } from '@/utils/time.utils';\n\nexport function useEditMappack(mappack: Mappack | null, isOpen: boolean) {\n  const [editData, setEditData] = useState<Mappack | null>(null);\n  const [timeInputValues, setTimeInputValues] = useState<Record<string, Record<number, string>>>({});\n\n  useEffect(() => {\n    if (isOpen && mappack) {\n      const deepCopy = JSON.parse(JSON.stringify(mappack));\n      \n      const sanitizedData = {\n        ...deepCopy,\n        timeGoals: deepCopy.timeGoals || [],\n        mappackTiers: deepCopy.mappackTiers || [],\n        mappackRanks: deepCopy.mappackRanks || [],\n        MappackTrack: (deepCopy.MappackTrack || []).map((track: any) => ({\n          ...track,\n          timeGoalMappackTrack: track.timeGoalMappackTrack || [],\n          tier: track.tier || null,\n          mapStyle: track.mapStyle || null,\n          tier_id: track.tier_id || null,\n        })),\n      };\n\n      setEditData(sanitizedData);\n    }\n  }, [isOpen, mappack]);\n\n  const addTimeGoal = () => {\n    if (!editData) return;\n    setEditData({\n      ...editData,\n      timeGoals: [\n        ...editData.timeGoals,\n        {\n          name: \"\",\n          mappack_id: editData.id,\n          multiplier: 1,\n        },\n      ],\n    });\n  };\n\n  const updateTimeGoal = (index: number, field: keyof TimeGoal, value: string | number) => {\n    if (!editData) return;\n    setEditData({\n      ...editData,\n      timeGoals: editData.timeGoals.map((tg, i) =>\n        i === index ? { ...tg, [field]: value } : tg\n      ),\n    });\n  };\n\n  const removeTimeGoalFromState = (id: number | undefined) => {\n    if (!editData) return;\n    if (!id) {\n      setEditData({\n        ...editData,\n        timeGoals: editData.timeGoals.slice(0, -1),\n      });\n    } else {\n      setEditData({\n        ...editData,\n        timeGoals: editData.timeGoals.filter((tg) => tg.id !== id),\n        MappackTrack: editData.MappackTrack.map((track) => ({\n          ...track,\n          timeGoalMappackTrack: track.timeGoalMappackTrack.filter(\n            (tgmt) => tgmt.time_goal_id !== id\n          ),\n        })),\n      });\n    }\n  };\n\n  const addTier = () => {\n    if (!editData) return;\n    const newTier: MappackTier = {\n      name: \"\",\n      mappack_id: editData.id,\n      points: 0,\n      color: \"#ffffff\",\n    };\n    setEditData({\n      ...editData,\n      mappackTiers: [...editData.mappackTiers, newTier],\n    });\n  };\n\n  const updateTier = (index: number, field: keyof MappackTier, value: string | number) => {\n    if (!editData) return;\n    const updatedTiers = editData.mappackTiers.map((tier, i) =>\n      i === index ? { ...tier, [field]: value } : tier\n    );\n    setEditData({\n      ...editData,\n      mappackTiers: updatedTiers,\n    });\n  };\n\n  const removeTierFromState = (id: number | undefined) => {\n    if (!editData) return;\n    if (!id) {\n      setEditData({\n        ...editData,\n        mappackTiers: editData.mappackTiers.slice(0, -1),\n      });\n    } else {\n      setEditData({\n        ...editData,\n        mappackTiers: editData.mappackTiers.filter((t) => t.id !== id),\n        MappackTrack: editData.MappackTrack.map((track) =>\n          track.tier_id === id\n            ? { ...track, tier_id: null, tier: null }\n            : track\n        ),\n      });\n    }\n  };\n\n  const addRank = () => {\n    if (!editData) return;\n    const newRank: MappackRank = {\n      name: \"\",\n      mappack_id: editData.id,\n      pointsNeeded: 0,\n      color: \"#ffffff\",\n      backgroundGlow: false,\n      invertedColor: false,\n      textShadow: false,\n      glowIntensity: 50,\n      borderWidth: 2,\n      borderColor: null,\n      symbolsAround: null,\n      animationType: \"none\",\n      cardStyle: \"normal\",\n      backgroundPattern: \"none\",\n      fontSize: \"normal\",\n      fontWeight: \"normal\",\n    };\n    setEditData({\n      ...editData,\n      mappackRanks: [...editData.mappackRanks, newRank],\n    });\n  };\n\n  const updateRank = (\n    index: number,\n    field: keyof MappackRank,\n    value: string | number | boolean | null\n  ) => {\n    if (!editData) return;\n    const updatedRanks = editData.mappackRanks.map((rank, i) =>\n      i === index ? { ...rank, [field]: value } : rank\n    );\n    setEditData({\n      ...editData,\n      mappackRanks: updatedRanks,\n    });\n  };\n\n  const removeRankFromState = (id: number | undefined) => {\n    if (!editData) return;\n    if (!id) {\n      setEditData({\n        ...editData,\n        mappackRanks: editData.mappackRanks.slice(0, -1),\n      });\n    } else {\n      setEditData({\n        ...editData,\n        mappackRanks: editData.mappackRanks.filter((r) => r.id !== id),\n      });\n    }\n  };\n\n  const assignTierToTrack = (trackId: string, tierId: number | null) => {\n    if (!editData) return;\n    const tier = tierId\n      ? editData.mappackTiers.find((t) => t.id === tierId)\n      : null;\n    setEditData({\n      ...editData,\n      MappackTrack: editData.MappackTrack.map((track) =>\n        track.track_id === trackId\n          ? { ...track, tier_id: tierId, tier: tier || null }\n          : track\n      ),\n    });\n  };\n\n  const updateTrackTime = (trackId: string, timeGoalId: number, timeString: string) => {\n    if (!editData) return;\n    \n    setTimeInputValues((prev) => ({\n      ...prev,\n      [trackId]: {\n        ...(prev[trackId] || {}),\n        [timeGoalId]: timeString,\n      },\n    }));\n\n    const milliseconds = timeStringToMilliseconds(timeString);\n\n    setEditData({\n      ...editData,\n      MappackTrack: editData.MappackTrack.map((track) => {\n        if (track.track_id !== trackId) return track;\n\n        const existingIndex = track.timeGoalMappackTrack.findIndex(\n          (tgmt) => tgmt.time_goal_id === timeGoalId\n        );\n\n        if (existingIndex >= 0) {\n          return {\n            ...track,\n            timeGoalMappackTrack: track.timeGoalMappackTrack.map((tgmt, i) =>\n              i === existingIndex ? { ...tgmt, time: milliseconds } : tgmt\n            ),\n          };\n        } else {\n          return {\n            ...track,\n            timeGoalMappackTrack: [\n              ...track.timeGoalMappackTrack,\n              {\n                track_id: trackId,\n                mappack_id: editData.id,\n                time_goal_id: timeGoalId,\n                time: milliseconds,\n              },\n            ],\n          };\n        }\n      }),\n    });\n  };\n\n  const updateMapStyle = (trackId: string, mapStyle: string) => {\n    if (!editData) return;\n    setEditData({\n      ...editData,\n      MappackTrack: editData.MappackTrack.map((t) =>\n        t.track_id === trackId\n          ? { ...t, mapStyle: mapStyle || null }\n          : t\n      ),\n    });\n  };\n\n  const removeTrackFromState = (trackId: string) => {\n    if (!editData) return;\n    setEditData({\n      ...editData,\n      MappackTrack: editData.MappackTrack.filter((t) => t.track_id !== trackId),\n    });\n  };\n\n  return {\n    editData,\n    setEditData,\n    timeInputValues,\n    addTimeGoal,\n    updateTimeGoal,\n    removeTimeGoalFromState,\n    addTier,\n    updateTier,\n    removeTierFromState,\n    addRank,\n    updateRank,\n    removeRankFromState,\n    assignTierToTrack,\n    updateTrackTime,\n    updateMapStyle,\n    removeTrackFromState,\n  };\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1202, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/services/mappack-edit.service.ts"],"sourcesContent":["import { Mappack } from '@/types/mappack.types';\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8080';\n\nexport const mappackEditService = {\n  updateMappack: async (mappack: Mappack): Promise<void> => {\n    const payload = {\n      id: mappack.id,\n      name: mappack.name,\n      description: mappack.description,\n      thumbnailURL: mappack.thumbnailURL,\n      isActive: mappack.isActive,\n      timeGoals: mappack.timeGoals.map((tg) => ({\n        id: tg.id,\n        name: tg.name,\n        mappack_id: mappack.id,\n        multiplier: tg.multiplier,\n      })),\n      mappackTiers: mappack.mappackTiers.map((tier) => ({\n        id: tier.id,\n        name: tier.name,\n        mappack_id: mappack.id,\n        points: tier.points,\n        color: tier.color,\n      })),\n      mappackRanks: mappack.mappackRanks.map((rank) => ({\n        id: rank.id,\n        name: rank.name,\n        mappack_id: mappack.id,\n        pointsNeeded: rank.pointsNeeded,\n        color: rank.color,\n        backgroundGlow: rank.backgroundGlow,\n        invertedColor: rank.invertedColor,\n        textShadow: rank.textShadow,\n        glowIntensity: rank.glowIntensity,\n        borderWidth: rank.borderWidth,\n        borderColor: rank.borderColor,\n        symbolsAround: rank.symbolsAround,\n        animationType: rank.animationType,\n        cardStyle: rank.cardStyle,\n        backgroundPattern: rank.backgroundPattern,\n        fontSize: rank.fontSize,\n        fontWeight: rank.fontWeight,\n      })),\n      MappackTrack: mappack.MappackTrack.map((track) => ({\n        mappack_id: track.mappack_id,\n        track_id: track.track_id,\n        tier_id: track.tier_id,\n        mapStyle: track.mapStyle,\n        timeGoalMappackTrack: track.timeGoalMappackTrack.map((tg) => ({\n          track_id: track.track_id,\n          mappack_id: mappack.id,\n          time_goal_id: tg.time_goal_id,\n          time: tg.time,\n        })),\n      })),\n    };\n\n    const response = await fetch(`${API_BASE}/mappacks`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`Failed to update mappack: ${errorText}`);\n    }\n  },\n\n  deleteTimeGoal: async (mappackId: string, timeGoalId: number): Promise<void> => {\n    const response = await fetch(\n      `${API_BASE}/mappacks/${mappackId}/timegoals/${timeGoalId}`,\n      { method: \"DELETE\" }\n    );\n    if (!response.ok) throw new Error(\"Failed to delete time goal\");\n  },\n\n  deleteTier: async (mappackId: string, tierId: number): Promise<void> => {\n    const response = await fetch(\n      `${API_BASE}/mappacks/${mappackId}/tiers/${tierId}`,\n      { method: \"DELETE\" }\n    );\n    if (!response.ok) throw new Error(\"Failed to delete tier\");\n  },\n\n  deleteRank: async (mappackId: string, rankId: number): Promise<void> => {\n    const response = await fetch(\n      `${API_BASE}/mappacks/${mappackId}/ranks/${rankId}`,\n      { method: \"DELETE\" }\n    );\n    if (!response.ok) throw new Error(\"Failed to delete rank\");\n  },\n\n  deleteTrack: async (mappackId: string, trackId: string): Promise<void> => {\n    const response = await fetch(\n      `${API_BASE}/mappacks/${mappackId}/tracks/${trackId}`,\n      { method: \"DELETE\" }\n    );\n    if (!response.ok) throw new Error(\"Failed to delete track\");\n  },\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1300, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/ConfirmDialog.tsx"],"sourcesContent":["import { Modal, ModalContent, ModalHeader, ModalBody, ModalFooter, Button } from \"@heroui/react\";\n\ninterface ConfirmDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  title: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  isDangerous?: boolean;\n}\n\nexport function ConfirmDialog({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message,\n  confirmText = \"Confirm\",\n  cancelText = \"Cancel\",\n  isDangerous = false,\n}: ConfirmDialogProps) {\n  const handleConfirm = () => {\n    onConfirm();\n    onClose();\n  };\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onOpenChange={onClose}\n      placement=\"center\"\n      classNames={{\n        base: \"bg-neutral-800\",\n        header: \"bg-neutral-800 text-white border-b border-white/10\",\n        body: \"bg-neutral-800 text-white\",\n        footer: \"bg-neutral-800 border-t border-white/10\",\n        closeButton: \"text-white hover:bg-neutral-700\",\n      }}\n    >\n      <ModalContent>\n        {(onClose) => (\n          <>\n            <ModalHeader className=\"text-2xl font-ruigslay\">{title}</ModalHeader>\n            <ModalBody>\n              <p className=\"text-white/90\">{message}</p>\n            </ModalBody>\n            <ModalFooter>\n              <Button color=\"default\" variant=\"bordered\" onPress={onClose}>\n                {cancelText}\n              </Button>\n              <Button color={isDangerous ? \"danger\" : \"default\"} onPress={handleConfirm}>\n                {confirmText}\n              </Button>\n            </ModalFooter>\n          </>\n        )}\n      </ModalContent>\n    </Modal>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAaO,SAAS,cAAc,EAC5B,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,EACL,OAAO,EACP,cAAc,SAAS,EACvB,aAAa,QAAQ,EACrB,cAAc,KAAK,EACA;IACnB,MAAM,gBAAgB;QACpB;QACA;IACF;IAEA,qBACE,8OAAC,yMAAA,CAAA,QAAK;QACJ,QAAQ;QACR,cAAc;QACd,WAAU;QACV,YAAY;YACV,MAAM;YACN,QAAQ;YACR,MAAM;YACN,QAAQ;YACR,aAAa;QACf;kBAEA,cAAA,8OAAC,wNAAA,CAAA,eAAY;sBACV,CAAC,wBACA;;sCACE,8OAAC,sNAAA,CAAA,cAAW;4BAAC,WAAU;sCAA0B;;;;;;sCACjD,8OAAC,kNAAA,CAAA,YAAS;sCACR,cAAA,8OAAC;gCAAE,WAAU;0CAAiB;;;;;;;;;;;sCAEhC,8OAAC,sNAAA,CAAA,cAAW;;8CACV,8OAAC,4MAAA,CAAA,SAAM;oCAAC,OAAM;oCAAU,SAAQ;oCAAW,SAAS;8CACjD;;;;;;8CAEH,8OAAC,4MAAA,CAAA,SAAM;oCAAC,OAAO,cAAc,WAAW;oCAAW,SAAS;8CACzD;;;;;;;;;;;;;;;;;;;;;;;;AAQjB","debugId":null}},
    {"offset": {"line": 1397, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/mappack-edit/BasicInfoTab.tsx"],"sourcesContent":["import { Input, Switch } from \"@heroui/react\";\nimport { Mappack } from \"@/types/mappack.types\";\n\ninterface BasicInfoTabProps {\n  editData: Mappack;\n  onUpdate: (updates: Partial<Mappack>) => void;\n  inputClassNames: any;\n}\n\nexport function BasicInfoTab({ editData, onUpdate, inputClassNames }: BasicInfoTabProps) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"grid grid-cols-[auto_1fr] items-center gap-2\">\n        <p className=\"text-xl font-ruigslay\">Mappack Info</p>\n        <div className=\"flex-1 h-[5px] bg-neutral-300\"></div>\n      </div>\n      <Input\n        label=\"Name\"\n        variant=\"bordered\"\n        value={editData.name}\n        onValueChange={(value) => onUpdate({ name: value })}\n        classNames={inputClassNames}\n      />\n      <Input\n        label=\"Description\"\n        variant=\"bordered\"\n        value={editData.description}\n        onValueChange={(value) => onUpdate({ description: value })}\n        classNames={inputClassNames}\n      />\n      <Input\n        label=\"Thumbnail URL\"\n        variant=\"bordered\"\n        value={editData.thumbnailURL}\n        onValueChange={(value) => onUpdate({ thumbnailURL: value })}\n        classNames={inputClassNames}\n      />\n      <Switch\n        isSelected={editData.isActive}\n        onValueChange={(checked) => onUpdate({ isActive: checked })}\n        classNames={{\n          wrapper: \"group-data-[selected=true]:bg-white bg-neutral-600\",\n        }}\n      >\n        <span className=\"text-white\">Active</span>\n      </Switch>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AAAA;;;AASO,SAAS,aAAa,EAAE,QAAQ,EAAE,QAAQ,EAAE,eAAe,EAAqB;IACrF,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAEjB,8OAAC,yMAAA,CAAA,QAAK;gBACJ,OAAM;gBACN,SAAQ;gBACR,OAAO,SAAS,IAAI;gBACpB,eAAe,CAAC,QAAU,SAAS;wBAAE,MAAM;oBAAM;gBACjD,YAAY;;;;;;0BAEd,8OAAC,yMAAA,CAAA,QAAK;gBACJ,OAAM;gBACN,SAAQ;gBACR,OAAO,SAAS,WAAW;gBAC3B,eAAe,CAAC,QAAU,SAAS;wBAAE,aAAa;oBAAM;gBACxD,YAAY;;;;;;0BAEd,8OAAC,yMAAA,CAAA,QAAK;gBACJ,OAAM;gBACN,SAAQ;gBACR,OAAO,SAAS,YAAY;gBAC5B,eAAe,CAAC,QAAU,SAAS;wBAAE,cAAc;oBAAM;gBACzD,YAAY;;;;;;0BAEd,8OAAC,4MAAA,CAAA,SAAM;gBACL,YAAY,SAAS,QAAQ;gBAC7B,eAAe,CAAC,UAAY,SAAS;wBAAE,UAAU;oBAAQ;gBACzD,YAAY;oBACV,SAAS;gBACX;0BAEA,cAAA,8OAAC;oBAAK,WAAU;8BAAa;;;;;;;;;;;;;;;;;AAIrC","debugId":null}},
    {"offset": {"line": 1504, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/mappack-edit/TimeGoalsTab.tsx"],"sourcesContent":["import { Button, Input } from \"@heroui/react\";\nimport { TimeGoal } from \"@/types/mappack.types\";\n\ninterface TimeGoalsTabProps {\n  timeGoals: TimeGoal[];\n  onAdd: () => void;\n  onUpdate: (index: number, field: keyof TimeGoal, value: string | number) => void;\n  onRemove: (id: number | undefined) => void;\n  inputClassNames: any;\n}\n\nexport function TimeGoalsTab({\n  timeGoals,\n  onAdd,\n  onUpdate,\n  onRemove,\n  inputClassNames,\n}: TimeGoalsTabProps) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"grid grid-cols-[auto_1fr] items-center gap-2\">\n        <p className=\"text-xl font-ruigslay\">Time Goals</p>\n        <div className=\"flex-1 h-[5px] bg-neutral-300\"></div>\n      </div>\n      {timeGoals.map((timegoal, index) => (\n        <div\n          key={timegoal.id || `new-${index}`}\n          className=\"flex gap-2 items-center bg-neutral-800 p-3 rounded-lg\"\n        >\n          <Input\n            label=\"Name\"\n            variant=\"bordered\"\n            value={timegoal.name}\n            onValueChange={(value) => onUpdate(index, \"name\", value)}\n            className=\"flex-1\"\n            classNames={inputClassNames}\n          />\n          <Input\n            label=\"Multiplier\"\n            type=\"number\"\n            variant=\"bordered\"\n            value={timegoal.multiplier.toString()}\n            onValueChange={(value) =>\n              onUpdate(index, \"multiplier\", parseInt(value) || 1)\n            }\n            className=\"w-32\"\n            classNames={inputClassNames}\n          />\n          <Button\n            size=\"sm\"\n            color=\"danger\"\n            variant=\"flat\"\n            onPress={() => onRemove(timegoal.id)}\n            isIconOnly\n          >\n            âœ•\n          </Button>\n        </div>\n      ))}\n      <Button color=\"default\" onPress={onAdd}>\n        Add Time Goal\n      </Button>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AAAA;;;AAWO,SAAS,aAAa,EAC3B,SAAS,EACT,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,eAAe,EACG;IAClB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,8OAAC;wBAAI,WAAU;;;;;;;;;;;;YAEhB,UAAU,GAAG,CAAC,CAAC,UAAU,sBACxB,8OAAC;oBAEC,WAAU;;sCAEV,8OAAC,yMAAA,CAAA,QAAK;4BACJ,OAAM;4BACN,SAAQ;4BACR,OAAO,SAAS,IAAI;4BACpB,eAAe,CAAC,QAAU,SAAS,OAAO,QAAQ;4BAClD,WAAU;4BACV,YAAY;;;;;;sCAEd,8OAAC,yMAAA,CAAA,QAAK;4BACJ,OAAM;4BACN,MAAK;4BACL,SAAQ;4BACR,OAAO,SAAS,UAAU,CAAC,QAAQ;4BACnC,eAAe,CAAC,QACd,SAAS,OAAO,cAAc,SAAS,UAAU;4BAEnD,WAAU;4BACV,YAAY;;;;;;sCAEd,8OAAC,4MAAA,CAAA,SAAM;4BACL,MAAK;4BACL,OAAM;4BACN,SAAQ;4BACR,SAAS,IAAM,SAAS,SAAS,EAAE;4BACnC,UAAU;sCACX;;;;;;;mBA5BI,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO;;;;;0BAiCtC,8OAAC,4MAAA,CAAA,SAAM;gBAAC,OAAM;gBAAU,SAAS;0BAAO;;;;;;;;;;;;AAK9C","debugId":null}},
    {"offset": {"line": 1606, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/utils/colorPicker.tsx"],"sourcesContent":["import { Popover, PopoverTrigger, PopoverContent, Button, Input } from \"@heroui/react\";\nimport { HexColorPicker } from \"react-colorful\";\nimport { useState } from \"react\";\n\ninterface ColorPickerProps {\n  value: string;\n  onChange: (color: string) => void;\n  label?: string;\n}\n\nexport function ColorPicker({ value, onChange, label = \"Color\" }: ColorPickerProps) {\n  const [hexInput, setHexInput] = useState(value);\n\n  const handleHexChange = (newHex: string) => {\n    setHexInput(newHex);\n    if (/^#[0-9A-Fa-f]{6}$/.test(newHex)) {\n      onChange(newHex);\n    }\n  };\n\n  const handleColorChange = (newColor: string) => {\n    setHexInput(newColor);\n    onChange(newColor);\n  };\n\n  return (\n    <Popover placement=\"bottom\">\n      <PopoverTrigger>\n        <Button\n          className=\"w-32 h-14 justify-start px-3 border border-gray-700 hover:border-gray-600 bg-transparent\"\n          variant=\"bordered\"\n        >\n          <div className=\"flex items-center gap-3 w-full\">\n            <div\n              className=\"w-8 h-8 rounded border border-gray-600\"\n              style={{ backgroundColor: value }}\n            />\n            <div className=\"flex flex-col items-start flex-1\">\n              <span className=\"text-xs text-gray-400\">{label}</span>\n              <span className=\"text-white font-mono\">{value.toUpperCase()}</span>\n            </div>\n          </div>\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"bg-neutral-800 border border-gray-700 p-4\">\n        <div className=\"space-y-3\">\n          <HexColorPicker color={value} onChange={handleColorChange} />\n          <Input\n            label=\"Hex Code\"\n            variant=\"bordered\"\n            value={hexInput}\n            onValueChange={handleHexChange}\n            placeholder=\"#FFFFFF\"\n            classNames={{\n              input: \"text-white font-mono\",\n              inputWrapper: \"border-gray-700 data-[hover=true]:border-gray-600 group-data-[focus=true]:bg-neutral-900 group-data-[focus=true]:border-white\",\n            }}\n          />\n          <div className=\"flex gap-1 flex-wrap justify-center\">\n            {['#ff0000ff', '#ff7b00ff', '#ffbf00ff', '#ffea00ff', '#000000ff', '#FFFFFF'].map((presetColor) => (\n              <button\n                key={presetColor}\n                className=\"w-6 h-6 rounded border border-gray-600 hover:scale-110 transition-transform\"\n                style={{ backgroundColor: presetColor }}\n                onClick={() => handleColorChange(presetColor)}\n              />\n            ))}\n          </div>\n        </div>\n      </PopoverContent>\n    </Popover>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;AAQO,SAAS,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,OAAO,EAAoB;IAChF,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,MAAM,kBAAkB,CAAC;QACvB,YAAY;QACZ,IAAI,oBAAoB,IAAI,CAAC,SAAS;YACpC,SAAS;QACX;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,YAAY;QACZ,SAAS;IACX;IAEA,qBACE,8OAAC,+MAAA,CAAA,UAAO;QAAC,WAAU;;0BACjB,8OAAC,8NAAA,CAAA,iBAAc;0BACb,cAAA,8OAAC,4MAAA,CAAA,SAAM;oBACL,WAAU;oBACV,SAAQ;8BAER,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,iBAAiB;gCAAM;;;;;;0CAElC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAyB;;;;;;kDACzC,8OAAC;wCAAK,WAAU;kDAAwB,MAAM,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAKjE,8OAAC,8NAAA,CAAA,iBAAc;gBAAC,WAAU;0BACxB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,mJAAA,CAAA,iBAAc;4BAAC,OAAO;4BAAO,UAAU;;;;;;sCACxC,8OAAC,yMAAA,CAAA,QAAK;4BACJ,OAAM;4BACN,SAAQ;4BACR,OAAO;4BACP,eAAe;4BACf,aAAY;4BACZ,YAAY;gCACV,OAAO;gCACP,cAAc;4BAChB;;;;;;sCAEF,8OAAC;4BAAI,WAAU;sCACZ;gCAAC;gCAAa;gCAAa;gCAAa;gCAAa;gCAAa;6BAAU,CAAC,GAAG,CAAC,CAAC,4BACjF,8OAAC;oCAEC,WAAU;oCACV,OAAO;wCAAE,iBAAiB;oCAAY;oCACtC,SAAS,IAAM,kBAAkB;mCAH5B;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWrB","debugId":null}},
    {"offset": {"line": 1769, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/utils/textConverter.tsx"],"sourcesContent":["import { useMemo } from 'react';\n\ninterface TextStyle {\n  color?: string;\n  bold: boolean;\n  italic: boolean;\n  wide: boolean;\n  narrow: boolean;\n  uppercase: boolean;\n  shadow: boolean;\n}\n\ninterface TextSegment {\n  text: string;\n  style: TextStyle;\n  link?: string;\n}\n\nfunction createDefaultStyle(): TextStyle {\n  return {\n    color: undefined,\n    bold: false,\n    italic: false,\n    wide: false,\n    narrow: false,\n    uppercase: false,\n    shadow: false,\n  };\n}\n\nfunction parseFormattedText(input: string): TextSegment[] {\n  const segments: TextSegment[] = [];\n  let currentStyle = createDefaultStyle();\n  let currentText = '';\n  let currentLink: string | undefined = undefined;\n  let i = 0;\n\n  const pushSegment = () => {\n    if (currentText) {\n      segments.push({\n        text: currentText,\n        style: { ...currentStyle },\n        link: currentLink,\n      });\n      currentText = '';\n    }\n  };\n\n  while (i < input.length) {\n    if (input[i] === '$' && i + 1 < input.length) {\n      const nextChar = input[i + 1];\n      const nextCharLower = nextChar.toLowerCase();\n\n      if (i + 3 < input.length && /^[0-9a-fA-F]{3}$/.test(input.slice(i + 1, i + 4))) {\n        pushSegment();\n        const hex = input.slice(i + 1, i + 4);\n        currentStyle.color = `#${hex}`;\n        i += 4;\n        continue;\n      }\n\n      if (nextChar === '$') {\n        currentText += '$';\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'z') {\n        pushSegment();\n        currentStyle = createDefaultStyle();\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'g') {\n        pushSegment();\n        currentStyle.color = undefined;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'o') {\n        pushSegment();\n        currentStyle.bold = true;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'i') {\n        pushSegment();\n        currentStyle.italic = true;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'w') {\n        pushSegment();\n        currentStyle.wide = true;\n        currentStyle.narrow = false;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'n') {\n        pushSegment();\n        currentStyle.narrow = true;\n        currentStyle.wide = false;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'm') {\n        pushSegment();\n        currentStyle.wide = false;\n        currentStyle.narrow = false;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 't') {\n        pushSegment();\n        currentStyle.uppercase = true;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 's') {\n        pushSegment();\n        currentStyle.shadow = true;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'l') {\n        pushSegment();\n        i += 2;\n\n        if (currentLink !== undefined) {\n          currentLink = undefined;\n          continue;\n        }\n\n        if (i < input.length && input[i] === '[') {\n          const closeBracket = input.indexOf(']', i);\n          if (closeBracket !== -1) {\n            currentLink = input.slice(i + 1, closeBracket);\n            i = closeBracket + 1;\n          }\n        } else {\n          const endLink = input.toLowerCase().indexOf('$l', i);\n          if (endLink !== -1) {\n            currentLink = input.slice(i, endLink);\n            currentText = currentLink;\n            i = endLink;\n          } else {\n            currentLink = input.slice(i);\n            currentText = currentLink;\n            i = input.length;\n          }\n        }\n        continue;\n      }\n    }\n\n    currentText += input[i];\n    i++;\n  }\n\n  pushSegment();\n  return segments;\n}\n\ninterface FormattedTextProps {\n  text: string;\n  className?: string;\n}\n\nexport function FormattedText({ text, className = '' }: FormattedTextProps) {\n  const segments = useMemo(() => parseFormattedText(text), [text]);\n\n  return (\n    <span className={className}>\n      {segments.map((segment, index) => (\n        <span\n          key={index}\n          style={{ color: segment.style.color }}\n          className={segment.style.bold ? 'font-bold' : ''}\n        >\n          {segment.text}\n        </span>\n      ))}\n    </span>\n  );\n}\n\nexport function useFormattedText(text: string) {\n  return useMemo(() => parseFormattedText(text), [text]);\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1945, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/mappack-edit/TiersTab.tsx"],"sourcesContent":["import { Button, Input, Select, SelectItem, Image } from \"@heroui/react\";\nimport { MappackTier, MappackTrack } from \"@/types/mappack.types\";\nimport { ColorPicker } from \"@/utils/colorPicker\";\nimport { FormattedText } from \"@/utils/textConverter\";\n\ninterface TiersTabProps {\n  tiers: MappackTier[];\n  tracks: MappackTrack[];\n  onAddTier: () => void;\n  onUpdateTier: (index: number, field: keyof MappackTier, value: string | number) => void;\n  onRemoveTier: (id: number | undefined) => void;\n  onAssignTier: (trackId: string, tierId: number | null) => void;\n  inputClassNames: any;\n}\n\nexport function TiersTab({\n  tiers,\n  tracks,\n  onAddTier,\n  onUpdateTier,\n  onRemoveTier,\n  onAssignTier,\n  inputClassNames,\n}: TiersTabProps) {\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <div className=\"grid grid-cols-[auto_1fr] items-center gap-2 mb-4\">\n          <p className=\"text-xl font-ruigslay\">Available Tiers</p>\n          <div className=\"flex-1 h-[5px] bg-neutral-300\"></div>\n        </div>\n        {tiers.map((tier, index) => (\n          <div\n            key={tier.id || `new-${index}`}\n            className=\"flex gap-2 mb-3 items-end bg-neutral-800 p-3 rounded-lg\"\n          >\n            <Input\n              label=\"Tier Name\"\n              variant=\"bordered\"\n              value={tier.name}\n              onValueChange={(value) => onUpdateTier(index, \"name\", value)}\n              className=\"flex-1\"\n              classNames={inputClassNames}\n            />\n            <Input\n              label=\"Points\"\n              type=\"number\"\n              variant=\"bordered\"\n              value={tier.points.toString()}\n              onValueChange={(value) =>\n                onUpdateTier(index, \"points\", parseInt(value) || 0)\n              }\n              className=\"w-24\"\n              classNames={inputClassNames}\n            />\n            <ColorPicker\n              value={tier.color}\n              onChange={(value) => onUpdateTier(index, \"color\", value)}\n              label=\"Tier Color\"\n            />\n            <Button\n              color=\"danger\"\n              variant=\"flat\"\n              onPress={() => onRemoveTier(tier.id)}\n              isIconOnly\n            >\n              âœ•\n            </Button>\n          </div>\n        ))}\n        <Button color=\"default\" onPress={onAddTier}>\n          Add Tier\n        </Button>\n      </div>\n\n      <div>\n        <div className=\"grid grid-cols-[auto_2fr] items-center gap-2 mb-4\">\n          <p className=\"text-xl font-ruigslay\">Track Tier Assignment</p>\n          <div className=\"flex-1 h-[5px] bg-neutral-300\"></div>\n        </div>\n        {tracks.map((mappackTrack) => (\n          <div\n            key={mappackTrack.track_id}\n            className=\"flex gap-2 mb-3 items-center bg-neutral-700 p-3 rounded-lg\"\n          >\n            <Image\n              removeWrapper\n              alt=\"Track thumbnail\"\n              className=\"z-0 w-16 h-16 object-cover rounded\"\n              src={mappackTrack.track.thumbnailUrl}\n            />\n            <span className=\"flex-1\">\n              <FormattedText text={mappackTrack.track.name} />\n            </span>\n            <Select\n              label=\"Tier\"\n              variant=\"bordered\"\n              selectedKeys={\n                mappackTrack.tier_id\n                  ? [mappackTrack.tier_id.toString()]\n                  : []\n              }\n              onSelectionChange={(keys) => {\n                const selectedTierId = Array.from(keys)[0] as string | undefined;\n                onAssignTier(\n                  mappackTrack.track_id,\n                  selectedTierId ? parseInt(selectedTierId) : null\n                );\n              }}\n              className=\"w-48\"\n              classNames={{\n                ...inputClassNames,\n                listboxWrapper: \"bg-neutral-800\",\n                popoverContent: \"bg-neutral-800\",\n                label: \"text-white\",\n                value: \"text-white\",\n              }}\n            >\n              {tiers\n                .filter((tier) => tier.id)\n                .map((tier) => (\n                  <SelectItem key={tier.id!.toString()}>\n                    {tier.name || \"(Unnamed)\"}\n                  </SelectItem>\n                ))}\n            </Select>\n            {mappackTrack.tier && mappackTrack.tier.color && (\n              <div\n                className=\"w-8 h-8 rounded border border-gray-600\"\n                style={{ backgroundColor: mappackTrack.tier.color }}\n              />\n            )}\n          </div>\n        ))}\n        {tiers.filter((t) => t.id).length === 0 && (\n          <p className=\"text-sm text-gray-400 italic mt-2\">\n            No tiers available. Create and save tiers first to assign them to tracks.\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2183, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/mappack-edit/RankEditor.tsx"],"sourcesContent":["import { Button, Input, Select, SelectItem, Switch } from \"@heroui/react\";\nimport { MappackRank } from \"@/types/mappack.types\";\nimport { ColorPicker } from \"@/utils/colorPicker\";\n\ninterface RankEditorProps {\n  rank: MappackRank;\n  index: number;\n  onUpdate: (index: number, field: keyof MappackRank, value: string | number | boolean | null) => void;\n  onRemove: (id: number | undefined) => void;\n  inputClassNames: any;\n}\n\nexport function RankEditor({ rank, index, onUpdate, onRemove, inputClassNames }: RankEditorProps) {\n  return (\n    <div className=\"border border-gray-600 rounded-lg p-4 bg-neutral-700 space-y-4\">\n      {/* Basic Info */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <Input\n          label=\"Rank Name\"\n          variant=\"bordered\"\n          value={rank.name}\n          onValueChange={(value) => onUpdate(index, \"name\", value)}\n          classNames={inputClassNames}\n        />\n        <Input\n          label=\"Points Needed\"\n          type=\"number\"\n          variant=\"bordered\"\n          value={rank.pointsNeeded.toString()}\n          onValueChange={(value) =>\n            onUpdate(index, \"pointsNeeded\", parseInt(value) || 0)\n          }\n          classNames={inputClassNames}\n        />\n      </div>\n\n      {/* Colors */}\n      <div className=\"grid grid-cols-3 gap-3 items-end\">\n        <ColorPicker\n          value={rank.color}\n          onChange={(value) => onUpdate(index, \"color\", value)}\n          label=\"Primary Color\"\n        />\n        <ColorPicker\n          value={rank.borderColor || rank.color}\n          onChange={(value) => onUpdate(index, \"borderColor\", value)}\n          label=\"Border Color\"\n        />\n        <Input\n          label=\"Border Width (px)\"\n          type=\"number\"\n          variant=\"bordered\"\n          value={rank.borderWidth.toString()}\n          onValueChange={(value) =>\n            onUpdate(index, \"borderWidth\", parseInt(value) || 2)\n          }\n          classNames={inputClassNames}\n        />\n      </div>\n\n      {/* Visual Effects Toggles */}\n      <div className=\"grid grid-cols-3 gap-4\">\n        <Switch\n          isSelected={rank.backgroundGlow}\n          onValueChange={(checked) => onUpdate(index, \"backgroundGlow\", checked)}\n          classNames={{\n            wrapper: \"group-data-[selected=true]:bg-white bg-neutral-600\",\n          }}\n        >\n          <span className=\"text-white text-sm\">Background Glow</span>\n        </Switch>\n        <Switch\n          isSelected={rank.invertedColor}\n          onValueChange={(checked) => onUpdate(index, \"invertedColor\", checked)}\n          classNames={{\n            wrapper: \"group-data-[selected=true]:bg-white bg-neutral-600\",\n          }}\n        >\n          <span className=\"text-white text-sm\">Inverted Colors</span>\n        </Switch>\n        <Switch\n          isSelected={rank.textShadow}\n          onValueChange={(checked) => onUpdate(index, \"textShadow\", checked)}\n          classNames={{\n            wrapper: \"group-data-[selected=true]:bg-white bg-neutral-600\",\n          }}\n        >\n          <span className=\"text-white text-sm\">Text Shadow</span>\n        </Switch>\n      </div>\n\n      {/* Glow Intensity */}\n      <Input\n        label=\"Glow Intensity (0-100)\"\n        type=\"number\"\n        variant=\"bordered\"\n        value={rank.glowIntensity.toString()}\n        onValueChange={(value) =>\n          onUpdate(index, \"glowIntensity\", Math.min(100, Math.max(0, parseInt(value) || 50)))\n        }\n        classNames={inputClassNames}\n      />\n\n      {/* Symbols */}\n      <Input\n        label=\"Symbols Around Name (e.g., â—† or â˜…â˜…)\"\n        variant=\"bordered\"\n        value={rank.symbolsAround || \"\"}\n        onValueChange={(value) => onUpdate(index, \"symbolsAround\", value || null)}\n        placeholder=\"Leave empty for no symbols\"\n        classNames={inputClassNames}\n      />\n\n      {/* Dropdown Selects */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <Select\n          label=\"Animation Type\"\n          variant=\"bordered\"\n          selectedKeys={[rank.animationType]}\n          onSelectionChange={(keys) => {\n            const value = Array.from(keys)[0] as string;\n            onUpdate(index, \"animationType\", value);\n          }}\n          classNames={{\n            ...inputClassNames,\n            listboxWrapper: \"bg-neutral-800\",\n            popoverContent: \"bg-neutral-800\",\n            label: \"text-white\",\n            value: \"text-white\",\n          }}\n        >\n          <SelectItem key=\"none\">None</SelectItem>\n          <SelectItem key=\"shine\">Shine</SelectItem>\n          <SelectItem key=\"pulse\">Pulse</SelectItem>\n          <SelectItem key=\"shimmer\">Shimmer</SelectItem>\n        </Select>\n\n        <Select\n          label=\"Card Style\"\n          variant=\"bordered\"\n          selectedKeys={[rank.cardStyle]}\n          onSelectionChange={(keys) => {\n            const value = Array.from(keys)[0] as string;\n            onUpdate(index, \"cardStyle\", value);\n          }}\n          classNames={{\n            ...inputClassNames,\n            listboxWrapper: \"bg-neutral-800\",\n            popoverContent: \"bg-neutral-800\",\n            label: \"text-white\",\n            value: \"text-white\",\n          }}\n        >\n          <SelectItem key=\"normal\">Normal</SelectItem>\n          <SelectItem key=\"metallic\">Metallic</SelectItem>\n          <SelectItem key=\"holographic\">Holographic</SelectItem>\n          <SelectItem key=\"neon\">Neon</SelectItem>\n        </Select>\n      </div>\n\n      <div className=\"grid grid-cols-3 gap-3\">\n        <Select\n          label=\"Background Pattern\"\n          variant=\"bordered\"\n          selectedKeys={[rank.backgroundPattern]}\n          onSelectionChange={(keys) => {\n            const value = Array.from(keys)[0] as string;\n            onUpdate(index, \"backgroundPattern\", value);\n          }}\n          classNames={{\n            ...inputClassNames,\n            listboxWrapper: \"bg-neutral-800\",\n            popoverContent: \"bg-neutral-800\",\n            label: \"text-white\",\n            value: \"text-white\",\n          }}\n        >\n          <SelectItem key=\"none\">None</SelectItem>\n          <SelectItem key=\"dots\">Dots</SelectItem>\n          <SelectItem key=\"grid\">Grid</SelectItem>\n          <SelectItem key=\"diagonal\">Diagonal</SelectItem>\n        </Select>\n\n        <Select\n          label=\"Font Size\"\n          variant=\"bordered\"\n          selectedKeys={[rank.fontSize]}\n          onSelectionChange={(keys) => {\n            const value = Array.from(keys)[0] as string;\n            onUpdate(index, \"fontSize\", value);\n          }}\n          classNames={{\n            ...inputClassNames,\n            listboxWrapper: \"bg-neutral-800\",\n            popoverContent: \"bg-neutral-800\",\n            label: \"text-white\",\n            value: \"text-white\",\n          }}\n        >\n          <SelectItem key=\"normal\">Normal</SelectItem>\n          <SelectItem key=\"large\">Large</SelectItem>\n          <SelectItem key=\"xl\">Extra Large</SelectItem>\n        </Select>\n\n        <Select\n          label=\"Font Weight\"\n          variant=\"bordered\"\n          selectedKeys={[rank.fontWeight]}\n          onSelectionChange={(keys) => {\n            const value = Array.from(keys)[0] as string;\n            onUpdate(index, \"fontWeight\", value);\n          }}\n          classNames={{\n            ...inputClassNames,\n            listboxWrapper: \"bg-neutral-800\",\n            popoverContent: \"bg-neutral-800\",\n            label: \"text-white\",\n            value: \"text-white\",\n          }}\n        >\n          <SelectItem key=\"normal\">Normal</SelectItem>\n          <SelectItem key=\"bold\">Bold</SelectItem>\n          <SelectItem key=\"black\">Black</SelectItem>\n        </Select>\n      </div>\n\n      {/* Remove Button */}\n      <div className=\"flex justify-end\">\n        <Button\n          color=\"danger\"\n          variant=\"flat\"\n          onPress={() => onRemove(rank.id)}\n          size=\"sm\"\n        >\n          Remove Rank\n        </Button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2654, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/mappack-edit/RanksTab.tsx"],"sourcesContent":["import { Button } from \"@heroui/react\";\nimport { MappackRank } from \"@/types/mappack.types\";\nimport { RankEditor } from \"./RankEditor\";\n\ninterface RanksTabProps {\n  ranks: MappackRank[];\n  onAdd: () => void;\n  onUpdate: (index: number, field: keyof MappackRank, value: string | number | boolean | null) => void;\n  onRemove: (id: number | undefined) => void;\n  inputClassNames: any;\n}\n\nexport function RanksTab({ ranks, onAdd, onUpdate, onRemove, inputClassNames }: RanksTabProps) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"grid grid-cols-[auto_1fr] items-center gap-2\">\n        <p className=\"text-xl font-ruigslay\">Player Ranks</p>\n        <div className=\"flex-1 h-[5px] bg-neutral-300\"></div>\n      </div>\n      <p className=\"text-sm text-gray-400 mb-4\">\n        Ranks are awarded to players based on their total points. Customize the appearance of each rank.\n      </p>\n\n      {ranks.map((rank, index) => (\n        <RankEditor\n          key={rank.id || `new-${index}`}\n          rank={rank}\n          index={index}\n          onUpdate={onUpdate}\n          onRemove={onRemove}\n          inputClassNames={inputClassNames}\n        />\n      ))}\n\n      <Button color=\"default\" onPress={onAdd}>\n        Add Rank\n      </Button>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAUO,SAAS,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,eAAe,EAAiB;IAC3F,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAEjB,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;YAIzC,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,8OAAC,2JAAA,CAAA,aAAU;oBAET,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,UAAU;oBACV,iBAAiB;mBALZ,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO;;;;;0BASlC,8OAAC,4MAAA,CAAA,SAAM;gBAAC,OAAM;gBAAU,SAAS;0BAAO;;;;;;;;;;;;AAK9C","debugId":null}},
    {"offset": {"line": 2730, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/mappack-edit/CollapsibleTrackItem.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Input, Image, Button } from \"@heroui/react\";\nimport { MappackTrack, TimeGoal } from \"@/types/mappack.types\";\nimport { FormattedText } from \"@/utils/textConverter\";\nimport { FaChevronDown, FaChevronUp, FaTrash } from \"react-icons/fa\";\n\ninterface CollapsibleTrackItemProps {\n  track: MappackTrack;\n  timeGoals: TimeGoal[];\n  timeInputValues: Record<string, Record<number, string>>;\n  onTimeGoalChange: (trackId: string, timeGoalId: number, value: string) => void;\n  onMapStyleChange: (trackId: string, value: string) => void;\n  onDelete: (trackId: string, trackName: string) => void;\n  inputClassNames: any;\n}\n\nexport function CollapsibleTrackItem({\n  track,\n  timeGoals,\n  timeInputValues,\n  onTimeGoalChange,\n  onMapStyleChange,\n  onDelete,\n  inputClassNames,\n}: CollapsibleTrackItemProps) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <div className=\"border border-gray-700 rounded-lg overflow-hidden bg-neutral-700\">\n      {/* Header - Always Visible */}\n      <div className=\"flex items-center gap-3 p-4 bg-neutral-800\">\n        <Image\n          removeWrapper\n          alt=\"Track thumbnail\"\n          className=\"w-16 h-16 object-cover rounded flex-shrink-0\"\n          src={track.track.thumbnailUrl}\n        />\n        \n        <div className=\"flex-1 min-w-0\">\n          <h3 className=\"font-bold text-base text-white truncate\">\n            <FormattedText text={track.track.name} />\n          </h3>\n          <p className=\"text-sm text-gray-400\">by {track.track.author}</p>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <Button\n            size=\"sm\"\n            color=\"danger\"\n            variant=\"flat\"\n            isIconOnly\n            onPress={() => onDelete(track.track_id, track.track.name)}\n          >\n            <FaTrash className=\"w-3 h-3\" />\n          </Button>\n          \n          <Button\n            size=\"sm\"\n            variant=\"light\"\n            isIconOnly\n            onPress={() => setIsOpen(!isOpen)}\n            className=\"text-white\"\n          >\n            {isOpen ? (\n              <FaChevronUp className=\"w-4 h-4\" />\n            ) : (\n              <FaChevronDown className=\"w-4 h-4\" />\n            )}\n          </Button>\n        </div>\n      </div>\n\n      {/* Collapsible Content */}\n      {isOpen && (\n        <div className=\"p-4 space-y-4\">\n          <Input\n            label=\"Map Style\"\n            variant=\"bordered\"\n            value={track.mapStyle || \"\"}\n            onValueChange={(value) => onMapStyleChange(track.track_id, value)}\n            classNames={inputClassNames}\n          />\n\n          <div className=\"space-y-2\">\n            <p className=\"text-sm font-semibold text-white\">\n              Time Goals (format: minutes:seconds:milliseconds)\n            </p>\n            <div className=\"grid grid-cols-2 gap-2\">\n              {timeGoals\n                .filter((tg) => tg.id)\n                .map((timeGoal) => {\n                  const inputValue = timeInputValues[track.track_id]?.[timeGoal.id!] || \"\";\n\n                  return (\n                    <Input\n                      key={timeGoal.id}\n                      label={`${timeGoal.name} (Ã—${timeGoal.multiplier})`}\n                      placeholder=\"1:03:942\"\n                      variant=\"bordered\"\n                      value={inputValue}\n                      onValueChange={(value) =>\n                        onTimeGoalChange(track.track_id, timeGoal.id!, value)\n                      }\n                      classNames={inputClassNames}\n                      description=\"Format: MM:SS:mmm\"\n                    />\n                  );\n                })}\n            </div>\n            {timeGoals.filter((tg) => tg.id).length === 0 && (\n              <p className=\"text-sm text-gray-400 italic\">\n                No time goals available. Create and save time goals first.\n              </p>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAEA;AACA;;;;;;AAYO,SAAS,qBAAqB,EACnC,KAAK,EACL,SAAS,EACT,eAAe,EACf,gBAAgB,EAChB,gBAAgB,EAChB,QAAQ,EACR,eAAe,EACW;IAC1B,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErC,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,yMAAA,CAAA,QAAK;wBACJ,aAAa;wBACb,KAAI;wBACJ,WAAU;wBACV,KAAK,MAAM,KAAK,CAAC,YAAY;;;;;;kCAG/B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CACZ,cAAA,8OAAC,8HAAA,CAAA,gBAAa;oCAAC,MAAM,MAAM,KAAK,CAAC,IAAI;;;;;;;;;;;0CAEvC,8OAAC;gCAAE,WAAU;;oCAAwB;oCAAI,MAAM,KAAK,CAAC,MAAM;;;;;;;;;;;;;kCAG7D,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,4MAAA,CAAA,SAAM;gCACL,MAAK;gCACL,OAAM;gCACN,SAAQ;gCACR,UAAU;gCACV,SAAS,IAAM,SAAS,MAAM,QAAQ,EAAE,MAAM,KAAK,CAAC,IAAI;0CAExD,cAAA,8OAAC,8IAAA,CAAA,UAAO;oCAAC,WAAU;;;;;;;;;;;0CAGrB,8OAAC,4MAAA,CAAA,SAAM;gCACL,MAAK;gCACL,SAAQ;gCACR,UAAU;gCACV,SAAS,IAAM,UAAU,CAAC;gCAC1B,WAAU;0CAET,uBACC,8OAAC,8IAAA,CAAA,cAAW;oCAAC,WAAU;;;;;yDAEvB,8OAAC,8IAAA,CAAA,gBAAa;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;YAOhC,wBACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,yMAAA,CAAA,QAAK;wBACJ,OAAM;wBACN,SAAQ;wBACR,OAAO,MAAM,QAAQ,IAAI;wBACzB,eAAe,CAAC,QAAU,iBAAiB,MAAM,QAAQ,EAAE;wBAC3D,YAAY;;;;;;kCAGd,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAmC;;;;;;0CAGhD,8OAAC;gCAAI,WAAU;0CACZ,UACE,MAAM,CAAC,CAAC,KAAO,GAAG,EAAE,EACpB,GAAG,CAAC,CAAC;oCACJ,MAAM,aAAa,eAAe,CAAC,MAAM,QAAQ,CAAC,EAAE,CAAC,SAAS,EAAE,CAAE,IAAI;oCAEtE,qBACE,8OAAC,yMAAA,CAAA,QAAK;wCAEJ,OAAO,GAAG,SAAS,IAAI,CAAC,GAAG,EAAE,SAAS,UAAU,CAAC,CAAC,CAAC;wCACnD,aAAY;wCACZ,SAAQ;wCACR,OAAO;wCACP,eAAe,CAAC,QACd,iBAAiB,MAAM,QAAQ,EAAE,SAAS,EAAE,EAAG;wCAEjD,YAAY;wCACZ,aAAY;uCATP,SAAS,EAAE;;;;;gCAYtB;;;;;;4BAEH,UAAU,MAAM,CAAC,CAAC,KAAO,GAAG,EAAE,EAAE,MAAM,KAAK,mBAC1C,8OAAC;gCAAE,WAAU;0CAA+B;;;;;;;;;;;;;;;;;;;;;;;;AAS1D","debugId":null}},
    {"offset": {"line": 2933, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/mappack-edit/TrackTimesTab.tsx"],"sourcesContent":["// components/mappack-edit/TrackTimesTab.tsx\nimport { useEffect } from \"react\";\nimport { MappackTrack, TimeGoal } from \"@/types/mappack.types\";\nimport { millisecondsToTimeString } from \"@/utils/time.utils\";\nimport { CollapsibleTrackItem } from \"./CollapsibleTrackItem\";\n\ninterface TrackTimesTabProps {\n  tracks: MappackTrack[];\n  timeGoals: TimeGoal[];\n  timeInputValues: Record<string, Record<number, string>>;\n  onUpdateTrackTime: (trackId: string, timeGoalId: number, timeString: string) => void;\n  onUpdateMapStyle: (trackId: string, mapStyle: string) => void;\n  onDeleteTrack: (trackId: string, trackName: string) => void;\n  inputClassNames: any;\n}\n\nexport function TrackTimesTab({\n  tracks,\n  timeGoals,\n  timeInputValues,\n  onUpdateTrackTime,\n  onUpdateMapStyle,\n  onDeleteTrack,\n  inputClassNames,\n}: TrackTimesTabProps) {\n  // Initialize time input values from existing data\n  useEffect(() => {\n    tracks.forEach((track) => {\n      track.timeGoalMappackTrack?.forEach((tgmt) => {\n        if (tgmt.time && !timeInputValues[track.track_id]?.[tgmt.time_goal_id]) {\n          const timeString = millisecondsToTimeString(tgmt.time);\n          onUpdateTrackTime(track.track_id, tgmt.time_goal_id, timeString);\n        }\n      });\n    });\n  }, [tracks]); // Only run when tracks change\n\n  const timeGoalIds = timeGoals.filter((tg) => tg.id).map((tg) => tg.id!);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-[auto_1fr] items-center gap-2 mb-4\">\n        <p className=\"text-xl font-ruigslay\">Track Time Goals</p>\n        <div className=\"flex-1 h-[5px] bg-neutral-300\"></div>\n      </div>\n\n      {tracks.length === 0 && (\n        <p className=\"text-gray-400 italic text-center py-8\">\n          No tracks in this mappack.\n        </p>\n      )}\n\n      <div className=\"space-y-3\">\n        {tracks.map((track) => (\n          <CollapsibleTrackItem\n            key={track.track_id}\n            track={track}\n            timeGoals={timeGoals}\n            timeInputValues={timeInputValues}\n            onTimeGoalChange={onUpdateTrackTime}\n            onMapStyleChange={onUpdateMapStyle}\n            onDelete={onDeleteTrack}\n            inputClassNames={inputClassNames}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,4CAA4C;;;;;AAC5C;AAEA;AACA;;;;;AAYO,SAAS,cAAc,EAC5B,MAAM,EACN,SAAS,EACT,eAAe,EACf,iBAAiB,EACjB,gBAAgB,EAChB,aAAa,EACb,eAAe,EACI;IACnB,kDAAkD;IAClD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,OAAO,OAAO,CAAC,CAAC;YACd,MAAM,oBAAoB,EAAE,QAAQ,CAAC;gBACnC,IAAI,KAAK,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,QAAQ,CAAC,EAAE,CAAC,KAAK,YAAY,CAAC,EAAE;oBACtE,MAAM,aAAa,CAAA,GAAA,6HAAA,CAAA,2BAAwB,AAAD,EAAE,KAAK,IAAI;oBACrD,kBAAkB,MAAM,QAAQ,EAAE,KAAK,YAAY,EAAE;gBACvD;YACF;QACF;IACF,GAAG;QAAC;KAAO,GAAG,8BAA8B;IAE5C,MAAM,cAAc,UAAU,MAAM,CAAC,CAAC,KAAO,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,KAAO,GAAG,EAAE;IAErE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,8OAAC;wBAAI,WAAU;;;;;;;;;;;;YAGhB,OAAO,MAAM,KAAK,mBACjB,8OAAC;gBAAE,WAAU;0BAAwC;;;;;;0BAKvD,8OAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC,sBACX,8OAAC,qKAAA,CAAA,uBAAoB;wBAEnB,OAAO;wBACP,WAAW;wBACX,iBAAiB;wBACjB,kBAAkB;wBAClB,kBAAkB;wBAClB,UAAU;wBACV,iBAAiB;uBAPZ,MAAM,QAAQ;;;;;;;;;;;;;;;;AAa/B","debugId":null}},
    {"offset": {"line": 3026, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/EditMappackModal.tsx"],"sourcesContent":["\"use client\";\nimport {\n  Modal,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n  Tabs,\n  Tab,\n} from \"@heroui/react\";\nimport { useState } from \"react\";\nimport { Mappack } from \"@/types/mappack.types\";\nimport { useEditMappack } from \"@/hooks/useEditMappack\";\nimport { mappackEditService } from \"@/services/mappack-edit.service\";\nimport { ConfirmDialog } from \"./ConfirmDialog\";\nimport { BasicInfoTab } from \"./mappack-edit/BasicInfoTab\";\nimport { TimeGoalsTab } from \"./mappack-edit/TimeGoalsTab\";\nimport { TiersTab } from \"./mappack-edit/TiersTab\";\nimport { RanksTab } from \"./mappack-edit/RanksTab\";\nimport { TrackTimesTab } from \"./mappack-edit/TrackTimesTab\";\nimport { MODAL_INPUT_CLASSNAMES, MODAL_CLASSNAMES, TAB_CLASSNAMES } from \"@/constants/modal-styles\";\n\ninterface EditMappackModalProps {\n  mappack: Mappack | null;\n  onSave: () => void;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\ninterface ConfirmDialogState {\n  isOpen: boolean;\n  title: string;\n  message: string;\n  onConfirm: () => void;\n}\n\nexport function EditMappackModal({\n  mappack,\n  onSave,\n  isOpen,\n  onClose,\n}: EditMappackModalProps) {\n  const [isSaving, setIsSaving] = useState(false);\n  const [confirmDialog, setConfirmDialog] = useState<ConfirmDialogState | null>(null);\n\n  const {\n    editData,\n    setEditData,\n    timeInputValues,\n    addTimeGoal,\n    updateTimeGoal,\n    removeTimeGoalFromState,\n    addTier,\n    updateTier,\n    removeTierFromState,\n    addRank,\n    updateRank,\n    removeRankFromState,\n    assignTierToTrack,\n    updateTrackTime,\n    updateMapStyle,\n    removeTrackFromState,\n  } = useEditMappack(mappack, isOpen);\n\n  if (!editData) {\n    return null;\n  }\n\n  const handleSave = async () => {\n    setIsSaving(true);\n    try {\n      await mappackEditService.updateMappack(editData);\n      onSave();\n      onClose();\n    } catch (error) {\n      console.error(\"Error saving mappack:\", error);\n      alert(\n        `Failed to save mappack: ${error instanceof Error ? error.message : \"Unknown error\"}`\n      );\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleRemoveTimeGoal = async (id: number | undefined) => {\n    if (!id) {\n      removeTimeGoalFromState(id);\n      return;\n    }\n\n    setConfirmDialog({\n      isOpen: true,\n      title: \"Delete Time Goal\",\n      message: \"This will permanently delete this time goal and all associated player achievements. This action cannot be undone.\",\n      onConfirm: async () => {\n        try {\n          await mappackEditService.deleteTimeGoal(editData.id, id);\n          removeTimeGoalFromState(id);\n        } catch (error) {\n          console.error(\"Error deleting time goal:\", error);\n          alert(\"Failed to delete time goal\");\n        }\n      },\n    });\n  };\n\n  const handleRemoveTier = async (id: number | undefined) => {\n    if (!id) {\n      removeTierFromState(id);\n      return;\n    }\n\n    setConfirmDialog({\n      isOpen: true,\n      title: \"Delete Tier\",\n      message: \"This will remove this tier. Tracks assigned to this tier will become unranked.\",\n      onConfirm: async () => {\n        try {\n          await mappackEditService.deleteTier(editData.id, id);\n          removeTierFromState(id);\n        } catch (error) {\n          console.error(\"Error deleting tier:\", error);\n          alert(\"Failed to delete tier\");\n        }\n      },\n    });\n  };\n\n  const handleRemoveRank = async (id: number | undefined) => {\n    if (!id) {\n      removeRankFromState(id);\n      return;\n    }\n\n    setConfirmDialog({\n      isOpen: true,\n      title: \"Delete Rank\",\n      message: \"This will permanently delete this rank. Players with this rank will be re-assigned based on their points.\",\n      onConfirm: async () => {\n        try {\n          await mappackEditService.deleteRank(editData.id, id);\n          removeRankFromState(id);\n        } catch (error) {\n          console.error(\"Error deleting rank:\", error);\n          alert(\"Failed to delete rank\");\n        }\n      },\n    });\n  };\n\n  const handleDeleteTrack = (trackId: string, trackName: string) => {\n    setConfirmDialog({\n      isOpen: true,\n      title: \"Delete Track\",\n      message: `Are you sure you want to remove \"${trackName}\" from this mappack? This will delete all time goals and tier assignments for this track.`,\n      onConfirm: async () => {\n        try {\n          await mappackEditService.deleteTrack(editData!.id, trackId);\n          removeTrackFromState(trackId);\n        } catch (error) {\n          console.error(\"Error deleting track:\", error);\n          alert(\"Failed to delete track\");\n        }\n      },\n    });\n  };\n\n  return (\n    <>\n      <Modal\n        isOpen={isOpen}\n        onOpenChange={onClose}\n        placement=\"top-center\"\n        size=\"5xl\"\n        scrollBehavior=\"inside\"\n        classNames={MODAL_CLASSNAMES}\n      >\n        <ModalContent>\n          {(onClose) => (\n            <>\n              <ModalHeader className=\"flex flex-col gap-1 text-4xl font-ruigslay items-center\">\n                Edit Mappack\n              </ModalHeader>\n              <ModalBody>\n                <Tabs classNames={TAB_CLASSNAMES}>\n                  <Tab key=\"basic\" title=\"Basic Info\">\n                    <BasicInfoTab\n                      editData={editData}\n                      onUpdate={(updates) => setEditData({ ...editData, ...updates })}\n                      inputClassNames={MODAL_INPUT_CLASSNAMES}\n                    />\n                  </Tab>\n\n                  <Tab key=\"timegoals\" title=\"Time Goals\">\n                    <TimeGoalsTab\n                      timeGoals={editData.timeGoals}\n                      onAdd={addTimeGoal}\n                      onUpdate={updateTimeGoal}\n                      onRemove={handleRemoveTimeGoal}\n                      inputClassNames={MODAL_INPUT_CLASSNAMES}\n                    />\n                  </Tab>\n\n                  <Tab key=\"tiers\" title=\"Tiers\">\n                    <TiersTab\n                      tiers={editData.mappackTiers}\n                      tracks={editData.MappackTrack}\n                      onAddTier={addTier}\n                      onUpdateTier={updateTier}\n                      onRemoveTier={handleRemoveTier}\n                      onAssignTier={assignTierToTrack}\n                      inputClassNames={MODAL_INPUT_CLASSNAMES}\n                    />\n                  </Tab>\n\n                  <Tab key=\"ranks\" title=\"Ranks\">\n                    <RanksTab\n                      ranks={editData.mappackRanks}\n                      onAdd={addRank}\n                      onUpdate={updateRank}\n                      onRemove={handleRemoveRank}\n                      inputClassNames={MODAL_INPUT_CLASSNAMES}\n                    />\n                  </Tab>\n\n                  <Tab key=\"tracks\" title=\"Track Times\">\n                    <TrackTimesTab\n                      tracks={editData.MappackTrack}\n                      timeGoals={editData.timeGoals}\n                      timeInputValues={timeInputValues}\n                      onUpdateTrackTime={updateTrackTime}\n                      onUpdateMapStyle={updateMapStyle}\n                      onDeleteTrack={handleDeleteTrack}\n                      inputClassNames={MODAL_INPUT_CLASSNAMES}\n                    />\n                  </Tab>\n                </Tabs>\n              </ModalBody>\n              <ModalFooter>\n                <Button color=\"default\" variant=\"bordered\" onPress={onClose}>\n                  Cancel\n                </Button>\n                <Button color=\"default\" onPress={handleSave} isLoading={isSaving}>\n                  Save All Changes\n                </Button>\n              </ModalFooter>\n            </>\n          )}\n        </ModalContent>\n      </Modal>\n\n      {confirmDialog && (\n        <ConfirmDialog\n          isOpen={confirmDialog.isOpen}\n          onClose={() => setConfirmDialog(null)}\n          onConfirm={confirmDialog.onConfirm}\n          title={confirmDialog.title}\n          message={confirmDialog.message}\n          confirmText=\"Delete\"\n          cancelText=\"Cancel\"\n          isDangerous={true}\n        />\n      )}\n    </>\n  );\n}"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;;;;;;;;;;;;;AAqCO,SAAS,iBAAiB,EAC/B,OAAO,EACP,MAAM,EACN,MAAM,EACN,OAAO,EACe;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA6B;IAE9E,MAAM,EACJ,QAAQ,EACR,WAAW,EACX,eAAe,EACf,WAAW,EACX,cAAc,EACd,uBAAuB,EACvB,OAAO,EACP,UAAU,EACV,mBAAmB,EACnB,OAAO,EACP,UAAU,EACV,mBAAmB,EACnB,iBAAiB,EACjB,eAAe,EACf,cAAc,EACd,oBAAoB,EACrB,GAAG,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD,EAAE,SAAS;IAE5B,IAAI,CAAC,UAAU;QACb,OAAO;IACT;IAEA,MAAM,aAAa;QACjB,YAAY;QACZ,IAAI;YACF,MAAM,6IAAA,CAAA,qBAAkB,CAAC,aAAa,CAAC;YACvC;YACA;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,MACE,CAAC,wBAAwB,EAAE,iBAAiB,QAAQ,MAAM,OAAO,GAAG,iBAAiB;QAEzF,SAAU;YACR,YAAY;QACd;IACF;IAEA,MAAM,uBAAuB,OAAO;QAClC,IAAI,CAAC,IAAI;YACP,wBAAwB;YACxB;QACF;QAEA,iBAAiB;YACf,QAAQ;YACR,OAAO;YACP,SAAS;YACT,WAAW;gBACT,IAAI;oBACF,MAAM,6IAAA,CAAA,qBAAkB,CAAC,cAAc,CAAC,SAAS,EAAE,EAAE;oBACrD,wBAAwB;gBAC1B,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,6BAA6B;oBAC3C,MAAM;gBACR;YACF;QACF;IACF;IAEA,MAAM,mBAAmB,OAAO;QAC9B,IAAI,CAAC,IAAI;YACP,oBAAoB;YACpB;QACF;QAEA,iBAAiB;YACf,QAAQ;YACR,OAAO;YACP,SAAS;YACT,WAAW;gBACT,IAAI;oBACF,MAAM,6IAAA,CAAA,qBAAkB,CAAC,UAAU,CAAC,SAAS,EAAE,EAAE;oBACjD,oBAAoB;gBACtB,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,wBAAwB;oBACtC,MAAM;gBACR;YACF;QACF;IACF;IAEA,MAAM,mBAAmB,OAAO;QAC9B,IAAI,CAAC,IAAI;YACP,oBAAoB;YACpB;QACF;QAEA,iBAAiB;YACf,QAAQ;YACR,OAAO;YACP,SAAS;YACT,WAAW;gBACT,IAAI;oBACF,MAAM,6IAAA,CAAA,qBAAkB,CAAC,UAAU,CAAC,SAAS,EAAE,EAAE;oBACjD,oBAAoB;gBACtB,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,wBAAwB;oBACtC,MAAM;gBACR;YACF;QACF;IACF;IAEA,MAAM,oBAAoB,CAAC,SAAiB;QAC1C,iBAAiB;YACf,QAAQ;YACR,OAAO;YACP,SAAS,CAAC,iCAAiC,EAAE,UAAU,yFAAyF,CAAC;YACjJ,WAAW;gBACT,IAAI;oBACF,MAAM,6IAAA,CAAA,qBAAkB,CAAC,WAAW,CAAC,SAAU,EAAE,EAAE;oBACnD,qBAAqB;gBACvB,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,yBAAyB;oBACvC,MAAM;gBACR;YACF;QACF;IACF;IAEA,qBACE;;0BACE,8OAAC,yMAAA,CAAA,QAAK;gBACJ,QAAQ;gBACR,cAAc;gBACd,WAAU;gBACV,MAAK;gBACL,gBAAe;gBACf,YAAY,mIAAA,CAAA,mBAAgB;0BAE5B,cAAA,8OAAC,wNAAA,CAAA,eAAY;8BACV,CAAC,wBACA;;8CACE,8OAAC,sNAAA,CAAA,cAAW;oCAAC,WAAU;8CAA0D;;;;;;8CAGjF,8OAAC,kNAAA,CAAA,YAAS;8CACR,cAAA,8OAAC,sMAAA,CAAA,OAAI;wCAAC,YAAY,mIAAA,CAAA,iBAAc;;0DAC9B,8OAAC,8MAAA,CAAA,MAAG;gDAAa,OAAM;0DACrB,cAAA,8OAAC,6JAAA,CAAA,eAAY;oDACX,UAAU;oDACV,UAAU,CAAC,UAAY,YAAY;4DAAE,GAAG,QAAQ;4DAAE,GAAG,OAAO;wDAAC;oDAC7D,iBAAiB,mIAAA,CAAA,yBAAsB;;;;;;+CAJlC;;;;;0DAQT,8OAAC,8MAAA,CAAA,MAAG;gDAAiB,OAAM;0DACzB,cAAA,8OAAC,6JAAA,CAAA,eAAY;oDACX,WAAW,SAAS,SAAS;oDAC7B,OAAO;oDACP,UAAU;oDACV,UAAU;oDACV,iBAAiB,mIAAA,CAAA,yBAAsB;;;;;;+CANlC;;;;;0DAUT,8OAAC,8MAAA,CAAA,MAAG;gDAAa,OAAM;0DACrB,cAAA,8OAAC,yJAAA,CAAA,WAAQ;oDACP,OAAO,SAAS,YAAY;oDAC5B,QAAQ,SAAS,YAAY;oDAC7B,WAAW;oDACX,cAAc;oDACd,cAAc;oDACd,cAAc;oDACd,iBAAiB,mIAAA,CAAA,yBAAsB;;;;;;+CARlC;;;;;0DAYT,8OAAC,8MAAA,CAAA,MAAG;gDAAa,OAAM;0DACrB,cAAA,8OAAC,yJAAA,CAAA,WAAQ;oDACP,OAAO,SAAS,YAAY;oDAC5B,OAAO;oDACP,UAAU;oDACV,UAAU;oDACV,iBAAiB,mIAAA,CAAA,yBAAsB;;;;;;+CANlC;;;;;0DAUT,8OAAC,8MAAA,CAAA,MAAG;gDAAc,OAAM;0DACtB,cAAA,8OAAC,8JAAA,CAAA,gBAAa;oDACZ,QAAQ,SAAS,YAAY;oDAC7B,WAAW,SAAS,SAAS;oDAC7B,iBAAiB;oDACjB,mBAAmB;oDACnB,kBAAkB;oDAClB,eAAe;oDACf,iBAAiB,mIAAA,CAAA,yBAAsB;;;;;;+CARlC;;;;;;;;;;;;;;;;8CAab,8OAAC,sNAAA,CAAA,cAAW;;sDACV,8OAAC,4MAAA,CAAA,SAAM;4CAAC,OAAM;4CAAU,SAAQ;4CAAW,SAAS;sDAAS;;;;;;sDAG7D,8OAAC,4MAAA,CAAA,SAAM;4CAAC,OAAM;4CAAU,SAAS;4CAAY,WAAW;sDAAU;;;;;;;;;;;;;;;;;;;;;;;;YAS3E,+BACC,8OAAC,2IAAA,CAAA,gBAAa;gBACZ,QAAQ,cAAc,MAAM;gBAC5B,SAAS,IAAM,iBAAiB;gBAChC,WAAW,cAAc,SAAS;gBAClC,OAAO,cAAc,KAAK;gBAC1B,SAAS,cAAc,OAAO;gBAC9B,aAAY;gBACZ,YAAW;gBACX,aAAa;;;;;;;;AAKvB","debugId":null}},
    {"offset": {"line": 3348, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/RequireRole.tsx"],"sourcesContent":["\"use client\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { ReactNode } from \"react\";\n\ninterface RequireRoleProps {\n  role: \"user\" | \"admin\";\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\nexport default function RequireRole({ \n  role, \n  children, \n  fallback = null \n}: RequireRoleProps) {\n  const { user, isAuthenticated } = useAuth();\n\n  if (!isAuthenticated) {\n    return <>{fallback}</>;\n  }\n\n  if (user?.role === \"admin\") {\n    return <>{children}</>;\n  }\n\n  if (user?.role === role) {\n    return <>{children}</>;\n  }\n\n  return <>{fallback}</>;\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAUe,SAAS,YAAY,EAClC,IAAI,EACJ,QAAQ,EACR,WAAW,IAAI,EACE;IACjB,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAExC,IAAI,CAAC,iBAAiB;QACpB,qBAAO;sBAAG;;IACZ;IAEA,IAAI,MAAM,SAAS,SAAS;QAC1B,qBAAO;sBAAG;;IACZ;IAEA,IAAI,MAAM,SAAS,MAAM;QACvB,qBAAO;sBAAG;;IACZ;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 3381, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/MappackSidebar.tsx"],"sourcesContent":["import { Button } from \"@heroui/react\";\nimport AddTrackModal from \"@/app/_components/AddTrackModal\";\nimport { EditMappackModal } from \"@/app/_components/EditMappackModal\";\nimport RequireRole from \"@/app/_components/RequireRole\";\nimport { Mappack, MappackTier, MappackTrack } from \"@/types/mappack.types\";\n\ninterface MappackSidebarProps {\n  mappack: Mappack;\n  sortedTiers: string[];\n  tracksByTier: Record<string, { tier: MappackTier | null; tracks: MappackTrack[] }>;\n  activeTier: string;\n  selectedTab: string;\n  isEditOpen: boolean;\n  onTierClick: (tier: string) => void;\n  onEditClick: () => void;\n  onEditClose: () => void;\n  onEditSave: () => void;\n}\n\nexport function MappackSidebar({\n  mappack,\n  sortedTiers,\n  tracksByTier,\n  activeTier,\n  selectedTab,\n  isEditOpen,\n  onTierClick,\n  onEditClick,\n  onEditClose,\n  onEditSave,\n}: MappackSidebarProps) {\n  return (\n    <div className=\"bg-white-900 lg:sticky lg:top-4 lg:self-start\">\n      <div className=\"flex flex-col gap-4 p-4\">\n        <div className=\"flex justify-center items-center\">\n          <p className=\"font-bold text-3xl font-ruigslay overline\">\n            {mappack.name.toUpperCase()}\n          </p>\n        </div>\n\n        <div className=\"flex justify-center items-center\">\n          <p className=\"font-bold text-sm\">{mappack.description}</p>\n        </div>\n\n        <hr />\n\n        <div className=\"flex justify-center items-center\">\n          <p className=\"text-lg font-ruigslay\">Timegoals</p>\n        </div>\n        {mappack.timeGoals.map((timeGoal) => (\n          <div key={timeGoal.name} className=\"flex justify-center items-center\">\n            <p className=\"text-bold\">{timeGoal.name}</p>\n          </div>\n        ))}\n\n        {selectedTab === \"maps\" && (\n          <>\n            <div className=\"border-t border-gray-700 pt-4\">\n              <p className=\"font-semibold text-lg mb-2 text-center font-ruigslay\">\n                Tiers\n              </p>\n              {sortedTiers.map((tierName) => {\n                const tierData = tracksByTier[tierName];\n                const tierColor = tierData.tier?.color || \"#6b7280\";\n\n                return (\n                  <button\n                    key={tierName}\n                    onClick={() => onTierClick(tierName)}\n                    style={{\n                      backgroundColor:\n                        activeTier === tierName ? tierColor : \"transparent\",\n                    }}\n                    className={`w-full py-2 px-4 rounded-lg transition-all duration-200 ${\n                      activeTier === tierName\n                        ? \"text-white font-semibold\"\n                        : \"text-gray-300 hover:opacity-80\"\n                    }`}\n                  >\n                    {tierName.toUpperCase()} TIER ({tierData.tracks.length})\n                  </button>\n                );\n              })}\n            </div>\n\n            <div className=\"flex justify-center items-center\">\n              <RequireRole role=\"admin\">\n                <AddTrackModal\n                  timegoals={mappack.timeGoals}\n                  mappackId={mappack.id}\n                  tiers={mappack.mappackTiers}\n                />\n              </RequireRole>\n            </div>\n          </>\n        )}\n\n        <div className=\"flex justify-center items-center\">\n          <RequireRole role=\"admin\">\n            <Button onPress={onEditClick}>Edit Mappack</Button>\n            <EditMappackModal\n              mappack={mappack}\n              isOpen={isEditOpen}\n              onClose={onEditClose}\n              onSave={onEditSave}\n            />\n          </RequireRole>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;AAgBO,SAAS,eAAe,EAC7B,OAAO,EACP,WAAW,EACX,YAAY,EACZ,UAAU,EACV,WAAW,EACX,UAAU,EACV,WAAW,EACX,WAAW,EACX,WAAW,EACX,UAAU,EACU;IACpB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCACV,QAAQ,IAAI,CAAC,WAAW;;;;;;;;;;;8BAI7B,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAqB,QAAQ,WAAW;;;;;;;;;;;8BAGvD,8OAAC;;;;;8BAED,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;gBAEtC,QAAQ,SAAS,CAAC,GAAG,CAAC,CAAC,yBACtB,8OAAC;wBAAwB,WAAU;kCACjC,cAAA,8OAAC;4BAAE,WAAU;sCAAa,SAAS,IAAI;;;;;;uBAD/B,SAAS,IAAI;;;;;gBAKxB,gBAAgB,wBACf;;sCACE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAuD;;;;;;gCAGnE,YAAY,GAAG,CAAC,CAAC;oCAChB,MAAM,WAAW,YAAY,CAAC,SAAS;oCACvC,MAAM,YAAY,SAAS,IAAI,EAAE,SAAS;oCAE1C,qBACE,8OAAC;wCAEC,SAAS,IAAM,YAAY;wCAC3B,OAAO;4CACL,iBACE,eAAe,WAAW,YAAY;wCAC1C;wCACA,WAAW,CAAC,wDAAwD,EAClE,eAAe,WACX,6BACA,kCACJ;;4CAED,SAAS,WAAW;4CAAG;4CAAQ,SAAS,MAAM,CAAC,MAAM;4CAAC;;uCAZlD;;;;;gCAeX;;;;;;;sCAGF,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,yIAAA,CAAA,UAAW;gCAAC,MAAK;0CAChB,cAAA,8OAAC,2IAAA,CAAA,UAAa;oCACZ,WAAW,QAAQ,SAAS;oCAC5B,WAAW,QAAQ,EAAE;oCACrB,OAAO,QAAQ,YAAY;;;;;;;;;;;;;;;;;;8BAOrC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,yIAAA,CAAA,UAAW;wBAAC,MAAK;;0CAChB,8OAAC,4MAAA,CAAA,SAAM;gCAAC,SAAS;0CAAa;;;;;;0CAC9B,8OAAC,8IAAA,CAAA,mBAAgB;gCACf,SAAS;gCACT,QAAQ;gCACR,SAAS;gCACT,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOtB","debugId":null}},
    {"offset": {"line": 3580, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/utils/track-filter.utils.ts"],"sourcesContent":["import { MappackTrack, TimeGoal } from '@/types/mappack.types';\n\nexport function filterTracksByTimeGoal(\n  tracks: MappackTrack[],\n  timeGoalId: number | null\n): MappackTrack[] {\n  if (timeGoalId === null) {\n    return tracks;\n  }\n\n  return tracks.filter((track) => {\n    const timeGoalStatus = track.timeGoalMappackTrack?.find(\n      (tg) => tg.time_goal_id === timeGoalId\n    );\n    return timeGoalStatus?.is_achieved !== true;\n  });\n}\n\nexport function getNotAchievedCount(\n  tracks: MappackTrack[],\n  timeGoalId: number\n): number {\n  return tracks.filter((track) => {\n    const goals = track.timeGoalMappackTrack ?? [];\n    const tg = goals.find((t) => t.time_goal_id === timeGoalId);\n    return !tg || tg.is_achieved !== true;\n  }).length;\n}"],"names":[],"mappings":";;;;AAEO,SAAS,uBACd,MAAsB,EACtB,UAAyB;IAEzB,IAAI,eAAe,MAAM;QACvB,OAAO;IACT;IAEA,OAAO,OAAO,MAAM,CAAC,CAAC;QACpB,MAAM,iBAAiB,MAAM,oBAAoB,EAAE,KACjD,CAAC,KAAO,GAAG,YAAY,KAAK;QAE9B,OAAO,gBAAgB,gBAAgB;IACzC;AACF;AAEO,SAAS,oBACd,MAAsB,EACtB,UAAkB;IAElB,OAAO,OAAO,MAAM,CAAC,CAAC;QACpB,MAAM,QAAQ,MAAM,oBAAoB,IAAI,EAAE;QAC9C,MAAM,KAAK,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,YAAY,KAAK;QAChD,OAAO,CAAC,MAAM,GAAG,WAAW,KAAK;IACnC,GAAG,MAAM;AACX","debugId":null}},
    {"offset": {"line": 3604, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/hooks/useTrackFilter.ts"],"sourcesContent":["import { useState } from 'react';\nimport { MappackTrack } from '@/types/mappack.types';\nimport { filterTracksByTimeGoal } from '@/utils/track-filter.utils';\n\nexport function useTrackFilter(\n  tracks: MappackTrack[],\n  onFilterChange: (filtered: MappackTrack[]) => void\n) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedTimeGoal, setSelectedTimeGoal] = useState<number | null>(null);\n\n  const applyFilter = () => {\n    const filtered = filterTracksByTimeGoal(tracks, selectedTimeGoal);\n    onFilterChange(filtered);\n    setIsOpen(false);\n  };\n\n  const clearFilter = () => {\n    setSelectedTimeGoal(null);\n    onFilterChange(tracks);\n    setIsOpen(false);\n  };\n\n  const toggleTimeGoal = (timeGoalId: number) => {\n    setSelectedTimeGoal(selectedTimeGoal === timeGoalId ? null : timeGoalId);\n  };\n\n  return {\n    isOpen,\n    setIsOpen,\n    selectedTimeGoal,\n    applyFilter,\n    clearFilter,\n    toggleTimeGoal,\n    isFilterActive: selectedTimeGoal !== null,\n  };\n}"],"names":[],"mappings":";;;AAAA;AAEA;;;AAEO,SAAS,eACd,MAAsB,EACtB,cAAkD;IAElD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAExE,MAAM,cAAc;QAClB,MAAM,WAAW,CAAA,GAAA,wIAAA,CAAA,yBAAsB,AAAD,EAAE,QAAQ;QAChD,eAAe;QACf,UAAU;IACZ;IAEA,MAAM,cAAc;QAClB,oBAAoB;QACpB,eAAe;QACf,UAAU;IACZ;IAEA,MAAM,iBAAiB,CAAC;QACtB,oBAAoB,qBAAqB,aAAa,OAAO;IAC/D;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA,gBAAgB,qBAAqB;IACvC;AACF","debugId":null}},
    {"offset": {"line": 3641, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/track-filter/TimeGoalOption.tsx"],"sourcesContent":["import { Chip } from \"@heroui/react\";\nimport { TimeGoal } from \"@/types/mappack.types\";\n\ninterface TimeGoalOptionProps {\n  timeGoal: TimeGoal;\n  notAchievedCount: number;\n  isSelected: boolean;\n  onClick: () => void;\n}\n\nexport function TimeGoalOption({\n  timeGoal,\n  notAchievedCount,\n  isSelected,\n  onClick,\n}: TimeGoalOptionProps) {\n  return (\n    <button\n      onClick={onClick}\n      className={`\n        p-3 rounded-lg border transition-all text-left\n        ${\n          isSelected\n            ? \"bg-orange-500/20 border-orange-500 text-white\"\n            : \"bg-zinc-800 border-zinc-700 text-zinc-300 hover:border-zinc-600 hover:bg-zinc-800/70\"\n        }\n      `}\n    >\n      <div className=\"flex items-center justify-between gap-3\">\n        {/* Left side - Name and badges */}\n        <div className=\"flex flex-col gap-1.5 flex-1 min-w-0\">\n          <span className=\"text-sm font-semibold truncate\">{timeGoal.name}</span>\n          <div className=\"flex items-center gap-1.5\">\n            <Chip size=\"sm\" className=\"bg-zinc-700 text-zinc-400 text-xs\">\n              Ã—{timeGoal.multiplier}\n            </Chip>\n            <Chip\n              size=\"sm\"\n              className={`text-xs ${\n                notAchievedCount === 0\n                  ? \"bg-green-500/20 text-green-400\"\n                  : \"bg-orange-500/20 text-orange-400\"\n              }`}\n            >\n              {notAchievedCount} left\n            </Chip>\n          </div>\n        </div>\n\n        {/* Right side - Check icon */}\n        {isSelected && (\n          <div className=\"flex-shrink-0\">\n            <svg\n              className=\"w-5 h-5 text-orange-400\"\n              fill=\"currentColor\"\n              viewBox=\"0 0 20 20\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\n                clipRule=\"evenodd\"\n              />\n            </svg>\n          </div>\n        )}\n      </div>\n    </button>\n  );\n}"],"names":[],"mappings":";;;;AAAA;;;AAUO,SAAS,eAAe,EAC7B,QAAQ,EACR,gBAAgB,EAChB,UAAU,EACV,OAAO,EACa;IACpB,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,CAAC;;QAEV,EACE,aACI,kDACA,uFACL;MACH,CAAC;kBAED,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,WAAU;sCAAkC,SAAS,IAAI;;;;;;sCAC/D,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,sMAAA,CAAA,OAAI;oCAAC,MAAK;oCAAK,WAAU;;wCAAoC;wCAC1D,SAAS,UAAU;;;;;;;8CAEvB,8OAAC,sMAAA,CAAA,OAAI;oCACH,MAAK;oCACL,WAAW,CAAC,QAAQ,EAClB,qBAAqB,IACjB,mCACA,oCACJ;;wCAED;wCAAiB;;;;;;;;;;;;;;;;;;;gBAMvB,4BACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,SAAQ;kCAER,cAAA,8OAAC;4BACC,UAAS;4BACT,GAAE;4BACF,UAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQzB","debugId":null}},
    {"offset": {"line": 3749, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/track-filter/FilterPopoverContent.tsx"],"sourcesContent":["// components/track-filter/FilterPopoverContent.tsx\nimport { Button } from \"@heroui/react\";\nimport { TimeGoal, MappackTrack } from \"@/types/mappack.types\";\nimport { getNotAchievedCount } from \"@/utils/track-filter.utils\";\nimport { TimeGoalOption } from \"./TimeGoalOption\";\n\ninterface FilterPopoverContentProps {\n  timeGoals: TimeGoal[];\n  tracks: MappackTrack[];\n  selectedTimeGoal: number | null;\n  onToggleTimeGoal: (id: number) => void;\n  onApply: () => void;\n  onClear: () => void;\n}\n\nexport function FilterPopoverContent({\n  timeGoals,\n  tracks,\n  selectedTimeGoal,\n  onToggleTimeGoal,\n  onApply,\n  onClear,\n}: FilterPopoverContentProps) {\n  // Sort time goals by multiplier (highest first)\n  const sortedTimeGoals = [...timeGoals].sort((a, b) => b.multiplier - a.multiplier);\n\n  return (\n    <div className=\"w-[400px] max-w-[90vw]\">\n      {/* Header */}\n      <div className=\"px-4 py-3 border-b border-zinc-800\">\n        <h3 className=\"text-base font-bold text-white\">Filter Tracks</h3>\n        <p className=\"text-xs text-zinc-500 mt-1\">\n          Show only unachieved time goals\n        </p>\n      </div>\n\n      {/* Body */}\n      <div className=\"p-4 space-y-3 max-h-[60vh] overflow-y-auto\">\n        <p className=\"text-xs text-zinc-400 font-semibold uppercase tracking-wider\">\n          Select Time Goal\n        </p>\n        <div className=\"flex flex-col gap-2\">\n          {sortedTimeGoals.map((timeGoal) => {\n            const notAchieved = getNotAchievedCount(tracks, timeGoal.id!);\n            const isSelected = selectedTimeGoal === timeGoal.id;\n\n            return (\n              <TimeGoalOption\n                key={timeGoal.id}\n                timeGoal={timeGoal}\n                notAchievedCount={notAchieved}\n                isSelected={isSelected}\n                onClick={() => onToggleTimeGoal(timeGoal.id!)}\n              />\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"px-4 py-3 border-t border-zinc-800 flex justify-between items-center\">\n        <Button\n          size=\"sm\"\n          variant=\"light\"\n          onPress={onClear}\n          className=\"text-zinc-400 hover:text-white\"\n        >\n          Clear\n        </Button>\n        <Button\n          size=\"sm\"\n          onPress={onApply}\n          className=\"bg-orange-500 hover:bg-orange-600 text-white\"\n          isDisabled={selectedTimeGoal === null}\n        >\n          Apply Filter\n        </Button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,mDAAmD;;;;;AACnD;AAEA;AACA;;;;;AAWO,SAAS,qBAAqB,EACnC,SAAS,EACT,MAAM,EACN,gBAAgB,EAChB,gBAAgB,EAChB,OAAO,EACP,OAAO,EACmB;IAC1B,gDAAgD;IAChD,MAAM,kBAAkB;WAAI;KAAU,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,UAAU,GAAG,EAAE,UAAU;IAEjF,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAiC;;;;;;kCAC/C,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAM5C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAA+D;;;;;;kCAG5E,8OAAC;wBAAI,WAAU;kCACZ,gBAAgB,GAAG,CAAC,CAAC;4BACpB,MAAM,cAAc,CAAA,GAAA,wIAAA,CAAA,sBAAmB,AAAD,EAAE,QAAQ,SAAS,EAAE;4BAC3D,MAAM,aAAa,qBAAqB,SAAS,EAAE;4BAEnD,qBACE,8OAAC,+JAAA,CAAA,iBAAc;gCAEb,UAAU;gCACV,kBAAkB;gCAClB,YAAY;gCACZ,SAAS,IAAM,iBAAiB,SAAS,EAAE;+BAJtC,SAAS,EAAE;;;;;wBAOtB;;;;;;;;;;;;0BAKJ,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4MAAA,CAAA,SAAM;wBACL,MAAK;wBACL,SAAQ;wBACR,SAAS;wBACT,WAAU;kCACX;;;;;;kCAGD,8OAAC,4MAAA,CAAA,SAAM;wBACL,MAAK;wBACL,SAAS;wBACT,WAAU;wBACV,YAAY,qBAAqB;kCAClC;;;;;;;;;;;;;;;;;;AAMT","debugId":null}},
    {"offset": {"line": 3874, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/constants/filter-popover-styles.ts"],"sourcesContent":["export const FILTER_POPOVER_CLASSNAMES = {\n  base: \"bg-zinc-900 border border-zinc-800\",\n  content: \"bg-zinc-900 p-0\",\n};\n\nexport const getFilterButtonClassName = (isActive: boolean) => `\n  w-9 h-9 p-0 min-w-0 flex items-center justify-center\n  ${\n    isActive\n      ? \"bg-orange-500/20 text-orange-400 border border-orange-500/50\"\n      : \"bg-zinc-800 text-zinc-400 border border-zinc-700 hover:border-zinc-600\"\n  }\n`;"],"names":[],"mappings":";;;;AAAO,MAAM,4BAA4B;IACvC,MAAM;IACN,SAAS;AACX;AAEO,MAAM,2BAA2B,CAAC,WAAsB,CAAC;;EAE9D,EACE,WACI,iEACA,yEACL;AACH,CAAC","debugId":null}},
    {"offset": {"line": 3890, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/TrackFilter.tsx"],"sourcesContent":["\"use client\";\nimport { Popover, PopoverTrigger, PopoverContent, Button } from \"@heroui/react\";\nimport { TimeGoal, MappackTrack } from \"@/types/mappack.types\";\nimport { useTrackFilter } from \"@/hooks/useTrackFilter\";\nimport { FilterPopoverContent } from \"./track-filter/FilterPopoverContent\";\nimport { FILTER_POPOVER_CLASSNAMES, getFilterButtonClassName } from \"@/constants/filter-popover-styles\";\nimport { FaFilter } from \"react-icons/fa6\";\n\ninterface TrackFilterProps {\n  timeGoals: TimeGoal[];\n  tracks: MappackTrack[];\n  onFilterChange: (filteredTracks: MappackTrack[]) => void;\n}\n\nexport default function TrackFilter({\n  timeGoals,\n  tracks,\n  onFilterChange,\n}: TrackFilterProps) {\n  const {\n    isOpen,\n    setIsOpen,\n    selectedTimeGoal,\n    applyFilter,\n    clearFilter,\n    toggleTimeGoal,\n    isFilterActive,\n  } = useTrackFilter(tracks, onFilterChange);\n\n  return (\n    <Popover\n      isOpen={isOpen}\n      onOpenChange={setIsOpen}\n      placement=\"bottom-start\"\n      classNames={FILTER_POPOVER_CLASSNAMES}\n    >\n      <PopoverTrigger>\n        <Button\n          size=\"sm\"\n          variant=\"flat\"\n          className={getFilterButtonClassName(isFilterActive)}\n          startContent={<FaFilter/>}\n        />\n      </PopoverTrigger>\n      <PopoverContent>\n        <FilterPopoverContent\n          timeGoals={timeGoals}\n          tracks={tracks}\n          selectedTimeGoal={selectedTimeGoal}\n          onToggleTimeGoal={toggleTimeGoal}\n          onApply={applyFilter}\n          onClear={clearFilter}\n        />\n      </PopoverContent>\n    </Popover>\n  );\n}"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AANA;;;;;;;AAce,SAAS,YAAY,EAClC,SAAS,EACT,MAAM,EACN,cAAc,EACG;IACjB,MAAM,EACJ,MAAM,EACN,SAAS,EACT,gBAAgB,EAChB,WAAW,EACX,WAAW,EACX,cAAc,EACd,cAAc,EACf,GAAG,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD,EAAE,QAAQ;IAE3B,qBACE,8OAAC,+MAAA,CAAA,UAAO;QACN,QAAQ;QACR,cAAc;QACd,WAAU;QACV,YAAY,+IAAA,CAAA,4BAAyB;;0BAErC,8OAAC,8NAAA,CAAA,iBAAc;0BACb,cAAA,8OAAC,4MAAA,CAAA,SAAM;oBACL,MAAK;oBACL,SAAQ;oBACR,WAAW,CAAA,GAAA,+IAAA,CAAA,2BAAwB,AAAD,EAAE;oBACpC,4BAAc,8OAAC,+IAAA,CAAA,WAAQ;;;;;;;;;;;;;;;0BAG3B,8OAAC,8NAAA,CAAA,iBAAc;0BACb,cAAA,8OAAC,qKAAA,CAAA,uBAAoB;oBACnB,WAAW;oBACX,QAAQ;oBACR,kBAAkB;oBAClB,kBAAkB;oBAClB,SAAS;oBACT,SAAS;;;;;;;;;;;;;;;;;AAKnB","debugId":null}},
    {"offset": {"line": 3966, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/LeaderboardTab.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { Spinner } from \"@heroui/react\";\nimport { Casko } from \"@/fonts\";\nimport { MappackRank } from \"@/types/mappack.types\";\n\ninterface LeaderboardEntry {\n  player_id: string;\n  mappack_id: string;\n  total_points: number;\n  achievements_count: number;\n  best_achievements_count: number;\n  last_updated: string;\n  player: {\n    ID: string;\n    name: string;\n    Records: null;\n  };\n}\n\ninterface LeaderboardTabProps {\n  mappackId: string;\n  mappackRanks: MappackRank[];\n}\n\nconst getPlayerRank = (points: number, ranks: MappackRank[]): MappackRank | null => {\n  const sortedRanks = [...ranks].sort((a, b) => b.pointsNeeded - a.pointsNeeded);\n  \n  for (const rank of sortedRanks) {\n    if (points >= rank.pointsNeeded) {\n      return rank;\n    }\n  }\n  \n  return sortedRanks[sortedRanks.length - 1] || null;\n};\n\n// Get animation CSS class based on type\nconst getAnimationClass = (animationType: string): string => {\n  switch (animationType) {\n    case \"shine\": return \"animate-shine\";\n    case \"pulse\": return \"animate-pulse\";\n    case \"shimmer\": return \"animate-shimmer\";\n    default: return \"\";\n  }\n};\n\n// Get background pattern SVG\nconst getBackgroundPattern = (pattern: string, color: string): string => {\n  switch (pattern) {\n    case \"dots\":\n      return `radial-gradient(circle, ${color}30 1px, transparent 1px)`;\n    case \"grid\":\n      return `linear-gradient(${color}20 1px, transparent 1px), linear-gradient(90deg, ${color}20 1px, transparent 1px)`;\n    case \"diagonal\":\n      return `repeating-linear-gradient(45deg, transparent, transparent 10px, ${color}15 10px, ${color}15 20px)`;\n    default:\n      return \"none\";\n  }\n};\n\n// Get card style effects\nconst getCardStyleEffects = (cardStyle: string, color: string) => {\n  switch (cardStyle) {\n    case \"metallic\":\n      return {\n        background: `linear-gradient(135deg, ${color}dd 0%, ${color}aa 50%, ${color}dd 100%)`,\n        filter: \"brightness(1.1) contrast(1.1)\",\n      };\n    case \"holographic\":\n      return {\n        background: `linear-gradient(135deg, ${color}dd, ${color}88, ${color}dd)`,\n        backgroundSize: \"200% 200%\",\n        animation: \"holographic 3s ease infinite\",\n      };\n    case \"neon\":\n      return {\n        background: `${color}20`,\n        border: `2px solid ${color}`,\n        boxShadow: `0 0 20px ${color}, inset 0 0 20px ${color}40`,\n      };\n    default:\n      return {};\n  }\n};\n\nconst getFontSizeClass = (fontSize: string): string => {\n  switch (fontSize) {\n    case \"large\": return \"text-xl\";\n    case \"xl\": return \"text-2xl\";\n    default: return \"text-lg\";\n  }\n};\n\nconst getFontWeightClass = (fontWeight: string): string => {\n  switch (fontWeight) {\n    case \"bold\": return \"font-bold\";\n    case \"black\": return \"font-black\";\n    default: return \"font-semibold\";\n  }\n};\n\nexport default function LeaderboardTab({ mappackId, mappackRanks }: LeaderboardTabProps) {\n  const [leaderboard, setLeaderboard] = useState<LeaderboardEntry[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeRank, setActiveRank] = useState<string>(\"\");\n  const rankRefs = useRef<{ [key: string]: HTMLDivElement | null }>({});\n\n  useEffect(() => {\n    axios\n      .get(`http://localhost:8080/mappacks/${mappackId}/leaderboard?limit=100`)\n      .then((response) => {\n        setLeaderboard(response.data);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.log(\"Error fetching leaderboard:\", err);\n        setLoading(false);\n      });\n  }, [mappackId]);\n\n  // Group players by rank\n  const playersByRank = leaderboard.reduce((acc, entry) => {\n    const rank = getPlayerRank(entry.total_points, mappackRanks);\n    const rankName = rank?.name || \"Unranked\";\n    \n    if (!acc[rankName]) {\n      acc[rankName] = {\n        rank: rank,\n        players: [],\n      };\n    }\n    acc[rankName].players.push(entry);\n    return acc;\n  }, {} as Record<string, { rank: MappackRank | null; players: LeaderboardEntry[] }>);\n\n  // Sort ranks by points needed (descending)\n  const sortedRanks = Object.keys(playersByRank).sort((a, b) => {\n    const pointsA = playersByRank[a].rank?.pointsNeeded || 0;\n    const pointsB = playersByRank[b].rank?.pointsNeeded || 0;\n    return pointsB - pointsA;\n  });\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setActiveRank(entry.target.getAttribute(\"data-rank\") || \"\");\n          }\n        });\n      },\n      { threshold: 0.5, rootMargin: \"-20% 0px -20% 0px\" }\n    );\n\n    Object.values(rankRefs.current).forEach((ref) => {\n      if (ref) observer.observe(ref);\n    });\n\n    return () => observer.disconnect();\n  }, [playersByRank]);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-96\">\n        <Spinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  if (leaderboard.length === 0) {\n    return (\n      <div className=\"flex justify-center items-center h-96\">\n        <div className=\"text-center\">\n          <p className=\"text-white/50 text-lg\">No players yet</p>\n          <p className=\"text-white/30 text-sm mt-2\">\n            Complete tracks to appear on the leaderboard\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col gap-8\">\n      {sortedRanks.map((rankName) => {\n        const rankData = playersByRank[rankName];\n        const rank = rankData.rank;\n        if (!rank) return null;\n        \n        const rankColor = rank.color || \"#6b7280\";\n        const borderColorToUse = rank.borderColor || rankColor;\n        const glowOpacity = Math.min(100, Math.max(0, rank.glowIntensity || 50)) / 100;\n        let globalPosition = 0;\n        \n        // Calculate starting position for this rank\n        for (const r of sortedRanks) {\n          if (r === rankName) break;\n          globalPosition += playersByRank[r].players.length;\n        }\n\n        return (\n          <div\n            key={rankName}\n            ref={(el) => {\n              rankRefs.current[rankName] = el;\n            }}\n            data-rank={rankName}\n            className=\"scroll-mt-4\"\n          >\n            {/* Rank Header */}\n            <div className=\"mb-6 pt-4 justify-center items-center flex\">\n              <div className=\"relative\">\n                {rank.backgroundGlow && (\n                  <div \n                    className=\"absolute inset-0 blur-xl\"\n                    style={{ \n                      backgroundColor: rankColor,\n                      opacity: glowOpacity * 0.5\n                    }}\n                  />\n                )}\n                <h2\n                  className={`text-4xl justify-center ${Casko.className} relative`}\n                  style={{ \n                    color: rankColor,\n                    textShadow: rank.textShadow ? `0 0 20px ${rankColor}${Math.round(glowOpacity * 128).toString(16).padStart(2, '0')}` : 'none'\n                  }}\n                >\n                  {rank.symbolsAround} {rankName.toUpperCase()} {rank.symbolsAround}\n                </h2>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n              {rankData.players.map((entry, index) => {\n                const position = globalPosition + index + 1;\n                const isTopThree = position <= 3;\n                const cardStyleEffects = getCardStyleEffects(rank.cardStyle, rankColor);\n                const animationClass = getAnimationClass(rank.animationType);\n                const patternBg = getBackgroundPattern(rank.backgroundPattern, rankColor);\n                const fontSizeClass = getFontSizeClass(rank.fontSize);\n                const fontWeightClass = getFontWeightClass(rank.fontWeight);\n\n                // INVERTED COLOR STYLE\n                if (rank.invertedColor) {\n                  return (\n                    <div\n                      key={entry.player_id}\n                      className={`relative p-4 rounded-lg transition-all duration-200 hover:scale-[1.02] overflow-hidden ${animationClass}`}\n                      style={{\n                        background: cardStyleEffects.background || `linear-gradient(135deg, ${rankColor}dd, ${rankColor}aa)`,\n                        border: `${rank.borderWidth || 2}px solid ${borderColorToUse}`,\n                        boxShadow: rank.backgroundGlow \n                          ? `0 0 ${20 * glowOpacity}px ${rankColor}${Math.round(glowOpacity * 96).toString(16).padStart(2, '0')}`\n                          : 'none',\n                        backgroundImage: patternBg,\n                        backgroundSize: rank.backgroundPattern === \"dots\" ? \"20px 20px\" : rank.backgroundPattern === \"grid\" ? \"20px 20px\" : \"auto\",\n                        filter: cardStyleEffects.filter,\n                        animation: cardStyleEffects.animation,\n                      }}\n                    >\n                      {/* Shine overlay for shine animation */}\n                      {rank.animationType === \"shine\" && (\n                        <div \n                          className=\"absolute inset-0 opacity-30 animate-shine-move\"\n                          style={{\n                            background: `linear-gradient(45deg, transparent 30%, white 50%, transparent 70%)`,\n                          }}\n                        />\n                      )}\n                      \n                      {/* Position */}\n                      <div className=\"absolute top-2 right-2\">\n                        <span \n                          className=\"text-xs font-mono font-bold\"\n                          style={{ color: `${rankColor}20` }}\n                        >\n                          #{position}\n                        </span>\n                      </div>\n\n                      <div className=\"flex items-center gap-4 relative z-10\">\n                        {/* Points - inverted: dark text */}\n                        <div className=\"flex-shrink-0 text-left\">\n                          <p \n                            className=\"font-bold text-2xl font-mono leading-none\"\n                            style={{ \n                              color: '#000000',\n                              textShadow: rank.textShadow ? `0 0 10px ${rankColor}` : 'none'\n                            }}\n                          >\n                            {entry.total_points}\n                          </p>\n                          <p className=\"text-xs uppercase tracking-wider mt-1 text-black/60\">\n                            pts\n                          </p>\n                        </div>\n\n                        {/* Player Name - inverted: dark text */}\n                        <div className=\"flex-1 min-w-0 pr-6\">\n                          <p \n                            className={`${fontSizeClass} ${fontWeightClass} leading-tight`}\n                            style={{ \n                              color: '#000000',\n                              textShadow: rank.textShadow ? `0 0 10px ${rankColor}40` : 'none'\n                            }}\n                          >\n                            {entry.player.name}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                }\n\n                // NORMAL STYLE\n                return (\n                  <div\n                    key={entry.player_id}\n                    className={`relative p-4 rounded-lg transition-all duration-200 hover:scale-[1.02] ${animationClass} ${\n                      isTopThree\n                        ? \"bg-gradient-to-r from-white/10 to-white/5\"\n                        : \"bg-white/5 hover:bg-white/10\"\n                    }`}\n                    style={{\n                      border: `${rank.borderWidth || 1}px solid ${isTopThree ? `${borderColorToUse}40` : 'rgba(255,255,255,0.1)'}`,\n                      boxShadow: rank.backgroundGlow && isTopThree\n                        ? `0 0 ${20 * glowOpacity}px ${rankColor}${Math.round(glowOpacity * 96).toString(16).padStart(2, '0')}`\n                        : 'none',\n                      backgroundImage: patternBg,\n                      backgroundSize: rank.backgroundPattern === \"dots\" ? \"20px 20px\" : rank.backgroundPattern === \"grid\" ? \"20px 20px\" : \"auto\",\n                      ...cardStyleEffects,\n                    }}\n                  >\n                    {/* Shine overlay */}\n                    {rank.animationType === \"shine\" && (\n                      <div \n                        className=\"absolute inset-0 opacity-20 animate-shine-move\"\n                        style={{\n                          background: `linear-gradient(45deg, transparent 30%, white 50%, transparent 70%)`,\n                        }}\n                      />\n                    )}\n\n                    {/* Position */}\n                    <div className=\"absolute top-2 right-2\">\n                      <span className=\"text-xs text-white/30 font-mono\">\n                        #{position}\n                      </span>\n                    </div>\n\n                    <div className=\"flex items-center gap-4 relative z-10\">\n                      {/* Points */}\n                      <div className=\"flex-shrink-0 text-left\">\n                        <p \n                          className=\"font-bold text-2xl font-mono text-green-400 leading-none\"\n                          style={{\n                            textShadow: rank.textShadow ? `0 0 10px #4ade8080` : 'none'\n                          }}\n                        >\n                          {entry.total_points}\n                        </p>\n                        <p className=\"text-xs text-white/40 uppercase tracking-wider mt-1\">\n                          pts\n                        </p>\n                      </div>\n\n                      {/* Player Name */}\n                      <div className=\"flex-1 min-w-0 pr-6\">\n                        <p \n                          className={`text-white leading-tight ${fontSizeClass} ${fontWeightClass}`}\n                          style={{\n                            textShadow: rank.textShadow ? `0 0 10px ${rankColor}40` : 'none'\n                          }}\n                        >\n                          {entry.player.name}\n                        </p>\n                      </div>\n                    </div>\n\n                    {/* Top 3 glow effect */}\n                    {isTopThree && (\n                      <div\n                        className=\"absolute inset-0 rounded-lg opacity-10 pointer-events-none\"\n                        style={{\n                          background: `radial-gradient(circle at top right, ${rankColor}80, transparent)`,\n                        }}\n                      />\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        );\n      })}\n      \n      <style jsx>{`\n        @keyframes shine-move {\n          0% {\n            transform: translateX(-100%) translateY(-100%) rotate(45deg);\n          }\n          100% {\n            transform: translateX(100%) translateY(100%) rotate(45deg);\n          }\n        }\n        \n        .animate-shine-move {\n          animation: shine-move 3s infinite;\n        }\n        \n        @keyframes shimmer {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n        \n        .animate-shimmer {\n          animation: shimmer 2s ease-in-out infinite;\n        }\n        \n        @keyframes holographic {\n          0%, 100% { background-position: 0% 50%; }\n          50% { background-position: 100% 50%; }\n        }\n      `}</style>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4492, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/track-card/TrackCardGoals.tsx"],"sourcesContent":["import { millisecondsToTimeString } from \"@/utils/time.utils\";\n\ninterface EnrichedTimeGoal {\n  time_goal_id: number;\n  time: number;\n  is_achieved?: boolean;\n  player_time?: number;\n  name: string;\n  multiplier: number;\n}\n\ninterface TrackCardGoalsProps {\n  enrichedTimeGoals: EnrichedTimeGoal[];\n  achievedCount: number;\n  totalCount: number;\n}\n\nexport function TrackCardGoals({ \n  enrichedTimeGoals, \n  achievedCount, \n  totalCount \n}: TrackCardGoalsProps) {\n  if (enrichedTimeGoals.length === 0) {\n    return (\n      <p className=\"text-white/30 text-[10px] text-center py-1\">\n        No time goals\n      </p>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col gap-1\">\n      <div className=\"flex items-center justify-between\">\n        <span className=\"text-[10px] text-white/40 uppercase tracking-wider\">\n          Goals {achievedCount}/{totalCount}\n        </span>\n        <div className=\"flex-1 h-1 mx-2 bg-white/10 rounded-full overflow-hidden\">\n          <div\n            className=\"h-full bg-green-400 transition-all duration-500\"\n            style={{ width: `${(achievedCount / totalCount) * 100}%` }}\n          />\n        </div>\n      </div>\n\n      <div className=\"flex gap-1 flex-wrap\">\n        {enrichedTimeGoals.map((timegoal) => {\n          const isAchieved = timegoal.is_achieved || false;\n          \n          return (\n            <div\n              key={timegoal.time_goal_id}\n              className={`\n                group/goal relative flex items-center gap-1 px-2 py-1 rounded text-[10px] font-medium\n                transition-all duration-200\n                ${isAchieved \n                  ? 'bg-green-500/30 text-green-300 border border-green-400/50' \n                  : 'bg-white/5 text-white/50 border border-white/10'\n                }\n              `}\n            >\n              <span className=\"uppercase tracking-wide\">\n                {timegoal.name}\n              </span>\n              \n              {isAchieved ? (\n                <span className=\"text-green-400\">âœ“</span>\n              ) : (\n                <span className=\"text-white/20\">â—‹</span>\n              )}\n\n              <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-1 \n                            bg-black/80 text-white text-[10px] rounded whitespace-nowrap\n                            opacity-0 group-hover/goal:opacity-100 pointer-events-none\n                            transition-opacity duration-200\">\n                <div className=\"flex flex-col items-center gap-0.5\">\n                  <span className=\"font-mono text-white/70\">\n                    {millisecondsToTimeString(timegoal.time)}\n                  </span>\n                  <span className=\"text-white/50 text-[9px]\">\n                    Ã—{timegoal.multiplier.toFixed(1)}\n                  </span>\n                </div>\n                <div className=\"absolute top-full left-1/2 -translate-x-1/2 \n                              border-4 border-transparent border-t-black/90\" />\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;;;AAiBO,SAAS,eAAe,EAC7B,iBAAiB,EACjB,aAAa,EACb,UAAU,EACU;IACpB,IAAI,kBAAkB,MAAM,KAAK,GAAG;QAClC,qBACE,8OAAC;YAAE,WAAU;sBAA6C;;;;;;IAI9D;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;;4BAAqD;4BAC5D;4BAAc;4BAAE;;;;;;;kCAEzB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BACC,WAAU;4BACV,OAAO;gCAAE,OAAO,GAAG,AAAC,gBAAgB,aAAc,IAAI,CAAC,CAAC;4BAAC;;;;;;;;;;;;;;;;;0BAK/D,8OAAC;gBAAI,WAAU;0BACZ,kBAAkB,GAAG,CAAC,CAAC;oBACtB,MAAM,aAAa,SAAS,WAAW,IAAI;oBAE3C,qBACE,8OAAC;wBAEC,WAAW,CAAC;;;gBAGV,EAAE,aACE,8DACA,kDACH;cACH,CAAC;;0CAED,8OAAC;gCAAK,WAAU;0CACb,SAAS,IAAI;;;;;;4BAGf,2BACC,8OAAC;gCAAK,WAAU;0CAAiB;;;;;qDAEjC,8OAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAGlC,8OAAC;gCAAI,WAAU;;kDAIb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DACb,CAAA,GAAA,6HAAA,CAAA,2BAAwB,AAAD,EAAE,SAAS,IAAI;;;;;;0DAEzC,8OAAC;gDAAK,WAAU;;oDAA2B;oDACvC,SAAS,UAAU,CAAC,OAAO,CAAC;;;;;;;;;;;;;kDAGlC,8OAAC;wCAAI,WAAU;;;;;;;;;;;;;uBAhCZ,SAAS,YAAY;;;;;gBAqChC;;;;;;;;;;;;AAIR","debugId":null}},
    {"offset": {"line": 4653, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/TrackCard.tsx"],"sourcesContent":["\"use client\";\nimport { Card, CardFooter, CardHeader, Image } from \"@heroui/react\";\nimport { useRouter } from \"next/navigation\";\nimport React from \"react\";\nimport { FormattedText } from \"@/utils/textConverter\";\nimport { millisecondsToTimeString } from \"@/utils/time.utils\";\nimport { MappackTrack, TimeGoal } from \"@/types/mappack.types\";\nimport { TrackCardGoals } from \"./track-card/TrackCardGoals\";\nimport { TrackCardTier } from \"./track-card/TrackCardTier\";\n\ninterface TrackCardProps {\n  mappackTrack: MappackTrack;\n  timeGoalDefinitions: TimeGoal[];\n  mappackId: string;\n  alwaysShowDetails?: boolean;\n}\n\nexport default function TrackCard({\n  mappackTrack,\n  timeGoalDefinitions,\n  mappackId,\n  alwaysShowDetails = false,\n}: TrackCardProps) {\n  const router = useRouter();\n\n  const { track, timeGoalMappackTrack, personal_best, tier } = mappackTrack;\n\n  const enrichedTimeGoals = timeGoalMappackTrack\n    .map((tgmt) => {\n      const definition = timeGoalDefinitions.find((def) => def.id === tgmt.time_goal_id);\n      return {\n        ...tgmt,\n        name: definition?.name || `Goal ${tgmt.time_goal_id}`,\n        multiplier: definition?.multiplier || 0,\n      };\n    })\n    .sort((a, b) => b.multiplier - a.multiplier);\n\n  const achievedCount = enrichedTimeGoals.filter((tg) => tg.is_achieved).length;\n  const totalCount = enrichedTimeGoals.length;\n\n  return (\n    <Card\n      className=\"h-50h group transition-transform md:hover:scale-105 duration-300 hover:z-20 transform-gpu overflow-hidden relative\"\n      shadow=\"sm\"\n      isPressable\n      onPress={() => router.push(`${mappackId}/${track.id}`)}\n    >\n      <CardHeader className=\"absolute z-10 top-0 w-full flex flex-col items-center justify-between bg-transparent group-hover:bg-black/30 group-hover:backdrop-blur-sm transition-all duration-300\">\n        <h4 className=\"text-white text-xl\">\n          <FormattedText text={track.name} />\n        </h4>\n        <p className=\"text-white/30 text-sm\">{track.author}</p>\n        \n        {/* Tier Badge */}\n        \n      </CardHeader>\n      \n      <Image\n        removeWrapper\n        alt=\"Card background\"\n        className=\"z-0 w-full h-full object-cover\"\n        src={track.thumbnailUrl}\n      />\n      \n      <CardFooter\n        className={`\n          absolute bg-black/40 backdrop-blur-sm -bottom-1 left-0 right-0 border-t border-white/10 z-10\n          transition-transform duration-300 ease-in-out pb-2 pt-2\n          ${alwaysShowDetails \n            ? 'translate-y-0' \n            : 'translate-y-full group-hover:translate-y-0'\n          }\n        `}\n      >\n        <div className=\"w-full flex flex-col gap-2 px-2\">\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-[10px] text-white/40 uppercase tracking-wider\">\n              {!personal_best \n                ? \"Map not played yet\" \n                : `PB: ${millisecondsToTimeString(personal_best)}`\n              }\n            </span>\n          </div>\n\n          <TrackCardGoals\n            enrichedTimeGoals={enrichedTimeGoals}\n            achievedCount={achievedCount}\n            totalCount={totalCount}\n          />\n        </div>\n      </CardFooter>\n    </Card>\n  );\n}"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AAPA;;;;;;;AAiBe,SAAS,UAAU,EAChC,YAAY,EACZ,mBAAmB,EACnB,SAAS,EACT,oBAAoB,KAAK,EACV;IACf,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,EAAE,KAAK,EAAE,oBAAoB,EAAE,aAAa,EAAE,IAAI,EAAE,GAAG;IAE7D,MAAM,oBAAoB,qBACvB,GAAG,CAAC,CAAC;QACJ,MAAM,aAAa,oBAAoB,IAAI,CAAC,CAAC,MAAQ,IAAI,EAAE,KAAK,KAAK,YAAY;QACjF,OAAO;YACL,GAAG,IAAI;YACP,MAAM,YAAY,QAAQ,CAAC,KAAK,EAAE,KAAK,YAAY,EAAE;YACrD,YAAY,YAAY,cAAc;QACxC;IACF,GACC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,UAAU,GAAG,EAAE,UAAU;IAE7C,MAAM,gBAAgB,kBAAkB,MAAM,CAAC,CAAC,KAAO,GAAG,WAAW,EAAE,MAAM;IAC7E,MAAM,aAAa,kBAAkB,MAAM;IAE3C,qBACE,8OAAC,sMAAA,CAAA,OAAI;QACH,WAAU;QACV,QAAO;QACP,WAAW;QACX,SAAS,IAAM,OAAO,IAAI,CAAC,GAAG,UAAU,CAAC,EAAE,MAAM,EAAE,EAAE;;0BAErD,8OAAC,mNAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,8OAAC;wBAAG,WAAU;kCACZ,cAAA,8OAAC,8HAAA,CAAA,gBAAa;4BAAC,MAAM,MAAM,IAAI;;;;;;;;;;;kCAEjC,8OAAC;wBAAE,WAAU;kCAAyB,MAAM,MAAM;;;;;;;;;;;;0BAMpD,8OAAC,yMAAA,CAAA,QAAK;gBACJ,aAAa;gBACb,KAAI;gBACJ,WAAU;gBACV,KAAK,MAAM,YAAY;;;;;;0BAGzB,8OAAC,mNAAA,CAAA,aAAU;gBACT,WAAW,CAAC;;;UAGV,EAAE,oBACE,kBACA,6CACH;QACH,CAAC;0BAED,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAK,WAAU;0CACb,CAAC,gBACE,uBACA,CAAC,IAAI,EAAE,CAAA,GAAA,6HAAA,CAAA,2BAAwB,AAAD,EAAE,gBAAgB;;;;;;;;;;;sCAKxD,8OAAC,6JAAA,CAAA,iBAAc;4BACb,mBAAmB;4BACnB,eAAe;4BACf,YAAY;;;;;;;;;;;;;;;;;;;;;;;AAMxB","debugId":null}},
    {"offset": {"line": 4787, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/TierSection.tsx"],"sourcesContent":["import TrackCard from \"@/app/_components/TrackCard\";\nimport { MappackTrack, MappackTier, TimeGoal } from \"@/types/mappack.types\";\n\ninterface TierSectionProps {\n  tierName: string;\n  tierData: { tier: MappackTier | null; tracks: MappackTrack[] };\n  timeGoals: TimeGoal[];\n  mappackId: string;\n  alwaysShowDetails: boolean;\n  onRef: (el: HTMLDivElement | null) => void;\n}\n\nexport function TierSection({\n  tierName,\n  tierData,\n  timeGoals,\n  mappackId,\n  alwaysShowDetails,\n  onRef,\n}: TierSectionProps) {\n  const tierColor = tierData.tier?.color || \"#6b7280\";\n\n  return (\n    <div\n      ref={onRef}\n      data-tier={tierName}\n      className=\"scroll-mt-4\"\n    >\n      <hr className=\"border-1 border-white/10 my-2 w-full\" />\n      <div className=\"mb-4 pt-4 justify-center items-center flex\">\n        <h2 className=\"text-3xl uppercase tracking-wider text-white/70 font-semibold justify-center uppercase\" style={{ color: tierColor }}>\n          {tierName.toUpperCase()} TIER\n        </h2>\n      </div>\n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\n        {tierData.tracks.map((mappackTrack) => (\n          <TrackCard\n            key={mappackTrack.track_id}\n            mappackTrack={mappackTrack}\n            timeGoalDefinitions={timeGoals}\n            mappackId={mappackId}\n            alwaysShowDetails={alwaysShowDetails}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;;;AAYO,SAAS,YAAY,EAC1B,QAAQ,EACR,QAAQ,EACR,SAAS,EACT,SAAS,EACT,iBAAiB,EACjB,KAAK,EACY;IACjB,MAAM,YAAY,SAAS,IAAI,EAAE,SAAS;IAE1C,qBACE,8OAAC;QACC,KAAK;QACL,aAAW;QACX,WAAU;;0BAEV,8OAAC;gBAAG,WAAU;;;;;;0BACd,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAG,WAAU;oBAAyF,OAAO;wBAAE,OAAO;oBAAU;;wBAC9H,SAAS,WAAW;wBAAG;;;;;;;;;;;;0BAG5B,8OAAC;gBAAI,WAAU;0BACZ,SAAS,MAAM,CAAC,GAAG,CAAC,CAAC,6BACpB,8OAAC,uIAAA,CAAA,UAAS;wBAER,cAAc;wBACd,qBAAqB;wBACrB,WAAW;wBACX,mBAAmB;uBAJd,aAAa,QAAQ;;;;;;;;;;;;;;;;AAUtC","debugId":null}},
    {"offset": {"line": 4857, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/MappackContent.tsx"],"sourcesContent":["// components/mappack-page/MappackContent.tsx\nimport { useState } from \"react\";\nimport { Switch, Tabs, Tab } from \"@heroui/react\";\nimport TrackFilter from \"@/app/_components/TrackFilter\";\nimport LeaderboardTab from \"@/app/_components/LeaderboardTab\";\nimport { TierSection } from \"./TierSection\";\nimport { Mappack, MappackTrack, MappackTier } from \"@/types/mappack.types\";\n\ninterface MappackContentProps {\n  mappack: Mappack;\n  sortedTiers: string[];\n  tracksByTier: Record<string, { tier: MappackTier | null; tracks: MappackTrack[] }>;\n  filteredTracks: MappackTrack[];\n  onFilterChange: (tracks: MappackTrack[]) => void;\n  onTabChange: (tab: string) => void;\n  tierRefs: React.MutableRefObject<{ [key: string]: HTMLDivElement | null }>;\n}\n\nexport function MappackContent({\n  mappack,\n  sortedTiers,\n  tracksByTier,\n  filteredTracks,\n  onFilterChange,\n  onTabChange,\n  tierRefs,\n}: MappackContentProps) {\n  const [alwaysShowTrackDetails, setAlwaysShowTrackDetails] = useState(false);\n  const [selectedTab, setSelectedTab] = useState(\"maps\");\n\n  const handleTabChange = (key: string) => {\n    setSelectedTab(key);\n    onTabChange(key);\n  };\n\n  return (\n    <div className=\"lg:col-start-2 lg:col-span-4 col-span-1\">\n      <div className=\"flex items-center gap-4 mb-4 pt-3\">\n        <TrackFilter\n          timeGoals={mappack.timeGoals}\n          tracks={mappack.MappackTrack}\n          onFilterChange={onFilterChange}\n        />\n        <Switch\n          isSelected={alwaysShowTrackDetails}\n          onValueChange={setAlwaysShowTrackDetails}\n          size=\"sm\"\n          classNames={{\n            wrapper: \"group-data-[selected=true]:bg-white bg-neutral-600\",\n          }}\n        >\n          <span className=\"text-sm text-white\">Always Show Track Details</span>\n        </Switch>\n      </div>\n\n      <Tabs\n        selectedKey={selectedTab}\n        onSelectionChange={(key) => handleTabChange(key as string)}\n        size=\"lg\"\n        color=\"default\"\n        variant=\"underlined\"\n        classNames={{\n          tabList: \"gap-6 w-full relative rounded-none p-0 border-b border-white/10\",\n          cursor: \"w-full bg-white\",\n          tab: \"max-w-fit px-0 h-12\",\n          tabContent: \"group-data-[selected=true]:text-white text-white/60 font-semibold text-lg\",\n        }}\n        className=\"mb-6\"\n      >\n        <Tab key=\"maps\" title=\"Maps\">\n          <div className=\"flex flex-col gap-8\">\n            {sortedTiers.map((tierName) => {\n              const tierData = tracksByTier[tierName];\n              return (\n                <TierSection\n                  key={tierName}\n                  tierName={tierName}\n                  tierData={tierData}\n                  timeGoals={mappack.timeGoals}\n                  mappackId={mappack.id}\n                  alwaysShowDetails={alwaysShowTrackDetails}\n                  onRef={(el) => {\n                    tierRefs.current[tierName] = el;\n                  }}\n                />\n              );\n            })}\n          </div>\n        </Tab>\n\n        <Tab key=\"leaderboard\" title=\"Leaderboard\">\n          <LeaderboardTab\n            mappackId={mappack.id}\n            mappackRanks={mappack.mappackRanks}\n          />\n        </Tab>\n      </Tabs>\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,6CAA6C;;;;;AAC7C;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;AAaO,SAAS,eAAe,EAC7B,OAAO,EACP,WAAW,EACX,YAAY,EACZ,cAAc,EACd,cAAc,EACd,WAAW,EACX,QAAQ,EACY;IACpB,MAAM,CAAC,wBAAwB,0BAA0B,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrE,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,kBAAkB,CAAC;QACvB,eAAe;QACf,YAAY;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,yIAAA,CAAA,UAAW;wBACV,WAAW,QAAQ,SAAS;wBAC5B,QAAQ,QAAQ,YAAY;wBAC5B,gBAAgB;;;;;;kCAElB,8OAAC,4MAAA,CAAA,SAAM;wBACL,YAAY;wBACZ,eAAe;wBACf,MAAK;wBACL,YAAY;4BACV,SAAS;wBACX;kCAEA,cAAA,8OAAC;4BAAK,WAAU;sCAAqB;;;;;;;;;;;;;;;;;0BAIzC,8OAAC,sMAAA,CAAA,OAAI;gBACH,aAAa;gBACb,mBAAmB,CAAC,MAAQ,gBAAgB;gBAC5C,MAAK;gBACL,OAAM;gBACN,SAAQ;gBACR,YAAY;oBACV,SAAS;oBACT,QAAQ;oBACR,KAAK;oBACL,YAAY;gBACd;gBACA,WAAU;;kCAEV,8OAAC,8MAAA,CAAA,MAAG;wBAAY,OAAM;kCACpB,cAAA,8OAAC;4BAAI,WAAU;sCACZ,YAAY,GAAG,CAAC,CAAC;gCAChB,MAAM,WAAW,YAAY,CAAC,SAAS;gCACvC,qBACE,8OAAC,yIAAA,CAAA,cAAW;oCAEV,UAAU;oCACV,UAAU;oCACV,WAAW,QAAQ,SAAS;oCAC5B,WAAW,QAAQ,EAAE;oCACrB,mBAAmB;oCACnB,OAAO,CAAC;wCACN,SAAS,OAAO,CAAC,SAAS,GAAG;oCAC/B;mCARK;;;;;4BAWX;;;;;;uBAjBK;;;;;kCAqBT,8OAAC,8MAAA,CAAA,MAAG;wBAAmB,OAAM;kCAC3B,cAAA,8OAAC,4IAAA,CAAA,UAAc;4BACb,WAAW,QAAQ,EAAE;4BACrB,cAAc,QAAQ,YAAY;;;;;;uBAH7B;;;;;;;;;;;;;;;;;AASjB","debugId":null}},
    {"offset": {"line": 5000, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/mappacks/%5Bmappack%5D/page.tsx"],"sourcesContent":["// app/mappack/[mappack]/page.tsx\n\"use client\";\nimport { use, useState, useEffect } from \"react\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { Mappack, MappackTrack } from \"@/types/mappack.types\";\nimport { mappackService } from \"@/services/mappack.service\";\nimport { groupTracksByTier, sortTiersByPoints } from \"@/utils/mappack.utils\";\nimport { useTierScroll } from \"@/hooks/useTierScroll\";\nimport { MappackSidebar } from \"@/app/_components/MappackSidebar\";\nimport { MappackContent } from \"@/app/_components/MappackContent\";\n\nexport default function MappackPage({\n  params,\n}: {\n  params: Promise<{ mappack: string }>;\n}) {\n  const { mappack: mappackId } = use(params);\n  const { user } = useAuth();\n\n  const [mappack, setMappack] = useState<Mappack | null>(null);\n  const [filteredTracks, setFilteredTracks] = useState<MappackTrack[]>([]);\n  const [selectedTab, setSelectedTab] = useState(\"maps\");\n  const [isEditOpen, setIsEditOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchMappack = async () => {\n      try {\n        setLoading(true);\n        const data = await mappackService.getMappack(mappackId, user?.id);\n        setMappack(data);\n        setFilteredTracks(data.MappackTrack);\n      } catch (error) {\n        console.error(\"Error fetching mappack:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMappack();\n  }, [mappackId, user?.id]);\n\n  const tracksByTier = groupTracksByTier(filteredTracks);\n  const sortedTiers = sortTiersByPoints(tracksByTier);\n\n  const { activeTier, tierRefs, scrollToTier } = useTierScroll(tracksByTier);\n\n  const handleEditSave = async () => {\n    try {\n      const data = await mappackService.getMappack(mappackId, user?.id);\n      setMappack(data);\n      setFilteredTracks(data.MappackTrack);\n    } catch (error) {\n      console.error(\"Error reloading mappack:\", error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <p className=\"text-white text-xl\">Loading mappack...</p>\n      </div>\n    );\n  }\n\n  if (!mappack) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <p className=\"text-white text-xl\">Mappack not found</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid lg:grid-rows-1 lg:grid-cols-6 gap-10\">\n      <div className=\"lg:col-start-1 lg:col-span-1 col-span-1\">\n        <MappackSidebar\n          mappack={mappack}\n          sortedTiers={sortedTiers}\n          tracksByTier={tracksByTier}\n          activeTier={activeTier}\n          selectedTab={selectedTab}\n          isEditOpen={isEditOpen}\n          onTierClick={scrollToTier}\n          onEditClick={() => setIsEditOpen(true)}\n          onEditClose={() => setIsEditOpen(false)}\n          onEditSave={handleEditSave}\n        />\n      </div>\n\n      <MappackContent\n        mappack={mappack}\n        sortedTiers={sortedTiers}\n        tracksByTier={tracksByTier}\n        filteredTracks={filteredTracks}\n        onFilterChange={setFilteredTracks}\n        onTabChange={setSelectedTab}\n        tierRefs={tierRefs}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,iCAAiC;;;;;AAEjC;AACA;AAEA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAUe,SAAS,YAAY,EAClC,MAAM,EAGP;IACC,MAAM,EAAE,SAAS,SAAS,EAAE,GAAG,CAAA,GAAA,qMAAA,CAAA,MAAG,AAAD,EAAE;IACnC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAEvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB;IACvD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB,EAAE;IACvE,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,eAAe;YACnB,IAAI;gBACF,WAAW;gBACX,MAAM,OAAO,MAAM,qIAAA,CAAA,iBAAc,CAAC,UAAU,CAAC,WAAW,MAAM;gBAC9D,WAAW;gBACX,kBAAkB,KAAK,YAAY;YACrC,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC3C,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;QAAW,MAAM;KAAG;IAExB,MAAM,eAAe,CAAA,GAAA,gIAAA,CAAA,oBAAiB,AAAD,EAAE;IACvC,MAAM,cAAc,CAAA,GAAA,gIAAA,CAAA,oBAAiB,AAAD,EAAE;IAEtC,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,6HAAA,CAAA,gBAAa,AAAD,EAAE;IAE7D,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,OAAO,MAAM,qIAAA,CAAA,iBAAc,CAAC,UAAU,CAAC,WAAW,MAAM;YAC9D,WAAW;YACX,kBAAkB,KAAK,YAAY;QACrC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;QAC5C;IACF;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAqB;;;;;;;;;;;IAGxC;IAEA,IAAI,CAAC,SAAS;QACZ,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAqB;;;;;;;;;;;IAGxC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,4IAAA,CAAA,iBAAc;oBACb,SAAS;oBACT,aAAa;oBACb,cAAc;oBACd,YAAY;oBACZ,aAAa;oBACb,YAAY;oBACZ,aAAa;oBACb,aAAa,IAAM,cAAc;oBACjC,aAAa,IAAM,cAAc;oBACjC,YAAY;;;;;;;;;;;0BAIhB,8OAAC,4IAAA,CAAA,iBAAc;gBACb,SAAS;gBACT,aAAa;gBACb,cAAc;gBACd,gBAAgB;gBAChB,gBAAgB;gBAChB,aAAa;gBACb,UAAU;;;;;;;;;;;;AAIlB","debugId":null}}]
}