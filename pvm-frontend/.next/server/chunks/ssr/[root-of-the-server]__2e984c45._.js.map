{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/services/track.service.ts"],"sourcesContent":["import { Track } from '@/types/mappack.types';\nimport axios from 'axios';\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8080';\n\ninterface AddTrackToMappackParams {\n  mappackId: string;\n  trackId: string;\n  tierId: number | null;\n  mapStyle: string;\n}\n\ninterface TimeGoalValue {\n  time_goal_id: number;\n  time: number;\n}\n\nexport const trackService = {\n  addToMappack: async ({ mappackId, trackId, tierId, mapStyle }: AddTrackToMappackParams): Promise<void> => {\n    await axios.post(`${API_BASE}/mappacks/${mappackId}/tracks/${trackId}`, {\n      tier_id: tierId,\n      mapStyle: mapStyle,\n    });\n  },\n\n  addTimeGoals: async (\n    mappackId: string, \n    trackId: string, \n    timeGoals: TimeGoalValue[]\n  ): Promise<void> => {\n    if (timeGoals.length === 0) return;\n    \n    await axios.patch(\n      `${API_BASE}/mappacks/${mappackId}/tracks/${trackId}/timegoals`,\n      timeGoals\n    );\n  },\n\n    getTrackDetails: async (mappackId: string, trackId: string, playerId?: string): Promise<Track> => {\n    const url = playerId \n      ? `${API_BASE}/mappacks/${mappackId}/tracks/${trackId}?player_id=${playerId}`\n      : `${API_BASE}/mappacks/${mappackId}/tracks/${trackId}`;\n    \n    const response = await axios.get<Track>(url);\n    return response.data;\n  },\n\n  fetchPlayerRecords: async (trackId: string, playerId: string): Promise<void> => {\n    const response = await axios.post(\n      `${API_BASE}/tracks/${trackId}/records/${playerId}/fetch`\n    );\n    if (response.status !== 200) {\n      throw new Error(\"Failed to fetch records\");\n    }\n  },\n\n  // FETCH TRACKS RIGHT AFTER ADDING A NEW TRACK\n  // fetchRecords: async (trackId: string): Promise<void> => {\n  //   await axios.post(`${API_BASE}/tracks/${trackId}/records`);\n  // },\n}"],"names":[],"mappings":";;;AACA;;AAEA,MAAM,WAAW,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAc7C,MAAM,eAAe;IAC1B,cAAc,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAA2B;QACpF,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,SAAS,UAAU,EAAE,UAAU,QAAQ,EAAE,SAAS,EAAE;YACtE,SAAS;YACT,UAAU;QACZ;IACF;IAEA,cAAc,OACZ,WACA,SACA;QAEA,IAAI,UAAU,MAAM,KAAK,GAAG;QAE5B,MAAM,qIAAA,CAAA,UAAK,CAAC,KAAK,CACf,GAAG,SAAS,UAAU,EAAE,UAAU,QAAQ,EAAE,QAAQ,UAAU,CAAC,EAC/D;IAEJ;IAEE,iBAAiB,OAAO,WAAmB,SAAiB;QAC5D,MAAM,MAAM,WACR,GAAG,SAAS,UAAU,EAAE,UAAU,QAAQ,EAAE,QAAQ,WAAW,EAAE,UAAU,GAC3E,GAAG,SAAS,UAAU,EAAE,UAAU,QAAQ,EAAE,SAAS;QAEzD,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAQ;QACxC,OAAO,SAAS,IAAI;IACtB;IAEA,oBAAoB,OAAO,SAAiB;QAC1C,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAC/B,GAAG,SAAS,QAAQ,EAAE,QAAQ,SAAS,EAAE,SAAS,MAAM,CAAC;QAE3D,IAAI,SAAS,MAAM,KAAK,KAAK;YAC3B,MAAM,IAAI,MAAM;QAClB;IACF;AAMF","debugId":null}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/hooks/useTrackDetails.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Track } from '@/types/mappack.types';\nimport { trackService } from '@/services/track.service';\n\nexport function useTrackDetails(mappackId: string, trackId: string, playerId?: string) {\n  const [track, setTrack] = useState<Track | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  useEffect(() => {\n    const fetchTrack = async () => {\n      try {\n        setLoading(true);\n        const data = await trackService.getTrackDetails(mappackId, trackId, playerId);\n        setTrack(data);\n      } catch (err) {\n        setError(err as Error);\n        console.error('Error fetching track:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTrack();\n  }, [mappackId, trackId, playerId]);\n\n  return { track, loading, error };\n}"],"names":[],"mappings":";;;AAAA;AAEA;;;AAEO,SAAS,gBAAgB,SAAiB,EAAE,OAAe,EAAE,QAAiB;IACnF,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAgB;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAgB;IAEjD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,aAAa;YACjB,IAAI;gBACF,WAAW;gBACX,MAAM,OAAO,MAAM,mIAAA,CAAA,eAAY,CAAC,eAAe,CAAC,WAAW,SAAS;gBACpE,SAAS;YACX,EAAE,OAAO,KAAK;gBACZ,SAAS;gBACT,QAAQ,KAAK,CAAC,yBAAyB;YACzC,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;QAAW;QAAS;KAAS;IAEjC,OAAO;QAAE;QAAO;QAAS;IAAM;AACjC","debugId":null}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/track-detail/TrackHero.tsx"],"sourcesContent":["import { Image } from \"@heroui/react\";\n\ninterface TrackHeroProps {\n  thumbnailUrl: string;\n  dominantColor: string;\n}\n\nexport function TrackHero({ thumbnailUrl, dominantColor }: TrackHeroProps) {\n  const rgbColor = {\n    r: parseInt(dominantColor.slice(0, 2), 16),\n    g: parseInt(dominantColor.slice(2, 4), 16),\n    b: parseInt(dominantColor.slice(4, 6), 16),\n  };\n\n  return (\n    <div className=\"relative group w-full h-full\">\n      <div\n        className=\"relative rounded-2xl overflow-hidden aspect-square w-full h-full\"\n        style={{\n          boxShadow: `0 10px 20px 5px rgba(${rgbColor.r}, ${rgbColor.g}, ${rgbColor.b}, 0.3)`,\n        }}\n      >\n        <Image\n          className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110\"\n          alt=\"Track Thumbnail\"\n          src={thumbnailUrl}\n          removeWrapper\n        />\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent\" />\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;;;AAOO,SAAS,UAAU,EAAE,YAAY,EAAE,aAAa,EAAkB;IACvE,MAAM,WAAW;QACf,GAAG,SAAS,cAAc,KAAK,CAAC,GAAG,IAAI;QACvC,GAAG,SAAS,cAAc,KAAK,CAAC,GAAG,IAAI;QACvC,GAAG,SAAS,cAAc,KAAK,CAAC,GAAG,IAAI;IACzC;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,WAAU;YACV,OAAO;gBACL,WAAW,CAAC,qBAAqB,EAAE,SAAS,CAAC,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,MAAM,CAAC;YACrF;;8BAEA,8OAAC,yMAAA,CAAA,QAAK;oBACJ,WAAU;oBACV,KAAI;oBACJ,KAAK;oBACL,aAAa;;;;;;8BAEf,8OAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAIvB","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/utils/textConverter.tsx"],"sourcesContent":["import { useMemo } from 'react';\n\ninterface TextStyle {\n  color?: string;\n  bold: boolean;\n  italic: boolean;\n  wide: boolean;\n  narrow: boolean;\n  uppercase: boolean;\n  shadow: boolean;\n}\n\ninterface TextSegment {\n  text: string;\n  style: TextStyle;\n  link?: string;\n}\n\nfunction createDefaultStyle(): TextStyle {\n  return {\n    color: undefined,\n    bold: false,\n    italic: false,\n    wide: false,\n    narrow: false,\n    uppercase: false,\n    shadow: false,\n  };\n}\n\nfunction parseFormattedText(input: string): TextSegment[] {\n  const segments: TextSegment[] = [];\n  let currentStyle = createDefaultStyle();\n  let currentText = '';\n  let currentLink: string | undefined = undefined;\n  let i = 0;\n\n  const pushSegment = () => {\n    if (currentText) {\n      segments.push({\n        text: currentText,\n        style: { ...currentStyle },\n        link: currentLink,\n      });\n      currentText = '';\n    }\n  };\n\n  while (i < input.length) {\n    if (input[i] === '$' && i + 1 < input.length) {\n      const nextChar = input[i + 1];\n      const nextCharLower = nextChar.toLowerCase();\n\n      if (i + 3 < input.length && /^[0-9a-fA-F]{3}$/.test(input.slice(i + 1, i + 4))) {\n        pushSegment();\n        const hex = input.slice(i + 1, i + 4);\n        currentStyle.color = `#${hex}`;\n        i += 4;\n        continue;\n      }\n\n      if (nextChar === '$') {\n        currentText += '$';\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'z') {\n        pushSegment();\n        currentStyle = createDefaultStyle();\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'g') {\n        pushSegment();\n        currentStyle.color = undefined;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'o') {\n        pushSegment();\n        currentStyle.bold = true;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'i') {\n        pushSegment();\n        currentStyle.italic = true;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'w') {\n        pushSegment();\n        currentStyle.wide = true;\n        currentStyle.narrow = false;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'n') {\n        pushSegment();\n        currentStyle.narrow = true;\n        currentStyle.wide = false;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'm') {\n        pushSegment();\n        currentStyle.wide = false;\n        currentStyle.narrow = false;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 't') {\n        pushSegment();\n        currentStyle.uppercase = true;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 's') {\n        pushSegment();\n        currentStyle.shadow = true;\n        i += 2;\n        continue;\n      }\n\n      if (nextCharLower === 'l') {\n        pushSegment();\n        i += 2;\n\n        if (currentLink !== undefined) {\n          currentLink = undefined;\n          continue;\n        }\n\n        if (i < input.length && input[i] === '[') {\n          const closeBracket = input.indexOf(']', i);\n          if (closeBracket !== -1) {\n            currentLink = input.slice(i + 1, closeBracket);\n            i = closeBracket + 1;\n          }\n        } else {\n          const endLink = input.toLowerCase().indexOf('$l', i);\n          if (endLink !== -1) {\n            currentLink = input.slice(i, endLink);\n            currentText = currentLink;\n            i = endLink;\n          } else {\n            currentLink = input.slice(i);\n            currentText = currentLink;\n            i = input.length;\n          }\n        }\n        continue;\n      }\n    }\n\n    currentText += input[i];\n    i++;\n  }\n\n  pushSegment();\n  return segments;\n}\n\ninterface FormattedTextProps {\n  text: string;\n  className?: string;\n}\n\nexport function FormattedText({ text, className = '' }: FormattedTextProps) {\n  const segments = useMemo(() => parseFormattedText(text), [text]);\n\n  return (\n    <span className={className}>\n      {segments.map((segment, index) => (\n        <span\n          key={index}\n          style={{ color: segment.style.color }}\n          className={segment.style.bold ? 'font-bold' : ''}\n        >\n          {segment.text}\n        </span>\n      ))}\n    </span>\n  );\n}\n\nexport function useFormattedText(text: string) {\n  return useMemo(() => parseFormattedText(text), [text]);\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/track-detail/TrackInfoCard.tsx"],"sourcesContent":["import { Card, CardBody } from \"@heroui/react\";\nimport { FaRoute } from \"react-icons/fa\";\nimport { FormattedText } from \"@/utils/textConverter\";\n\ninterface TrackInfoCardProps {\n  name: string;\n  authorName: string;\n  dominantColor: string;\n}\n\nexport function TrackInfoCard({ name, authorName, dominantColor }: TrackInfoCardProps) {\n  return (\n    <Card\n      className=\"relative overflow-hidden\"\n      style={{\n        background: `linear-gradient(135deg, #${dominantColor}10, #${dominantColor})`,\n      }}\n    >\n      <div className=\"absolute inset-0 \" />\n      <FaRoute className=\"absolute right-4 top-1/2 -translate-y-1/2 w-32 h-32 text-white/5 rotate-12\" />\n\n      <CardBody className=\"p-8 relative z-10\">\n        <div className=\"flex items-start justify-between gap-4\">\n          <div className=\"flex-1\">\n            <h1 className=\"text-5xl font-bold mb-3 bg-gradient-to-r from-white to-white/70 bg-clip-text text-transparent\">\n              <FormattedText text={name} />\n            </h1>\n            <p className=\"text-xl text-neutral-400 font-ruigslay flex items-center gap-2\">\n              <span className=\"text-white/50\">by</span> {authorName}\n            </p>\n          </div>\n        </div>\n      </CardBody>\n    </Card>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;;;;;AAQO,SAAS,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,aAAa,EAAsB;IACnF,qBACE,8OAAC,sMAAA,CAAA,OAAI;QACH,WAAU;QACV,OAAO;YACL,YAAY,CAAC,yBAAyB,EAAE,cAAc,KAAK,EAAE,cAAc,CAAC,CAAC;QAC/E;;0BAEA,8OAAC;gBAAI,WAAU;;;;;;0BACf,8OAAC,8IAAA,CAAA,UAAO;gBAAC,WAAU;;;;;;0BAEnB,8OAAC,+MAAA,CAAA,WAAQ;gBAAC,WAAU;0BAClB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CACZ,cAAA,8OAAC,8HAAA,CAAA,gBAAa;oCAAC,MAAM;;;;;;;;;;;0CAEvB,8OAAC;gCAAE,WAAU;;kDACX,8OAAC;wCAAK,WAAU;kDAAgB;;;;;;oCAAS;oCAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOzD","debugId":null}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/track-detail/TrackStatsGrid.tsx"],"sourcesContent":["import { Card, CardBody } from \"@heroui/react\";\nimport { IoDiamond } from \"react-icons/io5\";\nimport { FaDatabase } from \"react-icons/fa\";\nimport { MappackTier } from \"@/types/mappack.types\";\n\ninterface TrackStatsGridProps {\n  tier: MappackTier | null;\n  recordsCount: number;\n  dominantColor: string;\n}\n\nexport function TrackStatsGrid({ tier, recordsCount, dominantColor }: TrackStatsGridProps) {\n  return (\n    <div className=\"grid sm:grid-cols-2 gap-4\">\n      {/* Tier Card */}\n      <Card\n        className=\"relative overflow-hidden border-2\"\n        style={{\n          borderColor: `${tier?.color || \"#666\"}40`,\n          background: `linear-gradient(135deg, #${dominantColor}20, ${tier?.color || \"#666\"}20)`,\n        }}\n      >\n        <IoDiamond className=\"absolute -right-6 -bottom-6 w-40 h-40 opacity-10 rotate-45\" />\n        <CardBody className=\"p-6 relative z-10\">\n          <div className=\"flex items-center gap-3 mb-2\">\n            <IoDiamond className=\"w-5 h-5 opacity-70\" />\n            <p className=\"text-sm uppercase tracking-wider text-white/70 font-semibold\">\n              Difficulty Tier\n            </p>\n          </div>\n          <h2 className=\"text-4xl font-bold font-ruigslay\">\n            {tier?.name || \"Unranked\"}\n          </h2>\n          <p className=\"text-sm text-white/50 mt-1\">\n            {tier?.points || 0} points\n          </p>\n        </CardBody>\n      </Card>\n\n      {/* Records Card */}\n      <Card className=\"bg-black-90 border border-blue-500/30 relative overflow-hidden\">\n        <FaDatabase className=\"absolute -right-4 -bottom-4 w-32 h-32 text-white/10 opacity-30\" />\n        <CardBody className=\"p-6 relative z-10\">\n          <div className=\"flex items-center gap-3 mb-2\">\n            <FaDatabase className=\"w-4 h-4 opacity-70\" />\n            <p className=\"text-sm uppercase tracking-wider text-white/70 font-semibold\">\n              Records Tracked\n            </p>\n          </div>\n          <h2 className=\"text-4xl font-bold font-ruigslay\">\n            {recordsCount}\n          </h2>\n          <p className=\"text-sm text-white/50 mt-1\">Records might not be fully updated</p>\n        </CardBody>\n      </Card>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;;;;;AASO,SAAS,eAAe,EAAE,IAAI,EAAE,YAAY,EAAE,aAAa,EAAuB;IACvF,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,sMAAA,CAAA,OAAI;gBACH,WAAU;gBACV,OAAO;oBACL,aAAa,GAAG,MAAM,SAAS,OAAO,EAAE,CAAC;oBACzC,YAAY,CAAC,yBAAyB,EAAE,cAAc,IAAI,EAAE,MAAM,SAAS,OAAO,GAAG,CAAC;gBACxF;;kCAEA,8OAAC,+IAAA,CAAA,YAAS;wBAAC,WAAU;;;;;;kCACrB,8OAAC,+MAAA,CAAA,WAAQ;wBAAC,WAAU;;0CAClB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,+IAAA,CAAA,YAAS;wCAAC,WAAU;;;;;;kDACrB,8OAAC;wCAAE,WAAU;kDAA+D;;;;;;;;;;;;0CAI9E,8OAAC;gCAAG,WAAU;0CACX,MAAM,QAAQ;;;;;;0CAEjB,8OAAC;gCAAE,WAAU;;oCACV,MAAM,UAAU;oCAAE;;;;;;;;;;;;;;;;;;;0BAMzB,8OAAC,sMAAA,CAAA,OAAI;gBAAC,WAAU;;kCACd,8OAAC,8IAAA,CAAA,aAAU;wBAAC,WAAU;;;;;;kCACtB,8OAAC,+MAAA,CAAA,WAAQ;wBAAC,WAAU;;0CAClB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,8IAAA,CAAA,aAAU;wCAAC,WAAU;;;;;;kDACtB,8OAAC;wCAAE,WAAU;kDAA+D;;;;;;;;;;;;0CAI9E,8OAAC;gCAAG,WAAU;0CACX;;;;;;0CAEH,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;;;;;;;;;;;;;AAKpD","debugId":null}},
    {"offset": {"line": 676, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/utils/time.utils.ts"],"sourcesContent":["export const millisecondsToTimeString = (ms: number): string => {\n  if (!ms || ms === 0) return \"\";\n\n  const totalSeconds = Math.floor(ms / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n  const milliseconds = ms % 1000;\n\n  return `${minutes}:${seconds.toString().padStart(2, \"0\")}:${milliseconds.toString().padStart(3, \"0\")}`;\n};\n\nexport const timeStringToMilliseconds = (timeString: string): number => {\n  if (!timeString || timeString.trim() === \"\") return 0;\n\n  try {\n    const parts = timeString.split(\":\");\n    if (parts.length !== 3) return 0;\n\n    const minutes = parseInt(parts[0]) || 0;\n    const seconds = parseInt(parts[1]) || 0;\n    const milliseconds = parseInt(parts[2]) || 0;\n\n    return minutes * 60 * 1000 + seconds * 1000 + milliseconds;\n  } catch (error) {\n    console.error(\"Error parsing time string:\", timeString, error);\n    return 0;\n  }\n};\n\nexport function calculateTimeDelta(personalBest: number, goalTime: number): {\n  delta: number;\n  isAchieved: boolean;\n  formatted: string;\n} {\n  const delta = personalBest - goalTime;\n  const isAchieved = delta <= 0;\n  \n  const absDelta = Math.abs(delta);\n  const totalSeconds = Math.floor(absDelta / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n  const milliseconds = absDelta % 1000;\n  \n  const sign = isAchieved ? '-' : '+';\n  const formatted = `${sign}${minutes}:${seconds.toString().padStart(2, '0')}:${milliseconds.toString().padStart(3, '0')}`;\n  \n  return {\n    delta,\n    isAchieved,\n    formatted,\n  };\n}\n\nexport function formatSecondsToMMSS(seconds: number): string {\n  const minutes = Math.floor(seconds / 60);\n  const secs = seconds % 60;\n  return `${minutes}:${secs.toString().padStart(2, '0')}`;\n}"],"names":[],"mappings":";;;;;;AAAO,MAAM,2BAA2B,CAAC;IACvC,IAAI,CAAC,MAAM,OAAO,GAAG,OAAO;IAE5B,MAAM,eAAe,KAAK,KAAK,CAAC,KAAK;IACrC,MAAM,UAAU,KAAK,KAAK,CAAC,eAAe;IAC1C,MAAM,UAAU,eAAe;IAC/B,MAAM,eAAe,KAAK;IAE1B,OAAO,GAAG,QAAQ,CAAC,EAAE,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,aAAa,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AACxG;AAEO,MAAM,2BAA2B,CAAC;IACvC,IAAI,CAAC,cAAc,WAAW,IAAI,OAAO,IAAI,OAAO;IAEpD,IAAI;QACF,MAAM,QAAQ,WAAW,KAAK,CAAC;QAC/B,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO;QAE/B,MAAM,UAAU,SAAS,KAAK,CAAC,EAAE,KAAK;QACtC,MAAM,UAAU,SAAS,KAAK,CAAC,EAAE,KAAK;QACtC,MAAM,eAAe,SAAS,KAAK,CAAC,EAAE,KAAK;QAE3C,OAAO,UAAU,KAAK,OAAO,UAAU,OAAO;IAChD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B,YAAY;QACxD,OAAO;IACT;AACF;AAEO,SAAS,mBAAmB,YAAoB,EAAE,QAAgB;IAKvE,MAAM,QAAQ,eAAe;IAC7B,MAAM,aAAa,SAAS;IAE5B,MAAM,WAAW,KAAK,GAAG,CAAC;IAC1B,MAAM,eAAe,KAAK,KAAK,CAAC,WAAW;IAC3C,MAAM,UAAU,KAAK,KAAK,CAAC,eAAe;IAC1C,MAAM,UAAU,eAAe;IAC/B,MAAM,eAAe,WAAW;IAEhC,MAAM,OAAO,aAAa,MAAM;IAChC,MAAM,YAAY,GAAG,OAAO,QAAQ,CAAC,EAAE,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,aAAa,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;IAExH,OAAO;QACL;QACA;QACA;IACF;AACF;AAEO,SAAS,oBAAoB,OAAe;IACjD,MAAM,UAAU,KAAK,KAAK,CAAC,UAAU;IACrC,MAAM,OAAO,UAAU;IACvB,OAAO,GAAG,QAAQ,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AACzD","debugId":null}},
    {"offset": {"line": 729, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/track-detail/TimeGoalCard.tsx"],"sourcesContent":["// components/track-detail/TimeGoalCard.tsx\nimport { FaClock, FaCheck } from \"react-icons/fa\";\nimport { millisecondsToTimeString, calculateTimeDelta } from \"@/utils/time.utils\";\n\ninterface TimeGoalCardProps {\n  name: string;\n  time: number;\n  personalBest?: number;\n}\n\nexport function TimeGoalCard({ name, time, personalBest }: TimeGoalCardProps) {\n  const hasPB = personalBest !== undefined && personalBest > 0;\n  const delta = hasPB ? calculateTimeDelta(personalBest, time) : null;\n\n  return (\n    <div\n      className={`\n        relative rounded-lg p-3 border transition-all duration-200\n        ${delta?.isAchieved\n          ? 'bg-green-500/10 border-green-500/50 hover:bg-green-500/15'\n          : 'bg-white/5 border-white/10 hover:bg-white/10 hover:scale-105'\n        }\n      `}\n    >\n      {/* Achievement Badge */}\n      {delta?.isAchieved && (\n        <div className=\"absolute -top-1.5 -right-1.5 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center\">\n          <FaCheck className=\"w-2.5 h-2.5 text-white\" />\n        </div>\n      )}\n\n      {/* Goal Name & Time on same line */}\n      <div className=\"flex items-center justify-between gap-2 mb-2\">\n        <span className=\"text-xs uppercase tracking-wider text-white/60 font-semibold truncate\">\n          {name}\n        </span>\n        <FaClock className=\"w-2.5 h-2.5 text-white/30 flex-shrink-0\" />\n      </div>\n\n      {/* Goal Time */}\n      <div className=\"text-base font-bold font-mono text-white mb-2\">\n        {millisecondsToTimeString(time)}\n      </div>\n\n      {/* Delta Display - Compact */}\n      {delta ? (\n        <div className=\"text-xs font-mono font-bold\">\n          <span\n            className={delta.isAchieved ? 'text-blue-400' : 'text-red-400'}\n          >\n            {delta.formatted}\n          </span>\n        </div>\n      ) : (\n        <div className=\"text-xs text-white/20\">\n          Not played\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,2CAA2C;;;;;AAC3C;AACA;;;;AAQO,SAAS,aAAa,EAAE,IAAI,EAAE,IAAI,EAAE,YAAY,EAAqB;IAC1E,MAAM,QAAQ,iBAAiB,aAAa,eAAe;IAC3D,MAAM,QAAQ,QAAQ,CAAA,GAAA,6HAAA,CAAA,qBAAkB,AAAD,EAAE,cAAc,QAAQ;IAE/D,qBACE,8OAAC;QACC,WAAW,CAAC;;QAEV,EAAE,OAAO,aACL,8DACA,+DACH;MACH,CAAC;;YAGA,OAAO,4BACN,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,8IAAA,CAAA,UAAO;oBAAC,WAAU;;;;;;;;;;;0BAKvB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;kCACb;;;;;;kCAEH,8OAAC,8IAAA,CAAA,UAAO;wBAAC,WAAU;;;;;;;;;;;;0BAIrB,8OAAC;gBAAI,WAAU;0BACZ,CAAA,GAAA,6HAAA,CAAA,2BAAwB,AAAD,EAAE;;;;;;YAI3B,sBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,WAAW,MAAM,UAAU,GAAG,kBAAkB;8BAE/C,MAAM,SAAS;;;;;;;;;;qCAIpB,8OAAC;gBAAI,WAAU;0BAAwB;;;;;;;;;;;;AAM/C","debugId":null}},
    {"offset": {"line": 827, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/track-detail/TrackTimeGoals.tsx"],"sourcesContent":["// components/track-detail/TrackTimeGoals.tsx\nimport { Card, CardBody } from \"@heroui/react\";\nimport { FaTrophy, FaClock } from \"react-icons/fa\";\nimport { millisecondsToTimeString } from \"@/utils/time.utils\";\nimport { TimeGoalCard } from \"./TimeGoalCard\";\n\ninterface TimeGoal {\n  name: string;\n  time: number;\n}\n\ninterface TrackTimeGoalsProps {\n  timeGoals: TimeGoal[];\n  personalBest?: number;\n}\n\nexport function TrackTimeGoals({ timeGoals, personalBest }: TrackTimeGoalsProps) {\n  const hasPB = personalBest !== undefined && personalBest > 0;\n\n  return (\n    <Card className=\"bg-neutral-90 border border-blue-500/30 relative overflow-hidden\">\n      <div className=\"absolute inset-0 \" />\n      <FaTrophy className=\"absolute right-8 top-1/2 -translate-y-1/2 w-40 h-40 text-white/10 opacity-30\" />\n\n      <CardBody className=\"p-4 relative z-10\">\n        {/* Header with inline PB */}\n        <div className=\"flex items-center gap-4 mb-3\">\n          <div className=\"flex items-center gap-2\">\n            <FaTrophy className=\"w-4 h-4 text-yellow-500/70\" />\n            <h3 className=\"text-sm uppercase tracking-wider text-white/70 font-semibold \">Time Goals</h3>\n          </div>\n\n          {hasPB && (\n            <>\n              <div className=\"h-4 w-px bg-white/20\" />\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-sm uppercase tracking-wider text-white/70 font-semibold \">PB:</span>\n                <span className=\"text-sm uppercase tracking-wider text-white/70 font-semibold\">\n                  {millisecondsToTimeString(personalBest)}\n                </span>\n              </div>\n            </>\n          )}\n        </div>\n\n        {timeGoals.length > 0 ? (\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2\">\n            {timeGoals.map((goal, index) => (\n              <TimeGoalCard\n                key={index}\n                name={goal.name}\n                time={goal.time}\n                personalBest={personalBest}\n              />\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-6\">\n            <p className=\"text-white/50 text-base\">No time goals set for this track</p>\n          </div>\n        )}\n\n\n      </CardBody>\n    </Card>\n  );\n}"],"names":[],"mappings":"AAAA,6CAA6C;;;;;AAC7C;AAAA;AACA;AACA;AACA;;;;;;AAYO,SAAS,eAAe,EAAE,SAAS,EAAE,YAAY,EAAuB;IAC7E,MAAM,QAAQ,iBAAiB,aAAa,eAAe;IAE3D,qBACE,8OAAC,sMAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,8OAAC;gBAAI,WAAU;;;;;;0BACf,8OAAC,8IAAA,CAAA,WAAQ;gBAAC,WAAU;;;;;;0BAEpB,8OAAC,+MAAA,CAAA,WAAQ;gBAAC,WAAU;;kCAElB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,8IAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC;wCAAG,WAAU;kDAAgE;;;;;;;;;;;;4BAG/E,uBACC;;kDACE,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAgE;;;;;;0DAChF,8OAAC;gDAAK,WAAU;0DACb,CAAA,GAAA,6HAAA,CAAA,2BAAwB,AAAD,EAAE;;;;;;;;;;;;;;;;;;;;oBAOnC,UAAU,MAAM,GAAG,kBAClB,8OAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC,MAAM,sBACpB,8OAAC,6JAAA,CAAA,eAAY;gCAEX,MAAM,KAAK,IAAI;gCACf,MAAM,KAAK,IAAI;gCACf,cAAc;+BAHT;;;;;;;;;6CAQX,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAE,WAAU;sCAA0B;;;;;;;;;;;;;;;;;;;;;;;AAQnD","debugId":null}},
    {"offset": {"line": 980, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/hooks/useRecordsPagination.ts"],"sourcesContent":["// hooks/useRecordsPagination.ts\nimport { useState, useMemo } from 'react';\nimport { Record } from '@/types/mappack.types';\n\nexport function useRecordsPagination(records: Record[], itemsPerPage: number = 20) {\n  const [page, setPage] = useState(1);\n  const [sortDescriptor, setSortDescriptor] = useState<{\n    column: string;\n    direction: 'ascending' | 'descending';\n  }>({\n    column: 'score',\n    direction: 'ascending', // Lower time is better\n  });\n\n  const sortedRecords = useMemo(() => {\n    return [...records].sort((a, b) => {\n      let first: any = a[sortDescriptor.column as keyof Record];\n      let second: any = b[sortDescriptor.column as keyof Record];\n\n      // Handle nested player.name\n      if (sortDescriptor.column === 'playerName') {\n        first = a.player.name;\n        second = b.player.name;\n      }\n\n      // For numeric values, compare directly\n      if (typeof first === 'number' && typeof second === 'number') {\n        const cmp = first < second ? -1 : first > second ? 1 : 0;\n        return sortDescriptor.direction === 'descending' ? cmp * -1 : cmp;\n      }\n\n      // For strings, compare with fallback\n      const cmp = (parseInt(first) || first) < (parseInt(second) || second) ? -1 : 1;\n      return sortDescriptor.direction === 'descending' ? cmp * -1 : cmp;\n    });\n  }, [records, sortDescriptor]);\n\n  const pages = Math.ceil(sortedRecords.length / itemsPerPage);\n\n  const paginatedRecords = useMemo(() => {\n    const start = (page - 1) * itemsPerPage;\n    const end = start + itemsPerPage;\n    return sortedRecords.slice(start, end);\n  }, [sortedRecords, page, itemsPerPage]);\n\n  return {\n    page,\n    pages,\n    setPage,\n    sortDescriptor,\n    setSortDescriptor,\n    paginatedRecords,\n    totalRecords: records.length,\n  };\n}"],"names":[],"mappings":"AAAA,gCAAgC;;;;AAChC;;AAGO,SAAS,qBAAqB,OAAiB,EAAE,eAAuB,EAAE;IAC/E,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAGhD;QACD,QAAQ;QACR,WAAW;IACb;IAEA,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC5B,OAAO;eAAI;SAAQ,CAAC,IAAI,CAAC,CAAC,GAAG;YAC3B,IAAI,QAAa,CAAC,CAAC,eAAe,MAAM,CAAiB;YACzD,IAAI,SAAc,CAAC,CAAC,eAAe,MAAM,CAAiB;YAE1D,4BAA4B;YAC5B,IAAI,eAAe,MAAM,KAAK,cAAc;gBAC1C,QAAQ,EAAE,MAAM,CAAC,IAAI;gBACrB,SAAS,EAAE,MAAM,CAAC,IAAI;YACxB;YAEA,uCAAuC;YACvC,IAAI,OAAO,UAAU,YAAY,OAAO,WAAW,UAAU;gBAC3D,MAAM,MAAM,QAAQ,SAAS,CAAC,IAAI,QAAQ,SAAS,IAAI;gBACvD,OAAO,eAAe,SAAS,KAAK,eAAe,MAAM,CAAC,IAAI;YAChE;YAEA,qCAAqC;YACrC,MAAM,MAAM,CAAC,SAAS,UAAU,KAAK,IAAI,CAAC,SAAS,WAAW,MAAM,IAAI,CAAC,IAAI;YAC7E,OAAO,eAAe,SAAS,KAAK,eAAe,MAAM,CAAC,IAAI;QAChE;IACF,GAAG;QAAC;QAAS;KAAe;IAE5B,MAAM,QAAQ,KAAK,IAAI,CAAC,cAAc,MAAM,GAAG;IAE/C,MAAM,mBAAmB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC/B,MAAM,QAAQ,CAAC,OAAO,CAAC,IAAI;QAC3B,MAAM,MAAM,QAAQ;QACpB,OAAO,cAAc,KAAK,CAAC,OAAO;IACpC,GAAG;QAAC;QAAe;QAAM;KAAa;IAEtC,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA,cAAc,QAAQ,MAAM;IAC9B;AACF","debugId":null}},
    {"offset": {"line": 1040, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/utils/date.utils.ts"],"sourcesContent":["export function formatRelativeTime(dateString: string): string {\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n\n  if (diffInSeconds < 60) return 'Just now';\n  if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`;\n  if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`;\n  if (diffInSeconds < 2592000) return `${Math.floor(diffInSeconds / 86400)}d ago`;\n  if (diffInSeconds < 31536000) return `${Math.floor(diffInSeconds / 2592000)}mo ago`;\n  return `${Math.floor(diffInSeconds / 31536000)}y ago`;\n}\n\nexport function formatAbsoluteDate(dateString: string): string {\n  const date = new Date(dateString);\n  return date.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n  });\n}"],"names":[],"mappings":";;;;AAAO,SAAS,mBAAmB,UAAkB;IACnD,MAAM,OAAO,IAAI,KAAK;IACtB,MAAM,MAAM,IAAI;IAChB,MAAM,gBAAgB,KAAK,KAAK,CAAC,CAAC,IAAI,OAAO,KAAK,KAAK,OAAO,EAAE,IAAI;IAEpE,IAAI,gBAAgB,IAAI,OAAO;IAC/B,IAAI,gBAAgB,MAAM,OAAO,GAAG,KAAK,KAAK,CAAC,gBAAgB,IAAI,KAAK,CAAC;IACzE,IAAI,gBAAgB,OAAO,OAAO,GAAG,KAAK,KAAK,CAAC,gBAAgB,MAAM,KAAK,CAAC;IAC5E,IAAI,gBAAgB,SAAS,OAAO,GAAG,KAAK,KAAK,CAAC,gBAAgB,OAAO,KAAK,CAAC;IAC/E,IAAI,gBAAgB,UAAU,OAAO,GAAG,KAAK,KAAK,CAAC,gBAAgB,SAAS,MAAM,CAAC;IACnF,OAAO,GAAG,KAAK,KAAK,CAAC,gBAAgB,UAAU,KAAK,CAAC;AACvD;AAEO,SAAS,mBAAmB,UAAkB;IACnD,MAAM,OAAO,IAAI,KAAK;IACtB,OAAO,KAAK,kBAAkB,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;IACP;AACF","debugId":null}},
    {"offset": {"line": 1067, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/utils/record.utils.ts"],"sourcesContent":["interface TimeGoal {\n  name: string;\n  time: number;\n}\n\nexport function getBestAchievedTimeGoal(\n  recordTime: number,\n  timeGoals: TimeGoal[]\n): string | null {\n  const sortedGoals = [...timeGoals].sort((a, b) => a.time - b.time);\n  \n  for (const goal of sortedGoals) {\n    if (recordTime <= goal.time) {\n      return goal.name;\n    }\n  }\n  \n  return null;\n}"],"names":[],"mappings":";;;AAKO,SAAS,wBACd,UAAkB,EAClB,SAAqB;IAErB,MAAM,cAAc;WAAI;KAAU,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,IAAI,GAAG,EAAE,IAAI;IAEjE,KAAK,MAAM,QAAQ,YAAa;QAC9B,IAAI,cAAc,KAAK,IAAI,EAAE;YAC3B,OAAO,KAAK,IAAI;QAClB;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1085, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/RecordsTable.tsx"],"sourcesContent":["// components/RecordsTable.tsx\n\"use client\";\nimport { Pagination } from \"@heroui/react\";\nimport { Record } from \"@/types/mappack.types\";\nimport { useRecordsPagination } from \"@/hooks/useRecordsPagination\";\nimport { millisecondsToTimeString } from \"@/utils/time.utils\";\nimport { formatRelativeTime } from \"@/utils/date.utils\";\nimport { getBestAchievedTimeGoal } from \"@/utils/record.utils\";\n\ninterface TimeGoal {\n  name: string;\n  time: number;\n}\n\ninterface RecordsTableProps {\n  records: Record[];\n  timeGoals?: TimeGoal[];\n}\n\nexport default function RecordsTable({ records, timeGoals = [] }: RecordsTableProps) {\n  const { page, pages, setPage, paginatedRecords, totalRecords } = \n    useRecordsPagination(records, 10);\n\n  const getPositionStyle = (position: number) => {\n    if (position === 1) return \"text-yellow-400 font-bold\";\n    if (position === 2) return \"text-gray-300 font-bold\";\n    if (position === 3) return \"text-amber-600 font-bold\";\n    return \"text-white/60\";\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"grid grid-cols-[50px_1fr_140px_140px_100px] gap-6 px-2 text-xs uppercase tracking-wider text-white/30 font-semibold\">\n        <span className=\"text-center\">#</span>\n        <span>Player</span>\n        <span className=\"text-center\">Time</span>\n        <span className=\"text-center\">Timegoal</span>\n        <span className=\"text-right\">Last Updated</span>\n      </div>\n\n      {/* Records List */}\n      <div className=\"space-y-0\">\n        {paginatedRecords.length === 0 ? (\n          <div className=\"text-center py-16\">\n            <p className=\"text-white/40 text-lg\">No records yet</p>\n            <p className=\"text-white/30 text-sm mt-2\">If records are supposed to be here contact an admin</p>\n          </div>\n        ) : (\n          paginatedRecords.map((record, index) => {\n            const achievedGoal = getBestAchievedTimeGoal(record.score, timeGoals);\n            // Calculate display position based on current page and index\n            const displayPosition = (page - 1) * 10 + index + 1;\n            \n            return (\n              <div key={record.mapRecordId}>\n                <div className=\"grid grid-cols-[50px_1fr_140px_140px_100px] gap-6 px-2 py-4 hover:bg-white/[0.02] transition-colors\">\n                  {/* Rank */}\n                  <div className=\"flex items-center justify-center\">\n                    <span className={`text-lg font-mono ${getPositionStyle(displayPosition)}`}>\n                      {displayPosition}\n                    </span>\n                  </div>\n\n                  {/* Player Name */}\n                  <div className=\"flex items-center min-w-0\">\n                    <span className=\"text-base text-white truncate\">\n                      {record.player.name}\n                    </span>\n                  </div>\n\n                  {/* Time */}\n                  <div className=\"flex items-center justify-center\">\n                    <span className=\"text-base font-mono text-white/90\">\n                      {millisecondsToTimeString(record.score)}\n                    </span>\n                  </div>\n\n                  {/* Time Goal Achievement */}\n                  <div className=\"flex items-center justify-center\">\n                    {achievedGoal ? (\n                      <span className=\"px-3 py-1 rounded-full bg-white/10 text-white/90 text-sm font-medium\">\n                        {achievedGoal}\n                      </span>\n                    ) : (\n                      <span className=\"text-white/20 text-sm\">â€”</span>\n                    )}\n                  </div>\n\n                  {/* Date */}\n                  <div className=\"flex items-center justify-end\">\n                    <span className=\"text-sm text-white/30\">\n                      {formatRelativeTime(record.updatedAt)}\n                    </span>\n                  </div>\n                </div>\n                \n                {/* Separator */}\n                {index < paginatedRecords.length - 1 && (\n                  <div className=\"h-px bg-white/5\" />\n                )}\n              </div>\n            );\n          })\n        )}\n      </div>\n\n      {/* Footer: Stats & Pagination */}\n      {totalRecords > 0 && (\n        <div className=\"flex items-center justify-between pt-6 border-t border-white/5\">\n          <p className=\"text-sm text-white/30\">\n            {totalRecords.toLocaleString()} {totalRecords === 1 ? 'record' : 'records'}\n          </p>\n          \n          {pages > 1 && (\n            <Pagination\n              total={pages}\n              page={page}\n              onChange={setPage}\n              showControls\n              size=\"sm\"\n              classNames={{\n                wrapper: \"gap-1\",\n                item: \"bg-transparent text-white/40 hover:text-white/70 hover:bg-white/5 min-w-8 w-8 h-8 border-none\",\n                cursor: \"bg-white/10 text-white font-semibold border-none\",\n                prev: \"bg-transparent hover:bg-white/5 border-none\",\n                next: \"bg-transparent hover:bg-white/5 border-none\",\n              }}\n            />\n          )}\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,8BAA8B;;;;;AAE9B;AAEA;AACA;AACA;AACA;AANA;;;;;;;AAkBe,SAAS,aAAa,EAAE,OAAO,EAAE,YAAY,EAAE,EAAqB;IACjF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,gBAAgB,EAAE,YAAY,EAAE,GAC5D,CAAA,GAAA,oIAAA,CAAA,uBAAoB,AAAD,EAAE,SAAS;IAEhC,MAAM,mBAAmB,CAAC;QACxB,IAAI,aAAa,GAAG,OAAO;QAC3B,IAAI,aAAa,GAAG,OAAO;QAC3B,IAAI,aAAa,GAAG,OAAO;QAC3B,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;kCAAc;;;;;;kCAC9B,8OAAC;kCAAK;;;;;;kCACN,8OAAC;wBAAK,WAAU;kCAAc;;;;;;kCAC9B,8OAAC;wBAAK,WAAU;kCAAc;;;;;;kCAC9B,8OAAC;wBAAK,WAAU;kCAAa;;;;;;;;;;;;0BAI/B,8OAAC;gBAAI,WAAU;0BACZ,iBAAiB,MAAM,KAAK,kBAC3B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;sCACrC,8OAAC;4BAAE,WAAU;sCAA6B;;;;;;;;;;;2BAG5C,iBAAiB,GAAG,CAAC,CAAC,QAAQ;oBAC5B,MAAM,eAAe,CAAA,GAAA,+HAAA,CAAA,0BAAuB,AAAD,EAAE,OAAO,KAAK,EAAE;oBAC3D,6DAA6D;oBAC7D,MAAM,kBAAkB,CAAC,OAAO,CAAC,IAAI,KAAK,QAAQ;oBAElD,qBACE,8OAAC;;0CACC,8OAAC;gCAAI,WAAU;;kDAEb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAK,WAAW,CAAC,kBAAkB,EAAE,iBAAiB,kBAAkB;sDACtE;;;;;;;;;;;kDAKL,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAK,WAAU;sDACb,OAAO,MAAM,CAAC,IAAI;;;;;;;;;;;kDAKvB,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAK,WAAU;sDACb,CAAA,GAAA,6HAAA,CAAA,2BAAwB,AAAD,EAAE,OAAO,KAAK;;;;;;;;;;;kDAK1C,8OAAC;wCAAI,WAAU;kDACZ,6BACC,8OAAC;4CAAK,WAAU;sDACb;;;;;iEAGH,8OAAC;4CAAK,WAAU;sDAAwB;;;;;;;;;;;kDAK5C,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAK,WAAU;sDACb,CAAA,GAAA,6HAAA,CAAA,qBAAkB,AAAD,EAAE,OAAO,SAAS;;;;;;;;;;;;;;;;;4BAMzC,QAAQ,iBAAiB,MAAM,GAAG,mBACjC,8OAAC;gCAAI,WAAU;;;;;;;uBA5CT,OAAO,WAAW;;;;;gBAgDhC;;;;;;YAKH,eAAe,mBACd,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;;4BACV,aAAa,cAAc;4BAAG;4BAAE,iBAAiB,IAAI,WAAW;;;;;;;oBAGlE,QAAQ,mBACP,8OAAC,wNAAA,CAAA,aAAU;wBACT,OAAO;wBACP,MAAM;wBACN,UAAU;wBACV,YAAY;wBACZ,MAAK;wBACL,YAAY;4BACV,SAAS;4BACT,MAAM;4BACN,QAAQ;4BACR,MAAM;4BACN,MAAM;wBACR;;;;;;;;;;;;;;;;;;AAOd","debugId":null}},
    {"offset": {"line": 1353, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/RequireRole.tsx"],"sourcesContent":["\"use client\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { ReactNode } from \"react\";\n\ninterface RequireRoleProps {\n  role: \"user\" | \"admin\";\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\nexport default function RequireRole({ \n  role, \n  children, \n  fallback = null \n}: RequireRoleProps) {\n  const { user, isAuthenticated } = useAuth();\n\n  if (!isAuthenticated) {\n    return <>{fallback}</>;\n  }\n\n  if (user?.role === \"admin\") {\n    return <>{children}</>;\n  }\n\n  if (user?.role === role) {\n    return <>{children}</>;\n  }\n\n  return <>{fallback}</>;\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAUe,SAAS,YAAY,EAClC,IAAI,EACJ,QAAQ,EACR,WAAW,IAAI,EACE;IACjB,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAExC,IAAI,CAAC,iBAAiB;QACpB,qBAAO;sBAAG;;IACZ;IAEA,IAAI,MAAM,SAAS,SAAS;QAC1B,qBAAO;sBAAG;;IACZ;IAEA,IAAI,MAAM,SAAS,MAAM;QACvB,qBAAO;sBAAG;;IACZ;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 1386, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/hooks/useCooldown.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nexport function useCooldown(key: string, cooldownSeconds: number) {\n  const [secondsLeft, setSecondsLeft] = useState(0);\n  const [isOnCooldown, setIsOnCooldown] = useState(false);\n\n  useEffect(() => {\n    // Check if there's an existing cooldown\n    const cooldownEnd = localStorage.getItem(key);\n    if (cooldownEnd) {\n      const timeLeft = Math.max(0, parseInt(cooldownEnd) - Date.now());\n      if (timeLeft > 0) {\n        setSecondsLeft(Math.ceil(timeLeft / 1000));\n        setIsOnCooldown(true);\n      } else {\n        localStorage.removeItem(key);\n      }\n    }\n  }, [key]);\n\n  useEffect(() => {\n    if (!isOnCooldown || secondsLeft <= 0) return;\n\n    const interval = setInterval(() => {\n      setSecondsLeft((prev) => {\n        if (prev <= 1) {\n          setIsOnCooldown(false);\n          localStorage.removeItem(key);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [isOnCooldown, secondsLeft, key]);\n\n  const startCooldown = () => {\n    const endTime = Date.now() + cooldownSeconds * 1000;\n    localStorage.setItem(key, endTime.toString());\n    setSecondsLeft(cooldownSeconds);\n    setIsOnCooldown(true);\n  };\n\n  return { isOnCooldown, secondsLeft, startCooldown };\n}"],"names":[],"mappings":";;;AAAA;;AAEO,SAAS,YAAY,GAAW,EAAE,eAAuB;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,wCAAwC;QACxC,MAAM,cAAc,aAAa,OAAO,CAAC;QACzC,IAAI,aAAa;YACf,MAAM,WAAW,KAAK,GAAG,CAAC,GAAG,SAAS,eAAe,KAAK,GAAG;YAC7D,IAAI,WAAW,GAAG;gBAChB,eAAe,KAAK,IAAI,CAAC,WAAW;gBACpC,gBAAgB;YAClB,OAAO;gBACL,aAAa,UAAU,CAAC;YAC1B;QACF;IACF,GAAG;QAAC;KAAI;IAER,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,gBAAgB,eAAe,GAAG;QAEvC,MAAM,WAAW,YAAY;YAC3B,eAAe,CAAC;gBACd,IAAI,QAAQ,GAAG;oBACb,gBAAgB;oBAChB,aAAa,UAAU,CAAC;oBACxB,OAAO;gBACT;gBACA,OAAO,OAAO;YAChB;QACF,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAc;QAAa;KAAI;IAEnC,MAAM,gBAAgB;QACpB,MAAM,UAAU,KAAK,GAAG,KAAK,kBAAkB;QAC/C,aAAa,OAAO,CAAC,KAAK,QAAQ,QAAQ;QAC1C,eAAe;QACf,gBAAgB;IAClB;IAEA,OAAO;QAAE;QAAc;QAAa;IAAc;AACpD","debugId":null}},
    {"offset": {"line": 1443, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/track-detail/UpdateRecordsButton.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Button } from \"@heroui/react\";\nimport { FaSync } from \"react-icons/fa\";\nimport { trackService } from \"@/services/track.service\";\nimport { useCooldown } from \"@/hooks/useCooldown\";\nimport { formatSecondsToMMSS } from \"@/utils/time.utils\";\n\ninterface UpdateRecordsButtonProps {\n  trackId: string;\n  playerId: string;\n  onSuccess?: () => void;\n}\n\nexport function UpdateRecordsButton({ \n  trackId, \n  playerId,\n  onSuccess \n}: UpdateRecordsButtonProps) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n  \n  const cooldownKey = `record-update-cooldown-${trackId}-${playerId}`;\n  const { isOnCooldown, secondsLeft, startCooldown } = useCooldown(cooldownKey, 300);\n\n  const handleUpdate = async () => {\n    setIsLoading(true);\n    setMessage(null);\n\n    try {\n      await trackService.fetchPlayerRecords(trackId, playerId);\n      startCooldown();\n      setMessage({ \n        type: 'success', \n        text: 'Records updated successfully!' \n      });\n      \n      setTimeout(() => setMessage(null), 3000);\n      \n      onSuccess?.();\n    } catch (error) {\n      console.error(\"Error fetching records:\", error);\n      setMessage({ \n        type: 'error', \n        text: 'Failed to update records. Please try again.' \n      });\n      \n      setTimeout(() => setMessage(null), 5000);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-2\">\n      <Button\n        onPress={handleUpdate}\n        isLoading={isLoading}\n        isDisabled={isOnCooldown}\n        color=\"primary\"\n        variant=\"flat\"\n        startContent={!isLoading && <FaSync className={isOnCooldown ? \"\" : \"w-4 h-4\"} />}\n        className=\"bg-blue-500/20 text-blue-400 border border-blue-500/50 hover:bg-blue-500/30\"\n      >\n        {isOnCooldown \n          ? `${formatSecondsToMMSS(secondsLeft)}`\n          : isLoading \n            ? 'Updating...' \n            : 'Update My Record'\n        }\n      </Button>\n\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQO,SAAS,oBAAoB,EAClC,OAAO,EACP,QAAQ,EACR,SAAS,EACgB;IACzB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAsD;IAE3F,MAAM,cAAc,CAAC,uBAAuB,EAAE,QAAQ,CAAC,EAAE,UAAU;IACnE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,2HAAA,CAAA,cAAW,AAAD,EAAE,aAAa;IAE9E,MAAM,eAAe;QACnB,aAAa;QACb,WAAW;QAEX,IAAI;YACF,MAAM,mIAAA,CAAA,eAAY,CAAC,kBAAkB,CAAC,SAAS;YAC/C;YACA,WAAW;gBACT,MAAM;gBACN,MAAM;YACR;YAEA,WAAW,IAAM,WAAW,OAAO;YAEnC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,WAAW;gBACT,MAAM;gBACN,MAAM;YACR;YAEA,WAAW,IAAM,WAAW,OAAO;QACrC,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,4MAAA,CAAA,SAAM;YACL,SAAS;YACT,WAAW;YACX,YAAY;YACZ,OAAM;YACN,SAAQ;YACR,cAAc,CAAC,2BAAa,8OAAC,8IAAA,CAAA,SAAM;gBAAC,WAAW,eAAe,KAAK;;;;;;YACnE,WAAU;sBAET,eACG,GAAG,CAAA,GAAA,6HAAA,CAAA,sBAAmB,AAAD,EAAE,cAAc,GACrC,YACE,gBACA;;;;;;;;;;;AAMd","debugId":null}},
    {"offset": {"line": 1520, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/_components/track-detail/TrackLeaderboard.tsx"],"sourcesContent":["// components/track-detail/TrackLeaderboard.tsx\nimport { Card, CardBody } from \"@heroui/react\";\nimport { FaDatabase } from \"react-icons/fa\";\nimport RecordsTable from \"@/app/_components/RecordsTable\";\nimport { Record } from \"@/types/mappack.types\";\nimport RequireRole from \"../RequireRole\";\nimport { UpdateRecordsButton } from \"./UpdateRecordsButton\";\nimport { useAuth } from \"@/contexts/AuthContext\";\n\ninterface TimeGoal {\n  name: string;\n  time: number;\n}\n\ninterface TrackLeaderboardProps {\n  records: Record[];\n  timeGoals: TimeGoal[];\n  trackId: string;\n}\n\nexport function TrackLeaderboard({ records, timeGoals, trackId }: TrackLeaderboardProps) {\n    const { user } = useAuth();\n  \n  return (\n    <Card className=\"bg-neutral-90 border border-blue-500/30\">\n      <CardBody className=\"p-6\">\n        <div className=\"flex items-center gap-3 mb-6\">\n          <FaDatabase className=\"w-6 h-6 text-blue-500/70\" />\n          <h3 className=\"text-3xl font-ruigslay font-bold\">Leaderboard</h3>\n      <RequireRole role=\"admin\">\n        <UpdateRecordsButton \n          trackId={trackId || \"\"} \n          playerId={user?.id || \"\"} \n          onSuccess={() => window.location.reload()}\n        />\n      </RequireRole>\n        </div>\n        <RecordsTable records={records} timeGoals={timeGoals} />\n      </CardBody>\n    </Card>\n  );\n}"],"names":[],"mappings":"AAAA,+CAA+C;;;;;AAC/C;AAAA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;AAaO,SAAS,iBAAiB,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,EAAyB;IACnF,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAEzB,qBACE,8OAAC,sMAAA,CAAA,OAAI;QAAC,WAAU;kBACd,cAAA,8OAAC,+MAAA,CAAA,WAAQ;YAAC,WAAU;;8BAClB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,8IAAA,CAAA,aAAU;4BAAC,WAAU;;;;;;sCACtB,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACrD,8OAAC,yIAAA,CAAA,UAAW;4BAAC,MAAK;sCAChB,cAAA,8OAAC,oKAAA,CAAA,sBAAmB;gCAClB,SAAS,WAAW;gCACpB,UAAU,MAAM,MAAM;gCACtB,WAAW,IAAM,OAAO,QAAQ,CAAC,MAAM;;;;;;;;;;;;;;;;;8BAIzC,8OAAC,0IAAA,CAAA,UAAY;oBAAC,SAAS;oBAAS,WAAW;;;;;;;;;;;;;;;;;AAInD","debugId":null}},
    {"offset": {"line": 1610, "column": 0}, "map": {"version":3,"sources":["file:///root/projects/pvm/pvm-frontend/src/app/mappacks/%5Bmappack%5D/%5Btrack%5D/page.tsx"],"sourcesContent":["\"use client\";\nimport { use } from \"react\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { useTrackDetails } from \"@/hooks/useTrackDetails\";\nimport { TrackHero } from \"@/app/_components/track-detail/TrackHero\";\nimport { TrackInfoCard } from \"@/app/_components/track-detail/TrackInfoCard\";\nimport { TrackStatsGrid } from \"@/app/_components/track-detail/TrackStatsGrid\";\nimport { TrackTimeGoals } from\"@/app/_components/track-detail/TrackTimeGoals\";\nimport { TrackLeaderboard } from \"@/app/_components/track-detail/TrackLeaderboard\";\nimport { UpdateRecordsButton } from \"@/app/_components/track-detail/UpdateRecordsButton\";\nimport RequireRole from \"@/app/_components/RequireRole\";\n\nexport default function TrackPage({\n  params,\n}: {\n  params: Promise<{ mappack: string; track: string }>;\n}) {\n  const { mappack, track: trackId } = use(params);\n  const { user } = useAuth();\n  const { track, loading, error } = useTrackDetails(mappack, trackId, user?.id);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-2xl font-ruigslay text-white/70 animate-pulse\">\n          Loading...\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !track) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-2xl font-ruigslay text-red-500\">\n          Track not found\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-[90rem] mx-auto px-4 py-8\">\n      {/* Hero Section */}\n      <div className=\"grid lg:grid-cols-[500px_1fr] gap-6 mb-8\">\n        <TrackHero\n          thumbnailUrl={track.thumbnailUrl}\n          dominantColor={track.dominantColor}\n        />\n\n        <div className=\"flex flex-col gap-6\">\n          <TrackInfoCard\n            name={track.name}\n            authorName={track.author}\n            dominantColor={track.dominantColor}\n          />\n\n          <TrackStatsGrid\n            tier={track.tier}\n            recordsCount={track.records?.length || 0}\n            dominantColor={track.dominantColor}\n          />\n\n          <TrackTimeGoals timeGoals={track.timegoals} personalBest={track.personalBest} />\n\n        </div>\n      </div>\n\n      {/* Leaderboard Section */}\n      <TrackLeaderboard \n        records={track.records} \n        timeGoals={track.timegoals}\n        trackId={track.id}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;;AAYe,SAAS,UAAU,EAChC,MAAM,EAGP;IACC,MAAM,EAAE,OAAO,EAAE,OAAO,OAAO,EAAE,GAAG,CAAA,GAAA,qMAAA,CAAA,MAAG,AAAD,EAAE;IACxC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,kBAAe,AAAD,EAAE,SAAS,SAAS,MAAM;IAE1E,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAqD;;;;;;;;;;;IAK1E;IAEA,IAAI,SAAS,CAAC,OAAO;QACnB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAsC;;;;;;;;;;;IAK3D;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0JAAA,CAAA,YAAS;wBACR,cAAc,MAAM,YAAY;wBAChC,eAAe,MAAM,aAAa;;;;;;kCAGpC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,8JAAA,CAAA,gBAAa;gCACZ,MAAM,MAAM,IAAI;gCAChB,YAAY,MAAM,MAAM;gCACxB,eAAe,MAAM,aAAa;;;;;;0CAGpC,8OAAC,+JAAA,CAAA,iBAAc;gCACb,MAAM,MAAM,IAAI;gCAChB,cAAc,MAAM,OAAO,EAAE,UAAU;gCACvC,eAAe,MAAM,aAAa;;;;;;0CAGpC,8OAAC,+JAAA,CAAA,iBAAc;gCAAC,WAAW,MAAM,SAAS;gCAAE,cAAc,MAAM,YAAY;;;;;;;;;;;;;;;;;;0BAMhF,8OAAC,iKAAA,CAAA,mBAAgB;gBACf,SAAS,MAAM,OAAO;gBACtB,WAAW,MAAM,SAAS;gBAC1B,SAAS,MAAM,EAAE;;;;;;;;;;;;AAIzB","debugId":null}}]
}